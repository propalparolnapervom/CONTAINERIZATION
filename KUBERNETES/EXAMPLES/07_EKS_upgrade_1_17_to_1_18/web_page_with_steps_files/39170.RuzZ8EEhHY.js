(self._cf=self._cf||[]).push([[39170],{39170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NudgeFixer:()=>C,CreateComponent:()=>N});var a=n(202784),o=n(644484),r=n(556853),l=n(866380),c=n(639409),i=n(367450),u=n(830691),s=n(621598),d=n(364604),p=n(369274),g=n(248839),E=n(412470),f=n(592606),m=n(609116),v=n(609206),b=n(817240),y=n(483775),h=n(479537),T=n(674632);const C=E.default.div`
  & > div > span {
    display: inline-block;
  }
`,k=E.default.span`
  font-size: 11px;
  line-height: 14px;
  font-weight: 600;
`,N=()=>{const{setQueryParams:e,match:t}=(0,a.useContext)(c.M),{completeCurrentTask:n}=(0,v.G)(),{featureFlagClient:E}=(0,i.D)(),N=(0,o.r)((()=>{}),{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"create",attributes:{selectedItemPageContext:t?t.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:g.Om.START_TOUCH}}}),{isNudgeTriggerEnabled:_}=(0,b.G)(),P=f.RG[f.bA],I=(0,p.EN)(E)?()=>{N();const t=(0,p.GZ)(!0);e(t),_&&n(P)}:()=>{N(),e({createDialog:!0}),_&&n(P)};return a.createElement(h.NR,{"data-testid":"app-navigation-create"},a.createElement(r.Z,{name:"nav-create"},a.createElement(y.a,{position:"bottom-start",offset:[8,8],heading:_?a.createElement(u._H,{id:"app-navigation.create-button-nudge-tooltip-qs-sync-heading",defaultMessage:"Create a page",description:"quickstart nudge-sync tooltip heading for top nav create button"}):null,actionsBeforeElement:_?a.createElement(k,null,a.createElement(u._H,{id:"app-navigation.create-button-nudge-tooltip-qs-sync-footer",defaultMessage:"Press “c” to create a page at any time.",description:"quickstart nudge-sync tooltip footer for top nav create button"})):null,tooltip:_?a.createElement(u._H,{id:"app-navigation.create-button-nudge-tooltip-qs-sync",defaultMessage:"You can create a blank page or use templates to quickly build anything.",description:"quickstart nudge-sync tooltip for top nav create button"}):a.createElement(u._H,{id:"app-navigation.create-button-nudge-tooltip",defaultMessage:"Create a new page from anywhere in Confluence to capture your next great idea.",description:"nudge tooltip for top nav create button"}),width:280,wrapper:C,source:_?m.Fv:m.JV,autoShowTooltip:_,renderChildrenWhileLoading:!0},(e=>e?a.createElement(T.X,{onClick:I}):a.createElement(l.Z,{content:a.createElement(s.oW,{shortcut:"c"})},a.createElement(T.X,{onClick:I}))))),a.createElement(d.P,{accelerator:"c",listener:I}))};N.displayName="CreateComponent"},369274:(e,t,n)=>{"use strict";n.d(t,{cl:()=>s,Wh:()=>d,GZ:()=>p,EN:()=>g,bd:()=>E,an:()=>f,DZ:()=>m,kE:()=>v});var a=n(159394),o=n(900883),r=n(494775),l=n(41103);const c="createBlankFabricPage",i="parentPageId",u="spaceKey",s=e=>{const t=e[c];return"string"==typeof t?"true"===t:!!t},d=e=>{const t={};return e[i]&&(t.parentPageId=e[i]),e[u]&&(t.spaceKey=e[u]),t},p=(e,t={})=>({[c]:e||null,[i]:t.parentPageId||null,[u]:t.spaceKey||null}),g=e=>(e=>{const t=e.getBooleanValue("confluence.frontend.fabric.editor.blank.page",{default:!1,shouldTrackExposureEvent:!1}),n=e.getBooleanValue("confluence.frontend.fabric.editor.all-pages",{default:!1,shouldTrackExposureEvent:!1});return t||n})(e)&&(0,l.WK)(e),E=(e,t)=>{var n,a,o;if((null!=(o=e)&&null!=(o=o.content)&&null!=(o=o.nodes)&&null!=(o=o[0])&&null!=(o=o.space)?o.key:o)!==t)return!1;if("page"!==(null!=(a=e)&&null!=(a=a.content)&&null!=(a=a.nodes)&&null!=(a=a[0])?a.type:a))return!1;const r=null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])?n.operations:n;return!!(r&&r.find((e=>"page"===e.targetType&&"create"===e.operation)))},f=(e,t)=>({value:e||t,usedOverride:!!e}),m=(e,t)=>{const n=o.parse(e,!0);return o.format((0,a.Z)((0,a.Z)({},n),{},{search:void 0,query:(0,a.Z)((0,a.Z)({},n.query),t)}))},v=e=>{if(!e)throw new Error("No url for new content");return e.startsWith(r.b)?e:`${r.b}${e}`}},41103:(e,t,n)=>{"use strict";n.d(t,{WK:()=>o});let a;!function(e){e.NOT_ENROLLED="not-enrolled",e.IN_EDITOR_TEMPLATES_EXPERIENCE="in-editor-templates-experience",e.DEFAULT_TEMPLATES_EXPERIENCE="default-templates-experience"}(a||(a={}));const o=e=>e.getVariantValue("confluence.frontend.in-editor-templates.phase-1",{default:a.NOT_ENROLLED,oneOf:Object.values(a),shouldTrackExposureEvent:!0})===a.IN_EDITOR_TEMPLATES_EXPERIENCE}}]);
//# sourceMappingURL=39170.RuzZ8EEhHY.js.map