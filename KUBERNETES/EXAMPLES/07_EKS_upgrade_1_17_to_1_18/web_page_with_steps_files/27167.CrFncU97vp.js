(self._cf=self._cf||[]).push([[27167],{799513:(e,t,r)=>{"use strict";r.d(t,{H:()=>f});var n=r(202784),a=r(984116),o=r(639409),s=r(629897),i=r(788690),c=r(391528),l=r(717821),u=r(526973),d=r(933372);const m=(0,n.memo)((({customData:e={},stopTime:t,onComplete:r})=>{const{match:a}=(0,n.useContext)(o.M),i=(0,l.w)(a&&a.name);return(0,n.useEffect)((()=>{if(e.previousRoute=u.x.previousRoute,e.pageLoadInfo=(0,c.aX)(),i){"number"!=typeof t&&performance.mark("browser-metric.end"),Object.entries((0,s.x)()).forEach((([e,t])=>i.mark(e.replace("CFP-63.",""),t)));const r=t?{customData:e,stopTime:t}:{customData:e};i.stop(r),(0,d.N)()}r()}),[r,i]),null})),f=(0,n.memo)((({customData:e,stopTime:t})=>n.createElement(a.xs,{to:[i.E]},(r=>n.createElement(m,{customData:e,stopTime:t,onComplete:r.finish})))))},125456:(e,t,r)=>{"use strict";r.d(t,{W:()=>y});var n=r(202784),a=r(213980),o=r.n(a),s=r(984116),i=r(367450),c=r(788690),l=r(639409),u=r(307679),d=r(159394),m=r(275392),f=r(840735),p=r(36200),b=r(389027),h=r(592756);var E=r(629897),k=r(331227);const g=(0,n.memo)((({shard:e,featureFlags:t,fallback:r,fabric:a,customAttributes:o,progressBar:s,taskName:i,routeName:c})=>((0,n.useEffect)((()=>{!async function({shard:e=null,featureFlags:t={},fallback:r=!1,fabric:n=!1,customAttributes:a={},progressBar:o=null,taskName:s=null,routeName:i=null}){const c=(0,p.j)("APDEX");if(!k.bO.startedTask)return;const{tasks:l,taskId:u}=k.bO.startedTask,g=s&&l.indexOf(s)||0,y=l[g];if(y&&!(k.bO.stoppedTasks&&k.bO.stoppedTasks.indexOf(y)>-1)){if((0,k.lT)({stoppedTasks:[...k.bO.stoppedTasks,y]}),window.__MODULE_USAGES){const e=performance.now();window.__MODULE_USAGES_APDEX=window.__MODULE_USAGES.filter((t=>t.t<=e))}try{performance.mark("readyForUser.end"),performance.measure("readyForUser",k.bO.transitionId?"readyForUser.start":void 0,"readyForUser.end");const s=performance.getEntriesByName("readyForUser"),l=s.length&&s[s.length-1].duration,p=await(0,m.getAnalyticsWebClient)(),g=(0,d.Z)((0,d.Z)({},a),{},{shard:e,transitionId:k.bO.transitionId,fallback:r,fabric:n,buildInfo:(0,h.J)(),deviceInfo:{networkEffectiveType:navigator.connection&&navigator.connection.effectiveType,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory},rfuDuration:l,route:i,featureFlags:Object.entries(t).reduce(((e,[t,r])=>(r&&(e[t]=r),e)),{})});if(g.cfp63Durations=(0,E.x)(),0===k.bO.transitionId){const e=window.performance.getEntriesByType("navigation");e.length&&null!=e[0].transferSize&&(g.pageLoadedFromCache=0===e[0].transferSize),g.sw=window.APDEX_ATTRIBUTES_FROM_SW||{},g.ssr=Boolean(window.__SSR_RENDERED__),g.ssrTraceId=window.__SSR_TRACE_ID__||null,g.ssrDurations=window.__SSR_MEASURES__||{};const t=performance.getEntriesByName("readyForUser.end"),r=t.length>0?t[0].startTime:0;g.cacheStatus=(0,f.v)(r)}o&&o.finish(),performance.mark("rfuStopApdexEvent");const T=k.bO.previousTask?k.bO.previousTask.tasks:null;c.log`previous task ${T}`,p.stopApdexEvent({task:y,previousTask:T,taskId:u,type:0===k.bO.transitionId?"initialLoad":"transition",additionalAttributes:g},(({attributes:{duration:e,type:t,ssr:r}})=>{let n;n=r?"ssr":"initialLoad"===t?"initial":"transition",(0,b.U)().submitPerformanceMetric("apdex",e,[`renderFrom:${n}`])}))}catch(T){}}}({shard:e,featureFlags:t,fallback:r,fabric:a,customAttributes:o,progressBar:s,taskName:i,routeName:c})})),null)));g.propTypes={shard:o().string,featureFlags:o().object,fallback:o().bool,fabric:o().bool,customAttributes:o().object,progressBar:o().object,taskName:o().string};const y=(0,n.memo)((({fallback:e,fabric:t,customAttributes:r,taskName:a})=>{const{match:o}=(0,n.useContext)(l.M),{shard:d,featureFlags:m}=(0,i.D)();return m&&m[u.N]?null:n.createElement(s.xs,{to:[c.E]},(s=>n.createElement(g,{shard:d,featureFlags:m,fallback:e,fabric:t,customAttributes:r,progressBar:s,taskName:a,routeName:o&&o.name})))}))},504274:(e,t,r)=>{"use strict";r.d(t,{y:()=>u});var n=r(202784),a=r(984116),o=r(669021),s=r(639409);var i=r(423883);const c=({anchorContainer:e,scrollCorrectionPixels:t})=>{const{setHash:r}=(0,n.useContext)(s.M),a=(0,n.useCallback)((n=>{if(!e.current)return;if(n.defaultPrevented)return;const a=function(e,t=document){if(!e)return null;if(0!==e.button)return null;if("click"!==e.type)return null;if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return null;const{target:r}=e,n=r?r.closest:null,a=(n?n.call(r,"A"):null)||r;if(!(a instanceof HTMLAnchorElement))return null;if(a.target&&"_self"!==a.target)return null;if(!a.hash)return null;const o=a.ownerDocument;if(!o||o!==document)return null;if(o.location.origin+o.location.pathname!==a.origin+a.pathname)return null;const s=decodeURI(a.hash.substr(1)),i=document.getElementById(s);return null==i?null:t.contains(i)?{anchorElement:i,hash:s}:null}(n,e.current);if(a){const{anchorElement:e,hash:o}=a;n.preventDefault(),(0,i.kI)(e,t),r(o)}}),[e,t,r]);(0,n.useEffect)((()=>(window.addEventListener("click",a),()=>{window.removeEventListener("click",a)})),[a])},l=({anchorContainer:e,topOffset:t})=>(c({anchorContainer:e,scrollCorrectionPixels:-t}),null),u=({anchorContainer:e})=>n.createElement(a.xs,{to:[o.S]},(t=>n.createElement(l,{anchorContainer:e,topOffset:t.getTotalHeight()})));u.displayName="ScrollToHashLinkHandler",u.displayName="ScrollToHashLinkHandler"},423883:(e,t,r)=>{"use strict";r.d(t,{rN:()=>o,nK:()=>i,kI:()=>c});const n=(0,r(36200).j)("scroll-to-element"),a=new Set;function o(e){return a.add(e),()=>a.delete(e)}function s(){a.forEach((e=>{try{e()}catch(t){Promise.all([r.e(91828).then(r.bind(r,991828)),r.e(35074).then(r.bind(r,535074))]).then((([{getMonitoringClient:e},{Attribution:r}])=>{e().submitError(t,{attribution:r.CONTENT_EXPERIENCE})})).catch((()=>{}))}}))}function i(){s(),window.scrollTo(0,0)}function c(e,t){let r=0,a=e.offsetParent;for(;a instanceof HTMLElement;)r+=a.offsetTop,a=a.offsetParent;const o=e.offsetTop+(t||0)+r;s();try{window.scroll({top:o,behavior:"auto"})}catch(i){n.error`window.scroll() is not supported`}}},506706:(e,t,r)=>{"use strict";r.d(t,{m:()=>k});var n=r(202784),a=r(799513),o=r(125456),s=r(491735),i=r(315783),c=r(235748),l=r(557098),u=r(51681),d=r(639409),m=r(331227);const f=e=>e.length&&e[e.length-1].duration,p=({startMark:e,endMark:t,measureName:r})=>{let n;if(performance.getEntriesByName(t).length>0){performance.measure(r,e,t);const a=performance.getEntriesByName(r);n=f(a)}return n>0?Math.round(n):void 0},b=(0,n.memo)((({contentId:e,fabric:t,isNextRendered:r})=>{const{createAnalyticsEvent:a}=(0,u._)(),{match:o}=(0,n.useContext)(d.M),s=(0,i.TW)("confluence.frontend.pollinator.synthetic.check.tenants");return(0,n.useEffect)((()=>{const n=setTimeout((()=>{const n=(0,m.yR)()?void 0:"readyForUser.start",i=performance.getEntriesByName("readyForUser"),c=f(i);let l;t&&(l=p({startMark:n,endMark:"Renderer Render Time::end",measureName:"rendererRendered"}));const u=p({startMark:n,endMark:"browser-metric.end",measureName:"browserMetric"}),d=p({startMark:n,endMark:"rfuStopApdexEvent",measureName:"rfuStopApdexEventMeasure"});a({type:"sendOperationalEvent",data:{action:"rendered",actionSubject:"viewContent",source:"viewContent",attributes:{loadType:(0,m.yR)()?"Initial":"Transition",contentId:e,fabric:t,isPollinator:s,isNextRendered:r,rfuDuration:c,akRenderDuration:l,bmDuration:u,reportedRFUDuration:d,route:o&&o.name}}}).fire()}),2e3);return()=>{clearTimeout(n)}})),null}));var h=r(410665);const E=new Set,k=({fabric:e,fallback:t,contentId:r})=>{const{isNextRendered:u}=(0,n.useContext)(s.z),d=(0,i.TW)("confluence.frontend.omit-cleaning-up-renderer-rendered-end-mark"),{hasRendererRendered:m,markPageLoad:f,pageLoadStopTime:p}=(0,n.useContext)(h.x),k="number"==typeof p,g=(0,n.useRef)(E.has(r)).current;(0,n.useEffect)((()=>{E.add(r)}),[r]),(0,n.useEffect)((()=>{e&&f()}),[e,f]);const y=!e||k&&m;return n.createElement(n.Fragment,null,n.createElement(o.W,{fabric:e,fallback:t,customAttributes:{contentId:r,isNextRendered:u,loadedFromCache:g}}),y?n.createElement(a.H,{customData:{contentId:r,fallback:t,fabric:e,isNextRendered:u,loadedFromCache:g},stopTime:p}):null,d&&n.createElement(b,{contentId:r,fabric:e,isNextRendered:u}),n.createElement(c.F,{name:l.q.VIEW_CONTENT}))};k.displayName="PerformanceMetrics"},410665:(e,t,r)=>{"use strict";r.d(t,{x:()=>l,j:()=>u});var n=r(159394),a=r(202784),o=r(914957),s=r(717821),i=r(639409),c=r(391528);const l=(0,a.createContext)({hasRendererRendered:!1,pageLoadStopTime:null,markPageLoad:()=>{}}),u=({children:e})=>{const[t,r]=(0,a.useState)(null),[u,d]=(0,a.useState)(!1),{match:m}=(0,a.useContext)(i.M),f=(0,s.w)(m&&m.name),p=(0,a.useCallback)((e=>{if(f&&"rendered"===e.payload.action&&"renderer"===e.payload.actionSubject){e.update((e=>(0,n.Z)((0,n.Z)({},e),{},{attributes:(0,n.Z)((0,n.Z)({},e.attributes),{},{pageLoadInfo:(0,c.aX)()})})));const t=performance.getEntriesByName("Renderer Render Time::end"),r=t[t.length-1];f.mark("rendererRendered",r?r.startTime:void 0),d(!0)}}),[f,d]),b=(0,a.useCallback)((()=>{f&&"number"!=typeof t&&(performance.mark("browser-metric.end"),r(performance.now()))}),[f,t,r]),h=(0,a.useMemo)((()=>({hasRendererRendered:u,pageLoadStopTime:t,markPageLoad:b})),[t,u,b]);return a.createElement(l.Provider,{value:h},a.createElement(o.Z,{channel:"editor",onEvent:p},e))};u.displayName="RendererTTIMarker"}}]);
//# sourceMappingURL=27167.CrFncU97vp.js.map