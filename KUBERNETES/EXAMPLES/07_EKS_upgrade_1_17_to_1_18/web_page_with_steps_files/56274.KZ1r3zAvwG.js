(self._cf=self._cf||[]).push([[56274],{629994:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(264659),a=n(904730),i=n(750591),o=n(575630),c=n(175663),u=n(202784),s=function(t){function e(){return(0,r.Z)(this,e),(0,i.Z)(this,(0,o.Z)(e).apply(this,arguments))}return(0,c.Z)(e,t),(0,a.Z)(e,[{key:"render",value:function(){var t=this.props.html;return u.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}]),e}(u.PureComponent)},493566:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});var r=n(607560),a=n(806560),i=n(264659),o=n(904730),c=n(750591),u=n(575630),s=n(673989),l=n(175663),p=n(151119),f=n(202784),d=n(34946);const y=function(t){var e=function(e){function n(){var t,e;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=(0,c.Z)(this,(t=(0,u.Z)(n)).call.apply(t,[this].concat(a))),(0,p.Z)((0,s.Z)(e),"fireClickEvent",(function(t){e.fireEvent("click",{clickType:t})})),e}return(0,l.Z)(n,e),(0,o.Z)(n,[{key:"componentWillMount",value:function(){this.fireEvent("shown")}},{key:"componentWillUnmount",value:function(){this.fireEvent("hidden")}},{key:"fireEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.createAnalyticsEvent,i=n.messageId,o=n.variationId,c=n.componentId,u=r((0,a.Z)({action:t},e));u.update({ekMessageId:i,ekVariationId:o,ekComponentId:c}),u.fire("engagement")}},{key:"render",value:function(){return f.createElement(t,(0,r.Z)({},this.props,{fireClickEvent:this.fireClickEvent}))}}]),n}(f.Component);return(0,d.Z)()(e)}},444976:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var r=n(607560),a=n(264659),i=n(904730),o=n(750591),c=n(575630),u=n(673989),s=n(175663),l=n(151119),p=n(806560),f=n(202784),d=n(213980),y=n.n(d);const m=function(t,e){function n(t){var n=t.current;if(n&&function(t){return t.componentType===e}(n)){var r;switch(n.componentType){case"mobileDialog":r=(0,p.Z)({},n,{aaid:t.config.aaid});break;case"contextualSurvey":r=(0,p.Z)({},n,{aaid:t.config.aaid,cloudId:t.config.cloudId,stargateUrl:t.config.stargateUrl,gasUrl:t.config.gasUrl,product:t.config.product});break;default:r=n}return{message:r}}return{message:null}}var d=function(p){function d(){var t,e;(0,a.Z)(this,d);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=(0,o.Z)(this,(t=(0,c.Z)(d)).call.apply(t,[this].concat(i))),(0,l.Z)((0,u.Z)(e),"state",{message:null}),(0,l.Z)((0,u.Z)(e),"onStoreChange",(function(t){e.setState(n(t))})),(0,l.Z)((0,u.Z)(e),"unsubscribe",void 0),e}return(0,s.Z)(d,p),(0,i.Z)(d,[{key:"componentWillMount",value:function(){this.canSubscribe()&&(this.unsubscribe=this.subscribeToStore())}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"canSubscribe",value:function(){return this.context&&this.context.subscribeEngagementState}},{key:"subscribeToStore",value:function(){return this.context.subscribeEngagementState(this.onStoreChange)}},{key:"render",value:function(){var n=this.props,a=n.children,i=n.engagementId,o=this.state.message;if(!o)return"inlineDialog"===e&&a||null;if(i&&o.target&&i!==o.target)return null;var c="".concat(o.messageId,".").concat(o.variationId,".").concat(o.componentId);return f.createElement(t,(0,r.Z)({key:c},this.props,o))}}]),d}(f.Component);return(0,l.Z)(d,"contextTypes",{subscribeEngagementState:y().func}),d}},156274:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>j});var r=n(202784),a=n(444461),i=n(264659),o=n(904730),c=n(750591),u=n(575630),s=n(175663),l=n(151119),p=n(334291),f=n.n(p),d=n(702469),y=n(629994),m=n(118521),h=function(t){function e(){return(0,i.Z)(this,e),(0,c.Z)(this,(0,u.Z)(e).apply(this,arguments))}return(0,s.Z)(e,t),(0,o.Z)(e,[{key:"getButtonClickHandler",value:function(t,e){var n=this.props.fireClickEvent;switch(e.type){case m.l.LINK:return function(){n("".concat(t)),window.open(e.data.url,e.data.target)};default:return function(){n("".concat(t))}}}},{key:"getButtonActions",value:function(){var t=this.props,e=t.primaryAction,n=t.primaryText,r=t.secondaryAction,a=t.secondaryText,i=[];return r&&a&&i.push({onClick:this.getButtonClickHandler("secondary",r),text:a,appearance:r.appearance}),e&&n&&i.push({onClick:this.getButtonClickHandler("primary",e),text:n,appearance:e.appearance,autoFocus:!0}),i}},{key:"render",value:function(){var t=this.props,e=t.body,n=t.dialogPlacement,a=t.dialogWidth,i=t.title,o=t.image,c=t.pulse,u=t.target,s=t.targetBgColor,l=t.targetRadius;return r.createElement(d.Z,{actions:this.getButtonActions(),dialogPlacement:n,dialogWidth:a,heading:i,image:o,pulse:c,target:u,targetBgColor:s,targetRadius:l},r.createElement(y.Z,{html:e}))}}]),e}(r.Component);(0,l.Z)(h,"defaultProps",{fireClickEvent:f()});var g=n(493566),v=n(444976),Z=n(806560),b=n(454530);function k(t){return t[0]?t[0].length:0}var x=/({{{(((?!}}}).)+)}}})|({{(((?!}}).)+)}})/g;function E(t){var e,n,r;return{parts:(n=function(t,e){for(var n=[],r=e.exec(t);r;r=e.exec(t))n.push(r);return n}(e=t,x).reduce((function(t,n){var r=n.index||0,a=e.slice(t.currentPosition,r);return a&&t.result.push({type:"text",text:a}),t.result.push({type:"match",match:n}),{currentPosition:r+k(n),result:t.result}}),{currentPosition:0,result:[]}),(r=e.slice(n.currentPosition,e.length))&&n.result.push({type:"text",text:r}),n.result).map((function(t){return"text"===t.type?t:t.match[1]?{type:"unescaped",variableName:t.match[2]||""}:{type:"escaped",variableName:t.match[5]||""}}))}}function C(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39")}function I(t){return function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=null;return Object.keys(e)}(function(t){return t.parts.filter((function(t){return"escaped"===t.type||"unescaped"===t.type}))}(t).map((function(t){return t.variableName})))}function T(t,e,n){var r=I(t).filter((function(t){return!e[t]}));return r.length?{type:"error",errorType:"missing-variables-error",missingVariables:r}:{type:"success",result:n(t,e)}}function A(t,e,n){return t.parts.map((function(t){return"text"===t.type?t.text:"escaped"===t.type?n(e[t.variableName]):e[t.variableName]})).join("")}function S(t,e){return A(t,e,encodeURIComponent)}function U(t,e){return A(t,e,C)}function P(t,e){return function(t,e){return T(t,e,S)}(E(t),e)}function N(t,e){return function(t,e){return T(t,e,U)}(E(t),e)}function w(t,e){return(0,Z.Z)({},e,{data:e.data&&(0,Z.Z)({},e.data,{url:t})})}var B,W,M=(B=h,W=function(t){function e(){return(0,i.Z)(this,e),(0,c.Z)(this,(0,u.Z)(e).apply(this,arguments))}return(0,s.Z)(e,t),(0,o.Z)(e,[{key:"render",value:function(){var t=function(t){var e=t.variables,n=(0,b.Z)(t,["variables"]),r=t.title,a=t.body,i=t.primaryText,o=t.primaryAction,c=t.secondaryText,u=t.secondaryAction,s={title:r,body:a,primaryText:i,primaryActionUrl:o&&o.data&&o.data.url,secondaryText:c,secondaryActionUrl:u&&u.data&&u.data.url},l=function(t,e){for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var i=n[a],o=e[i];if(o){var c="primaryActionUrl"===i||"secondaryActionUrl"===i?P(o,t):N(o,t);if("error"===c.type)return null;r[i]=c.result}}return r}(e||{},s);if(!l)return null;var p=(0,Z.Z)({},n,{title:l.title,body:l.body,primaryText:l.primaryText,secondaryText:l.secondaryText});return o&&(p.primaryAction=w(l.primaryActionUrl,o)),u&&(p.secondaryAction=w(l.secondaryActionUrl,u)),p}(this.props);return t?r.createElement(B,t):null}}]),e}(r.Component),(0,l.Z)(W,"displayName","".concat(B.displayName||B.name||"","WithEPVariables")),W),H=(0,g.Z)(M),_=(0,v.Z)(H,"spotlight");function j(t){return r.createElement(a.Z,null,r.createElement(_,t))}},118521:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var r={LINK:"link",DISMISS:"dismiss"}}}]);
//# sourceMappingURL=56274.KZ1r3zAvwG.js.map