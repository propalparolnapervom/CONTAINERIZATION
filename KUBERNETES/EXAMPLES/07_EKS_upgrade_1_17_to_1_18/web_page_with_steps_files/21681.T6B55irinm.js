(self._cf=self._cf||[]).push([[21681],{281260:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},670417:(e,t,n)=>{var r=n(281260);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},353273:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(151119),a=n(159394),o=(n(213980),n(202784)),i=n(412470),s=n(896159);const l={small:12,medium:26,large:36},c=i.default.div([],(e=>(0,a.Z)({width:"100%",height:"100%",position:"relative"},e.style))),d=i.default.div`
  position: absolute;
  left: 50%;
  top: 50%;
  marginLeft: ${e=>e.marginLeft}px
  marginTop: ${e=>e.marginTop}px
  zIndex: 100
`;class u extends o.PureComponent{render(){const{style:e,size:t}=this.props;return o.createElement(c,{style:e,"data-test-id":"wrapper-spinner"},o.createElement(d,{"data-test-id":"spinner",marginLeft:-l[t]/2,marginTop:-l[t]/2},o.createElement(s.Z,{size:l[t]})))}}u.displayName="CenteredSpinner",(0,r.Z)(u,"displayName","CenteredSpinner"),(0,r.Z)(u,"defaultProps",{size:"small"})},781248:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(683591);const a={[r.X.DEFAULT]:"full-page",[r.X.FULL_WIDTH]:"full-width"},o=e=>{const t=a[e];return t||i()},i=()=>a[r.X.DEFAULT]},703730:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(230382),a=n.n(r),o=n(604919);const i=a()`query ContentRendererQuery($contentId:ID$status:[String]){content(id:$contentId status:$status){nodes{id body{atlas_doc_format{value}}space{id key}type ...contentAppearancePublishedFragment}}}${o.O}`},959731:(e,t,n)=>{"use strict";n.d(t,{R:()=>x});var r=n(159394),a=n(454530),o=n(547313),i=n(202784),s=n(286235),l=n(617050),c=n(703730),d=n(557098),u=n(772005),p=n(781248),m=n(35658),f=n(686882),g=n(180213),h=n(646354),y=n(164464);const v=(0,o.Z)("div",{target:"e1fn99i40"})(h.kU),b=(0,i.memo)((e=>{var t;let{appearance:n,contentId:o,contentType:f,getEventHandlers:g}=e,b=(0,a.Z)(e,["appearance","contentId","contentType","getEventHandlers"]);const[x,I]=(0,i.useState)(null),{data:E,error:w}=(0,s.aM)(c.V,{variables:{contentId:o,status:"inlineComment"!==f?["current"]:["current","draft"]},fetchPolicy:"cache-and-network",context:{single:!0}}),C=(0,i.useCallback)(((e,t)=>{let n=d.q.VIEW_INLINE_COMMENT_TOP_LEVEL;"inlineReply"===e&&(n=d.q.VIEW_INLINE_COMMENT_REPLY),(0,u.OV)().fail({name:n,error:t})}),[]);if(!o)return null;if(w)throw C(f,w),w;let P=null,Z=n;const A=null!=(t=E)&&null!=(t=t.content)&&null!=(t=t.nodes)?t[0]:t;try{var $;!Z&&A&&(Z=(0,p.Y)((0,m.uS)(A).appearance));const e=null!=($=E)&&null!=($=$.content)&&null!=($=$.nodes)&&null!=($=$[0])&&null!=($=$.body)&&null!=($=$.atlas_doc_format)?$.value:$;P=e?JSON.parse(e):null}catch(N){throw C(f,N),N}return i.createElement(v,{css:h.kU,ref:I,"data-test-appearance":Z},i.createElement(y.e,null,(({featureFlags:e})=>i.createElement(l.J,(0,r.Z)({appearance:Z,contentId:o,document:P,eventHandlers:g&&g(),featureFlags:e,portalRef:x,allowSelectAllTrap:!(null==e||!e["confluence.frontend.fabric.editor.select.all.trap"])},b)))))})),x=(0,f.Pf)({attribution:g.x.BACKBONE})(b)},958307:(e,t,n)=>{"use strict";var r=n(670417);function a(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(a,Error),a.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,a,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(a=e[t],n[a.type](a));if(o.sort(),o.length>0){for(t=1,r=1;t<o.length;t++)o[t-1]!==o[t]&&(o[r]=o[t],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:a,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={aqlStatement:0},s=0,l=[function(e,t){return{clause:e,orderby:t}},function(e){return e},"order by",g("ORDER BY",!0),function(e,t){return[e,...t]},",",g(",",!1),function(e){return e},function(e,t){return{field:e,direction:t}},"asc",g("ASC",!0),"desc",g("DESC",!0),function(e,t){return{nodeType:"clause",clauses:[e,...t],type:"or"}},"or",g("OR",!0),function(e,t){return{nodeType:"clause",clauses:[e,...t],type:"and"}},"and",g("AND",!0),function(e,t){return{nodeType:"clause",clause:t,invert:!!e}},function(e){return r({nodeType:"expr"},e)},"not ",g("NOT ",!0),"!",g("!",!1),function(e,t,n){return{field:e,op:t,value:n}},function(e,t,n){return{field:e,op:t,value:n}},"<",g("<",!1),">",g(">",!1),"~",g("~",!1),"!~",g("!~",!1),"in",g("IN",!0),function(e){return e?"NOT IN":"IN"},"=",g("=",!1),"!=",g("!=",!1),function(e,t){return[e,...t]},function(e){return e},">=",g(">=",!1),"<=",g("<=",!1),function(e){return Number.parseFloat(e)},"(",g("(",!1),")",g(")",!1),function(e,t){return`${e}(${(t||[]).join(",")})`},function(e,t){return[e,...t]},function(e){return e},"'",g("'",!1),"\\",g("\\",!1),'"',g('"',!1),".",g(".",!1),/^[^']/,h(["'"],!0,!1),function(e){return e.join("")},/^[^"]/,h(['"'],!0,!1),/^[0-9]/,h([["0","9"]],!1,!1),/^[\\\-]/,h(["\\","-"],!1,!1),function(e,t){return[e,...t]},/^[a-zA-Z_]/,h([["a","z"],["A","Z"],"_"],!1,!1),/^[a-zA-Z_0-9]/,h([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),function(e,t){return e+t},/^[eE]/,h(["e","E"],!1,!1),/^[\-+]/,h(["-","+"],!1,!1),/^[\t ]/,h(["\t"," "],!1,!1)],c=[I('%;&/7#;!." &"/)$8": ""! )("\'#&\'#'),I('%;U/1#;"/($8":!"! )("\'#&\'#'),I('%3"""5(7#/K#;U/B$;$/9$$;#0#*;#&/)$8$:$$"! )($\'#(#\'#("\'#&\'#'),I("%2%\"\"6%7&/:#;V/1$;$/($8#:'#! )(#'#(\"'#&'#"),I("%;M/;#;U/2$;%/)$8#:(#\"\" )(#'#(\"'#&'#"),I('3)""5#7*.) &3+""5$7,'),I("%;(/9#$;'0#*;'&/)$8\":-\"\"! )(\"'#&'#"),I("%;U/I#3.\"\"5\"7//:$;U/1$;(/($8$:'$! )($'#(#'#(\"'#&'#"),I('%;+/9#$;)0#*;)&/)$8":0""! )("\'#&\'#'),I("%;U/I#31\"\"5#72/:$;U/1$;*/($8$:'$! )($'#(#'#(\"'#&'#"),I('%;,." &"/2#;+/)$8":3""! )("\'#&\'#'),I("%;J/L#;V/C$;&/:$;V/1$;K/($8%:'%!\")(%'#($'#(#'#(\"'#&'#./ &%;-/' 8!:4!! )"),I('35""5$76.) &27""6778'),I(";..5 &;/./ &;1.) &;0.# &;2"),I("%;M/N#;V/E$;6/<$;V/3$;5/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),I("%;M/N#;V/E$;7/<$;V/3$;9/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#.X &%;M/N#;V/E$;8/<$;V/3$;=/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),I("%;M/N#;V/E$;>/<$;V/3$;3/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),I("%;M/N#;V/E$;>/<$;V/3$;4/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),I("%;M/\\#2;\"\"6;7</M$;M/D$2=\"\"6=7>/5$;A/,$;@/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),I(';?.* &%;C/"!&,)'),I('%;C/"!&,).# &;B'),I(";M.# &;C"),I('2?""6?7@.) &2A""6A7B'),I('%;,." &"/7#3C""5"7D/($8":E"!!)("\'#&\'#'),I('2F""6F7G.) &2H""6H7I'),I(";C.# &;:"),I("%;J/]#;V/T$;</K$$;;0#*;;&/;$;V/2$;K/)$8&:J&\"#\")(&'#(%'#($'#(#'#(\"'#&'#"),I("%2%\"\"6%7&/A#$;U0#*;U&/1$;</($8#:K#! )(#'#(\"'#&'#"),I(";C.# &;="),I(";C./ &;M.) &;P.# &;?"),I('2L""6L7M.Y &2N""6N7O.M &2=""6=7>.A &2;""6;7<.5 &2F""6F7G.) &2H""6H7I'),I("%;T/' 8!:P!! )"),I("%;7/:#;U.\" &\"/,$;9/#$+#)(#'#(\"'#&'#.¹ &%;8/:#;U.\" &\"/,$;=/#$+#)(#'#(\"'#&'#. &%;6/:#;U.\" &\"/,$;5/#$+#)(#'#(\"'#&'#.k &%;>/:#;U.\" &\"/,$;4/#$+#)(#'#(\"'#&'#.D &%;>/:#;U.\" &\"/,$;3/#$+#)(#'#(\"'#&'#"),I("%;I/,#;M/#$+\")(\"'#&'#"),I(";P.# &;M"),I("%;M/p#;V/g$2Q\"\"6Q7R/X$;V/O$;D.\" &\"/A$;V/8$2S\"\"6S7T/)$8':U'\"&\")(''#(&'#(%'#($'#(#'#(\"'#&'#"),I('%;=/9#$;E0#*;E&/)$8":V""! )("\'#&\'#'),I("%2%\"\"6%7&/:#;V/1$;=/($8#:W#! )(#'#(\"'#&'#"),I('2X""6X7Y'),I('2Z""6Z7['),I('2\\""6\\7]'),I('2^""6^7_'),I('2Q""6Q7R'),I('2S""6S7T'),I("%;G/,#;F/#$+\")(\"'#&'#.O &%;G/,#;G/#$+\")(\"'#&'#.6 &%;G/,#;H/#$+\")(\"'#&'#"),I('%;F/g#$%;L/"!&,).) &4`""5!7a06*%;L/"!&,).) &4`""5!7a&/1$;F/($8#:b#!!)(#\'#("\'#&\'#. &%;H/g#$%;L/"!&,).) &4c""5!7d06*%;L/"!&,).) &4c""5!7d&/1$;H/($8#:b#!!)(#\'#("\'#&\'#./ &%;Q/\' 8!:b!! )'),I('4e""5!7f'),I('%4g""5!7h/"!&,)'),I("%%;N/t#;N/k$;N/b$;N/Y$;O/P$;N/G$;N/>$;O/5$;N/,$;N/#$+*)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#/\"!&,)"),I('%;R/_#$%;I/,#;R/#$+")("\'#&\'#06*%;I/,#;R/#$+")("\'#&\'#&/)$8":i""! )("\'#&\'#'),I('%4j""5!7k/L#%$4l""5!7m0)*4l""5!7m&/"!&,)/)$8":n""! )("\'#&\'#'),I('$4e""5!7f/,#0)*4e""5!7f&&&#'),I('%;S/#%2^""6^7_/?#$4e""5!7f0)*4e""5!7f&/#$+")("\'#&\'#." &"/^$%4o""5!7p/@#4q""5!7r." &"/,$;S/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.} &%2^""6^7_/g#;S/^$%4o""5!7p/@#4q""5!7r." &"/,$;S/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.# &;S'),I('$4s""5!7t/,#0)*4s""5!7t&&&#'),I('$4s""5!7t0)*4s""5!7t&')],d=0,u=[{line:1,column:1}],p=0,m=[],f=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function g(e,t){return{type:"literal",text:e,ignoreCase:t}}function h(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function y(t){var n,r=u[t];if(r)return r;for(n=t-1;!u[n];)n--;for(r={line:(r=u[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return u[t]=r,r}function v(e,t){var n=y(e),r=y(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function b(e){d<p||(d>p&&(p=d,m=[]),m.push(e))}function x(e,t,n){return new a(a.buildMessage(e,t),e,t,n)}function I(e){var t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=e.charCodeAt(t)-32;return n}if((n=function t(n){for(var r,a,i=c[n],s=0,u=[],p=i.length,m=[],g=[];;){for(;s<p;)switch(i[s]){case 0:g.push(l[i[s+1]]),s+=2;break;case 1:g.push(void 0),s++;break;case 2:g.push(null),s++;break;case 3:g.push(o),s++;break;case 4:g.push([]),s++;break;case 5:g.push(d),s++;break;case 6:g.pop(),s++;break;case 7:d=g.pop(),s++;break;case 8:g.length-=i[s+1],s+=2;break;case 9:g.splice(-2,1),s++;break;case 10:g[g.length-2].push(g.pop()),s++;break;case 11:g.push(g.splice(g.length-i[s+1],i[s+1])),s+=2;break;case 12:g.push(e.substring(g.pop(),d)),s++;break;case 13:m.push(p),u.push(s+3+i[s+1]+i[s+2]),g[g.length-1]?(p=s+3+i[s+1],s+=3):(p=s+3+i[s+1]+i[s+2],s+=3+i[s+1]);break;case 14:m.push(p),u.push(s+3+i[s+1]+i[s+2]),g[g.length-1]===o?(p=s+3+i[s+1],s+=3):(p=s+3+i[s+1]+i[s+2],s+=3+i[s+1]);break;case 15:m.push(p),u.push(s+3+i[s+1]+i[s+2]),g[g.length-1]!==o?(p=s+3+i[s+1],s+=3):(p=s+3+i[s+1]+i[s+2],s+=3+i[s+1]);break;case 16:g[g.length-1]!==o?(m.push(p),u.push(s),p=s+2+i[s+1],s+=2):s+=2+i[s+1];break;case 17:m.push(p),u.push(s+3+i[s+1]+i[s+2]),e.length>d?(p=s+3+i[s+1],s+=3):(p=s+3+i[s+1]+i[s+2],s+=3+i[s+1]);break;case 18:m.push(p),u.push(s+4+i[s+2]+i[s+3]),e.substr(d,l[i[s+1]].length)===l[i[s+1]]?(p=s+4+i[s+2],s+=4):(p=s+4+i[s+2]+i[s+3],s+=4+i[s+2]);break;case 19:m.push(p),u.push(s+4+i[s+2]+i[s+3]),e.substr(d,l[i[s+1]].length).toLowerCase()===l[i[s+1]]?(p=s+4+i[s+2],s+=4):(p=s+4+i[s+2]+i[s+3],s+=4+i[s+2]);break;case 20:m.push(p),u.push(s+4+i[s+2]+i[s+3]),l[i[s+1]].test(e.charAt(d))?(p=s+4+i[s+2],s+=4):(p=s+4+i[s+2]+i[s+3],s+=4+i[s+2]);break;case 21:g.push(e.substr(d,i[s+1])),d+=i[s+1],s+=2;break;case 22:g.push(l[i[s+1]]),d+=l[i[s+1]].length,s+=2;break;case 23:g.push(o),0===f&&b(l[i[s+1]]),s+=2;break;case 24:g[g.length-1-i[s+1]],s+=2;break;case 25:d,s++;break;case 26:for(r=i.slice(s+4,s+4+i[s+3]),a=0;a<i[s+3];a++)r[a]=g[g.length-1-r[a]];g.splice(g.length-i[s+2],i[s+2],l[i[s+1]].apply(null,r)),s+=4+i[s+3];break;case 27:g.push(t(i[s+1])),s+=2;break;case 28:f++,s++;break;case 29:f--,s++;break;default:throw new Error("Invalid opcode: "+i[s]+".")}if(!(m.length>0))break;p=m.pop(),s=u.pop()}return g[0]}(s))!==o&&d===e.length)return n;throw n!==o&&d<e.length&&b({type:"end"}),x(m,p<e.length?e.charAt(p):null,p<e.length?v(p,p+1):v(p,p))}}},646354:(e,t,n)=>{"use strict";n.d(t,{WJ:()=>l,f$:()=>c,qk:()=>d,_G:()=>u,Lv:()=>p,ff:()=>m,s0:()=>f,LJ:()=>g,Nf:()=>h,tS:()=>y,xV:()=>v,kU:()=>b});var r=n(547313),a=n(847134),o=n(175612),i=n(100431);const s=(0,a.F4)({from:{transform:"translateX(280px)"},to:{transform:"translateX(0)"}}),l=(0,r.Z)("div",{target:"esiy4wf0"})("margin:10px;margin-top:",(({top:e})=>e),"px;margin-bottom:",(({bottom:e})=>e||0),"px;position:relative;border:1px solid #dfe1e6;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:width 200ms ease-in-out;width:",(({isActive:e})=>e?"320":"280"),"px;",(({isActive:e})=>e?"box-shadow: 0px 8px 12px rgba(9, 30, 66, 0.15), 0px 0px 1px rgba(9, 30, 66, 0.31);":`\n        cursor: pointer !important;\n\n        &:hover {\n          background-color: ${o.N20};\n        }\n      `)),c=(0,r.Z)("div",{target:"esiy4wf1"})("max-height:",(({isNewReply:e})=>e?"405px":"602px"),";overflow:auto;"),d=(0,r.Z)("span",{target:"esiy4wf2"})((({top:e=12,right:t=12,canHover:n=!1})=>`\n      position: absolute;\n      top: ${e}px;\n      right: ${t}px;\n      cursor: pointer;\n      z-index: 1;\n\n      span {\n        height: 20px;\n        width: 20px;\n      }\n\n      svg {\n        height: 20px;\n        width: 20px;\n      }\n\n      ${n&&`\n        & > span {\n          padding: 2px;\n          border-radius: 4px;\n\n          &:hover {\n            background-color: ${o.N30};\n          }\n        };`}\n    `)),u=(0,r.Z)("div",{target:"esiy4wf3"})((({mode:e,offset:t})=>({zIndex:"view"===e?11:500,border:"1px solid #dfe1e6",borderRadius:3,boxShadow:"0 8px 16px -4px rgba(9, 30, 66, 0.25)",backgroundColor:"#fff",right:12,position:"absolute",top:`${t}px`,display:"flex",flexDirection:"column",boxSizing:"border-box",marginBottom:100,width:280,animation:`${s} 0.15s ease-in-out`,animationFillMode:"forwards"}))),p=(0,r.Z)("div",{target:"esiy4wf4"})({display:"flex",flexDirection:"column",backgroundColor:`${o.N0}`,"> div[data-comment-id]":{borderTop:`1px solid ${o.N40}`}}),m=(0,r.Z)("div",{target:"esiy4wf5"})((({mode:e})=>({borderTop:`1px solid ${o.N40}`,padding:"view"===e?"12px 16px":"8px 12px",'[placeholder="Reply"]':{height:30,padding:4}}))),f=(0,r.Z)("div",{target:"esiy4wf6"})((e=>e.mixin),";"),g=(0,r.Z)("div",{target:"esiy4wf7"})("display:flex;padding:32px 0;align-items:center;flex-direction:column;& p{height:36px;width:205px;color:",o.N800,";font-size:12px;letter-spacing:0;line-height:18px;text-align:center;}& a{margin-top:12px;cursor:pointer;font-size:12px;letter-spacing:0;line-height:20px;text-align:center;}"),h=(0,r.Z)("div",{target:"esiy4wf8"})((e=>{if(!e.isReply)return`\n        padding: 12px;\n        border-bottom: 1px solid ${o.N40};\n      `})),y=(0,r.Z)("div",{target:"esiy4wf9"})("display:flex;> span:last-child{padding-left:10px;vertical-align:text-top;line-height:24px;color:",o.N90,";}"),v=(0,r.Z)(i.Z,{target:"esiy4wf10"})("background:none;border-radius:4px;height:22px;width:28px;svg{height:20px;width:20px;}&:hover{background-color:",o.N30,";}"),b=(0,a.iv)('div[mode="stick"]{z-index:1;background:#fff;}span{&.inline-highlight{cursor:pointer;background-color:rgba(255,240,179,0.5);border-bottom:2px solid rgba(255,196,0,0.82);&.active-highlight{background-color:',o.Y75,";border-bottom:2px solid ",o.Y300,";box-shadow:0 2px 2px ",o.N50,";}}&.inline-create-comment-selection{background-color:",o.Y75,";border-bottom:2px solid ",o.Y300,";box-shadow:0 2px 2px ",o.N50,";}}")},635407:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(315783),a=n(460445),o=n(145703);function i({attributes:e,children:t=null,contentId:n,extensionKey:i,mode:s,name:l,timeout:c}){const d=(0,r.TW)(o.Sx);return(0,a.K)((()=>{var t;d&&(0,o.SY)(s,n).start({attributes:e,name:l,timeout:c,id:(null!=(t=e)?t.macroId:t)||n})}),[e,n,i,d,s,l,c]),t}},180530:(e,t,n)=>{"use strict";n.d(t,{MU:()=>r,ax:()=>a,JJ:()=>o});const r="template.category.all",a="template.category.starred",o=(e,t)=>{const n={};for(const a of e)for(const e of a.categoryIds)e&&(n[e]||(n[e]=0),n[e]++);const r=[];for(const a of t){if(!a.id||!a.name)continue;const e=n[a.id];e&&r.push({id:a.id,name:a.name,count:e})}return r}},929300:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>i,UL:()=>s,E6:()=>l,Hk:()=>c,DZ:()=>d,Hp:()=>u,Ky:()=>p});var r=n(159394),a=n(536631),o=n(180530);const i="00000000-0000-0000-0000-000000000001",s=e=>e.blueprintModuleCompleteKey||e.templateId||e.itemModuleCompleteKey||"",l=e=>e.contentBlueprintId||e.templateId||"",c=(0,a.default)(((e,t)=>t===o.MU?e:e.filter((e=>e.categoryIds.includes(t))))),d=(e,t)=>{if(t){const r=(n=t,e=>{const t=n.toLowerCase(),r=e.name||"",a=e.description||"";return r.toLowerCase().includes(t)||a.toLowerCase().includes(t)});e=e.filter(r)}var n;return e},u=e=>e.blueprintModuleCompleteKey?{idType:"blueprint",id:e.blueprintModuleCompleteKey}:e.templateId?{idType:"template",id:e.templateId}:{idType:"other",id:e.itemModuleCompleteKey},p=(e,t)=>t?e.map((e=>{const n=t.some((t=>t===(e=>"blueprint"===e.templateType&&e.hasGlobalBlueprintContent&&e.contentBlueprintId!==i?e.blueprintModuleCompleteKey:l(e))(e))),a=e.categoryIds.filter((e=>e!==o.ax));return n&&a.push(o.ax),(0,r.Z)((0,r.Z)({},e),{},{isFavourite:n,categoryIds:a})})):e},668417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(787483);class a{constructor(e,t){this.manifestsPromise=Promise.resolve(e),this.autoConvertHandlers=t}getExtensions(){return this.manifestsPromise}async getExtension(e,t){const n=(await this.manifestsPromise).find((n=>n.type===e&&n.key===t));if(!n)throw new Error(`Extension with type "${e}" and key "${t}" not found!`);return n}async search(e){return(await this.manifestsPromise).filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return(0,r.GT)(await this.manifestsPromise)}}},293277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(202784)),a=o(n(382600));function o(e){return e&&e.__esModule?e:{default:e}}const i=e=>r.default.createElement(a.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.691 14.932c-.184.546-.336.797-.719 1.011-.851.478-1.54.299-2.033-.532-.498-.837-.31-1.52.547-2 .388-.218.673-.217 1.251-.1.078.017.139.029.19.038l-1.434-2.414a.333.333 0 01.123-.461L8.64 9.339a.333.333 0 01.49.222c.023.113.065.22.127.325.439.737 1.006.885 1.769.457.757-.425.906-.962.47-1.694a1.075 1.075 0 00-.226-.271.333.333 0 01.054-.544l2.023-1.135a.333.333 0 01.45.12l1.447 2.437c.019-.05.04-.11.066-.187.184-.546.336-.797.719-1.012.851-.477 1.54-.298 2.033.533.498.837.31 1.52-.547 2-.26.146-.521.193-.816.169a3.345 3.345 0 01-.435-.07 7.373 7.373 0 00-.19-.037l1.434 2.413c.095.16.04.369-.124.46l-2.11 1.184a.333.333 0 01-.496-.28 1.03 1.03 0 00-.15-.51c-.438-.738-1.005-.886-1.768-.458-.758.425-.906.963-.471 1.694.1.168.225.29.384.386a.333.333 0 01-.009.576l-2.11 1.184a.333.333 0 01-.449-.12l-1.447-2.436c-.019.05-.04.11-.066.187z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAddonIcon";var s=i;t.default=s},51581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(202784)),a=o(n(382600));function o(e){return e&&e.__esModule?e:{default:e}}const i=e=>r.default.createElement(a.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.01 18c.546 0 .99-.444.99-1a1 1 0 00-.99-1H3.99A.993.993 0 003 17a1 1 0 00.99 1h4.02zM3 7c0 .552.445 1 .993 1h16.014A.994.994 0 0021 7c0-.552-.445-1-.993-1H3.993A.994.994 0 003 7zm10.998 6A.999.999 0 0015 12c0-.552-.456-1-1.002-1H4.002A.999.999 0 003 12c0 .552.456 1 1.002 1h9.996z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="OverviewIcon";var s=i;t.default=s},248463:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(151119),a=n(202784);class o extends a.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"state",{MediaImage:o.MediaImage})}async componentDidMount(){if(!this.state.MediaImage)try{const[e,t]=await Promise.all([Promise.all([n.e(78248),n.e(11216),n.e(76753),n.e(13185),n.e(74332)]).then(n.bind(n,502933)),Promise.all([n.e(11216),n.e(13185),n.e(38226)]).then(n.bind(n,990379))]),r=e.withMediaClient(t.MediaImageInternal);o.MediaImage=r,this.setState({MediaImage:r})}catch(e){}}render(){const{MediaImage:e}=this.state;return e?a.createElement(e,this.props):null}}o.displayName="MediaImageLoader",(0,r.Z)(o,"displayName","AsyncMediaImage")},220865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(454530),a=n(159394),o=n(607560),i=n(151119),s=n(202784),l=n(928316),c=n(244711),d=n(280366),u=n.n(d),p=n(321126),m=n(990934),f=n(975586),g=n(164377),h=n(989622),y=n.n(h),v=n(175612),b=n(847134),x=n(442298),I=n(783040);const E=e=>{let{maxWidth:t,minWidth:n}=e,a=(0,r.Z)(e,["maxWidth","minWidth"]);return(0,b.tZ)("div",(0,o.Z)({css:{backgroundColor:"white",borderRadius:4,boxShadow:`0 0 0 1px ${v.N40A}, 0 4px 11px ${v.N40A}`,maxWidth:t,minWidth:n,zIndex:x.ug.modal()}},a))},w=e=>(0,b.tZ)("div",{css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},(0,b.tZ)(c.wx.Control,e)),C={Control:e=>{let{innerRef:t,innerProps:n}=e,a=(0,r.Z)(e,["innerRef","innerProps"]);return(0,b.tZ)("div",{ref:t,css:{padding:"8px 8px 4px"}},(0,b.tZ)(c.wx.Control,(0,o.Z)({},a,{innerProps:n})))},DropdownIndicator:()=>(0,b.tZ)("div",{css:{marginRight:2,textAlign:"center",width:32}},(0,b.tZ)(I.default,{label:"open"})),Menu:e=>{let{children:t,innerProps:n}=e;(0,r.Z)(e,["children","innerProps"]);return(0,b.tZ)("div",n,t)}},P={groupHeading:e=>(0,a.Z)((0,a.Z)({},e),{},{color:v.N80})},Z={modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",enabled:!0,options:{padding:5,boundary:"clippingParents",altAxis:!0,altBoundary:!0}}],placement:"bottom-start"};class A extends s.PureComponent{constructor(...e){super(...e),(0,i.Z)(this,"focusTrap",null),(0,i.Z)(this,"menuRef",null),(0,i.Z)(this,"selectRef",null),(0,i.Z)(this,"targetRef",null),(0,i.Z)(this,"state",{isOpen:!1,mergedComponents:C,mergedPopperProps:Z}),(0,i.Z)(this,"handleKeyDown",(e=>{switch(e.key){case"Escape":case"Esc":this.close()}this.props.handleKeyDown&&this.props.handleKeyDown(e)})),(0,i.Z)(this,"handleClick",(({target:e})=>{const{isOpen:t}=this.state;e instanceof Element&&(t&&this.menuRef&&!this.menuRef.contains(e)&&this.close(),!t&&this.targetRef&&this.targetRef.contains(e)&&this.open())})),(0,i.Z)(this,"handleSelectChange",((e,t)=>{const{closeMenuOnSelect:n,onChange:r}=this.props;n&&"clear"!==t.action&&this.close(),r&&r(e,t)})),(0,i.Z)(this,"open",(()=>{const{onOpen:e}=this.props;e&&e(),this.setState({isOpen:!0},this.initialiseFocusTrap),this.selectRef&&this.selectRef.select.openMenu("first"),"undefined"!=typeof window&&window.addEventListener("keydown",this.handleKeyDown,!0)})),(0,i.Z)(this,"initialiseFocusTrap",(()=>{if(!this.menuRef)return;const e={clickOutsideDeactivates:!0,escapeDeactivates:!0,fallbackFocus:this.menuRef,returnFocusOnDeactivate:!0};this.focusTrap=u()(this.menuRef,e),setTimeout((()=>this.focusTrap.activate()),1)})),(0,i.Z)(this,"close",(()=>{const{onClose:e}=this.props;e&&e(),this.setState({isOpen:!1}),this.focusTrap&&this.focusTrap.deactivate(),"undefined"!=typeof window&&window.removeEventListener("keydown",this.handleKeyDown,!0)})),(0,i.Z)(this,"resolveTargetRef",(e=>t=>{!this.targetRef&&e&&t&&(this.targetRef=t,"function"==typeof e?e(t):e.current=t)})),(0,i.Z)(this,"resolveMenuRef",(e=>t=>{this.menuRef=t,"function"==typeof e?e(t):e.current=t})),(0,i.Z)(this,"getSelectRef",(e=>{this.selectRef=e})),(0,i.Z)(this,"getItemCount",(()=>{const{options:e}=this.props;let t=0;return e.forEach((e=>{e.options?e.options.forEach((()=>t++)):t++})),t})),(0,i.Z)(this,"getMaxHeight",(()=>{const{maxMenuHeight:e}=this.props;if(!this.selectRef)return e;const t=this.showSearchControl(),{controlRef:n}=this.selectRef.select;return e-(t?n.offsetHeight:0)})),(0,i.Z)(this,"showSearchControl",(()=>{const{searchThreshold:e}=this.props;return this.getItemCount()>e})),(0,i.Z)(this,"renderSelect",(()=>{const e=this.props,{footer:t,maxMenuWidth:n,minMenuWidth:i,target:d}=e,u=(0,r.Z)(e,["footer","maxMenuWidth","minMenuWidth","target"]),{isOpen:m,mergedComponents:f,mergedPopperProps:h}=this.state,y=this.showSearchControl(),v=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?document.body:null,b=(0,a.Z)((0,a.Z)({},f),{},{Control:y?f.Control:w});if(!v||!m)return null;const x=s.createElement(p.r,h,(({placement:e,ref:r,style:l})=>s.createElement(g.Z,{innerRef:this.resolveMenuRef(r)},s.createElement(E,{style:l,"data-placement":e,minWidth:i,maxWidth:n},s.createElement(c.ZP,(0,o.Z)({backspaceRemovesValue:!1,controlShouldRenderValue:!1,isClearable:!1,tabSelectsValue:!1,menuIsOpen:!0,ref:this.getSelectRef},u,{isSearchable:y,styles:(0,a.Z)((0,a.Z)({},P),u.styles),maxMenuHeight:this.getMaxHeight(),components:b,onChange:this.handleSelectChange})),t))));return"fixed"===h.strategy?x:(0,l.createPortal)(x,v)}))}static getDerivedStateFromProps(e,t){const n={},r=(0,a.Z)((0,a.Z)({},Z),e.popperProps);y()(r,t.mergedPopperProps)||(n.mergedPopperProps=r);const o=(0,a.Z)((0,a.Z)({},C),e.components);return y()(o,t.mergedComponents)||(n.mergedComponents=o),i=n,0!==Object.keys(i).length?n:null;var i}componentDidMount(){"undefined"!=typeof window&&window.addEventListener("click",this.handleClick,!0)}componentWillUnmount(){"undefined"!=typeof window&&(window.removeEventListener("click",this.handleClick,!0),window.removeEventListener("keydown",this.handleKeyDown,!0))}render(){const{target:e}=this.props,{isOpen:t}=this.state;return s.createElement(m.dK,null,s.createElement(f.s,null,(({ref:n})=>e&&e({ref:this.resolveTargetRef(n),isOpen:t}))),this.renderSelect())}}A.displayName="PopupSelect",(0,i.Z)(A,"defaultProps",{closeMenuOnSelect:!0,components:{},maxMenuHeight:300,maxMenuWidth:440,minMenuWidth:220,popperProps:{},searchThreshold:5,styles:{},options:[]})},447834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(202784),o=n(928316);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,o.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component);t.default=l},164377:(e,t,n)=>{"use strict";var r=n(447834);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},215041:(e,t,n)=>{"use strict";n.d(t,{MJ:()=>X,vO:()=>Q,c:()=>se,jV:()=>j,sj:()=>ie});var r=n(159394),a=n(202784),o=n(491807),i=n(248493),s=n(995726),l=n(205557),c=n(359892);const d="xen:macro",u="com.atlassian.ecosystem",p=e=>({children:t,params:n=[]})=>t(e(...n)),m={DEVELOPMENT:"Development",STAGING:"Staging",PRODUCTION:"Production"},f=(e,t)=>`${t&&t.name?`By ${t.name} · `:""}${e}`,g=(e,t="PRODUCTION")=>{if("PRODUCTION"!==t){const n=m[t];if(n)return`${e} (${n})`}return e},h=e=>{const{apolloClient:t,contextIds:n,createAnalyticsEvent:a,localIdGenerator:o}=e,{extensions:i}=(0,s.eL)({client:t,contextIds:n,type:d,expandAppOwner:!0}),p=i?i.map(((e,t=c.iB)=>n=>{const a=g(n.properties.title,n.environmentType);return{title:a,description:f(n.properties.description,n.appOwner),priority:1/0,action:o=>{const i=t(),p=n.id;return e({eventType:l._d,data:{action:"inserted",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",attributes:(0,r.Z)({localId:i},(0,c.a9)(p))}}).fire(s.V2),o({type:"extension",attrs:{extensionKey:d,extensionType:u,parameters:{localId:i,extensionId:p,extensionTitle:a},text:`${a} - Forge Extension`}})}}})(a,o)):[];return[{getItems:()=>Promise.resolve(p)}]};p(h);var y=n(847134),v=n(454530),b=n(931118),x=n(138268),I=n(957369),E=n(536631);const w="configUserPicker";class C extends Error{constructor(e){super(e),Object.setPrototypeOf(this,C.prototype)}}function P(e,t){const n=e.reduce(((e,{props:t})=>{if(t)for(const n of["defaultChecked","defaultSelected"])if(n in t)return[...e,t.value];return e}),[]);return t?n:n[0]}const Z=e=>e.map((({props:e,type:t})=>{if(!e)throw new Error(`Props are undefined on ${t}`);return{label:e.label,value:e.value}})),A={TextField:e=>({type:"string",name:e.name,label:e.label,description:e.description,defaultValue:e.defaultValue,isRequired:e.isRequired,isHidden:e.isHidden,placeholder:e.placeholder}),DatePicker:e=>({type:"date",name:e.name,label:e.label,description:e.description,defaultValue:e.defaultValue,isRequired:e.isRequired,placeholder:e.placeholder}),Select:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"select",isMultiple:e.isMulti,placeholder:e.placeholder,items:Z(t),defaultValue:P(t,e.isMulti)}),CheckboxGroup:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"checkbox",isMultiple:!0,items:Z(t),defaultValue:P(t,!0)}),RadioGroup:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"radio",isMultiple:!1,items:Z(t),defaultValue:P(t,!1)}),UserPicker:e=>({type:"user",name:e.name,label:e.label,isMultiple:e.isMulti,isRequired:e.isRequired,options:{provider:{type:w}},placeholder:e.placeholder,description:e.description,defaultValue:e.defaultValue}),TextArea:e=>({type:"string",name:e.name,style:"multiline",label:e.label,placeholder:e.placeholder,description:e.description,isRequired:e.isRequired,defaultValue:e.defaultValue})},$=e=>{const t=e.map((({children:e,props:t,type:n})=>A[n]?A[n](t||{},e):n)),n=t.filter((e=>"string"==typeof e));if(n.length>0)throw new C((e=>{const t=[...new Set(e)];return`${1===t.length?"":`${t.slice(0,-1).join(", ")} and`} ${t.slice(-1)} components are not supported in macro config`})(n));return t};function N(e){for(const{type:t,props:n,children:r}of e.children){if("ErrorPanel"===t&&n){const{error:{errorMessage:e,errorDetails:t}}=n;throw new Error(`${e||t||""}`)}if("ThreeLOPrompt"===t)throw new Error("For this app to display, you need to press the Allow Access button in the\nmacro to allow the app to access Atlassian products on your behalf.");if("MacroConfig"===t)return $(r)}throw new Error("<MacroConfig> must be used at the root")}var M=n(668417),T=n(221910);const{getForgeUIExtensionsAsync:k}=c.ui,O={16:()=>Promise.all([n.e(11216),n.e(48382)]).then(n.bind(n,348382)),24:()=>Promise.all([n.e(11216),n.e(48382)]).then(n.bind(n,348382)),48:()=>Promise.all([n.e(11216),n.e(48382)]).then(n.bind(n,348382))},D=e=>S(e),R=async e=>({guestParams:e}),S=({config:e,guestParams:t})=>t||e;async function _({accountId:e,apolloClient:t,cloudId:n,contextIds:a,extensionRefs:o,forgeUIAnalyticsContext:i,metalClientPromise:p,page:m,product:h,analyticsWebClient:y,createRenderFunction:v,startTimeMs:b,destroyMetalClient:x,shouldRenderHostedResources:E,getFieldsDefinitionFunction:C}){const{extensions:P,errors:Z}=await k({client:t,contextIds:a,moduleType:d,expandAppOwner:!0}),A=P||[],$=E?A:A.filter((e=>!e.properties.resource)),N=async({extensionId:e,localId:t},n)=>{if($.find((({id:t,properties:n})=>t===e&&!!n.config&&!!n.config.function)))return await n.editInContextPanel(D,R);const r=`${e}-${t}`,a=o.get(r);return a?await a.openConfig():void 0},S={user:{[w]:{provider:async()=>({siteId:n,principalId:e||"Context",fieldId:"forgeConfigUserPicker",productKey:h})}}},_=$.filter((({id:e})=>void 0!==(0,T.parse)(e).resourceId)).map((e=>{const{id:t,properties:n,environmentType:a,appOwner:o}=e,d=g(n.title||"Forge UI Macro",a),p=f(n.description||"",o),m=(0,T.parse)(t).resourceId;return{title:d,description:p,type:u,key:m,icons:O,modules:{quickInsert:[{key:"forge-macro",action:async()=>{const e=(0,c.iB)(),n=t;return y&&(0,s.xE)(y)((0,r.Z)((0,r.Z)({eventType:l._d,action:"inserted",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen"},i),{},{attributes:(0,r.Z)({localId:e},(0,c.a9)(n))})),{type:"extension",attrs:{extensionKey:m,extensionType:u,parameters:{localId:e,extensionId:n,extensionTitle:d},text:d}}}}],nodes:{default:{type:"extension",render:()=>v(e),update:N,getFieldsDefinition:C}},fields:S}}})),L={title:"Forge UI Macro",description:"Supports existing Forge UI Macro nodes",type:u,key:"xen:macro",icons:O,modules:{nodes:{default:{type:"extension",render:v,update:N,getFieldsDefinition:C}},fields:S}},V=performance.now();return Promise.resolve(p).then((e=>{if(P&&e.metric.submit({component:"getForgeExtensionProvider",page:m,name:I.catalog.performance.COMPONENT_READY,value:V-b}),!P&&Z){const t=Z.find((e=>(0,s.QR)(e)||(0,s.jP)(e)));e.error.submit({component:"getForgeExtensionProvider",page:m,name:t?(0,s.QR)(t)?I.catalog.error.COMPONENT_API:I.catalog.error.COMPONENT_GRAPHQL:I.catalog.error.UNCAUGHT})}x()})),new M.Z([L,..._])}var L=n(769378),V=n.n(L);const F=(0,E.default)((e=>({providerFactory:e}))),U=({config:e,guestParams:t})=>t||e;const j=(0,E.default)((async function(e,t,n,o,i,c,d,u,p={},m,f,g,h={},y=!1){const v=performance.now(),b=new Map,[x,w]=(0,s.vb)(i,c),P=(e,t)=>{const n=`${t.parameters.extensionId}-${t.parameters.localId}`;e?b.set(n,e):b.delete(n)};return await _({accountId:m,cloudId:n,apolloClient:e,contextIds:t,extensionRefs:b,forgeUIAnalyticsContext:h,metalClientPromise:x,page:d,product:c,analyticsWebClient:g,createRenderFunction:async s=>function({apolloClient:e,cloudId:t,contextIds:n,environment:o,extension:i,extensionData:s,temporaryContext:l,isEditing:c,page:d,product:u,productDataContext:p,setExtensionRef:m}){return(0,E.default)((({node:f})=>a.createElement(G,{apolloClient:e,contextIds:n,cloudId:t,environment:o,extension:(0,r.Z)((0,r.Z)({},f),{},{parameters:(0,r.Z)((0,r.Z)({},f.parameters),{},{extensionTitle:null==i?void 0:i.properties.title,extension:i})}),extensionData:s,temporaryContext:l,isEditing:c,product:u,productDataContext:p,page:d,setExtensionRef:m})),V())}({apolloClient:e,cloudId:n,contextIds:t,isEditing:!!f,productDataContext:F(o),setExtensionRef:P,environment:i,extension:s,extensionData:u,temporaryContext:p,product:c,page:d}),startTimeMs:v,destroyMetalClient:w,shouldRenderHostedResources:y,getFieldsDefinitionFunction:async a=>{const{extensionId:o,localId:i}=a,c=U(a);try{const a=(0,s.sl)({contextIds:t,extensionId:o,localId:i,functionId:"config"},{effects:[{type:"initialize"}],state:{},config:c,context:(0,r.Z)({isConfig:!0,cloudId:n},p)},(0,r.Z)((0,r.Z)({},u),{},{config:c,isConfig:!0})),l=await e.mutate({mutation:s.Gi,variables:{input:a}}),d=(0,s.kn)(l,(e=>{throw new s.Hx(e)}))[0];return N("result"===d.type?d.forgeDoc:d.aux)}catch(m){const{name:e,message:t}=m;throw m instanceof C||(Promise.resolve(x).then((e=>{e.error.submit({component:"getForgeExtensionProvider",page:d,name:I.catalog.error.COMPONENT_API})})),g&&(0,s.xE)(g)({eventType:l._d,action:"errored",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen",attributes:{errorName:e,errorMessage:t}})),new Error(t||"")}}})}));var K=n(442298);const{ForgeUIExtensionProvider:B}=c.Ap,{ForgeUIExtension:q}=c.ui,H=(0,K.ww)();var W={name:"15q9084",styles:"background:transparent;cursor:not-allowed;left:0;position:absolute;height:100%;top:0;width:100%;z-index:1;"};const z=({environment:e,product:t,page:n,cloudId:o,apolloClient:i,contextIds:l,productDataContext:c,extension:d,setExtensionRef:u,isEditing:p,temporaryContext:m,extensionData:f})=>{var g;const{localId:h,extensionId:I,extension:E,extensionTitle:w}=d.parameters,C=U(d.parameters),P=Boolean(null==E||null===(g=E.properties)||void 0===g?void 0:g.resource),[{isConfigOpen:Z,onConfigSubmit:A,onConfigClose:$,config:N},M]=(0,a.useState)({isConfigOpen:!1,onConfigSubmit:()=>{},onConfigClose:()=>{},config:C});(0,a.useEffect)((()=>{const e=d.parameters,{extension:t}=e,n=(0,v.Z)(e,["extension"]);return u({openConfig:()=>new Promise(((e,t)=>{M({isConfigOpen:!0,onConfigSubmit:e,onConfigClose:t,config:N})})).then((e=>(M((t=>(0,r.Z)((0,r.Z)({},t),{},{isConfigOpen:!1,config:e}))),(0,r.Z)((0,r.Z)({},n),{},{config:e})))).catch((()=>{M((e=>(0,r.Z)((0,r.Z)({},e),{},{isConfigOpen:!1,config:N})))}))},d),()=>u(void 0,d)}),[N,d,u]),(0,a.useEffect)((()=>{M((e=>(0,r.Z)((0,r.Z)({},e),{},{config:C})))}),[C]);const T=(0,a.useMemo)((()=>(0,r.Z)((0,r.Z)({cloudId:o},m),{},{isConfig:Z})),[m,Z,o]),k=(0,r.Z)((0,r.Z)({},s.OU),{},{ConfigForm:(0,b.vl)((({dispatch:e,render:t,renderChildren:n,Components:r,children:a})=>(0,y.tZ)(s.n4,{onConfigSubmit:A,onConfigClose:$},n({render:t,Components:r,children:a,dispatch:e}))),[A,$])}),O={id:I,properties:{title:w}},D={small:"112px",medium:"262px",default:"262px",large:"524px",xlarge:"1048px"};return(0,y.tZ)("div",{"data-testid":"ForgeExtensionContainer",css:(0,y.iv)("background:",p?"white":"transparent",";padding:",p?`${H}px`:0,";position:relative;")},E&&P?(0,y.tZ)(s.gh.Provider,{value:e},(0,y.tZ)(x.h,{apolloClient:i,contextIds:l,extension:E,coreData:{cloudId:o,localId:null!=h?h:d.extensionKey},temporaryContext:{extensionContext:(0,r.Z)((0,r.Z)({},(()=>{const e=m||{},{accountId:t,cloudId:n}=e;return(0,v.Z)(e,["accountId","cloudId"])})()),{},{config:N})},extensionData:(0,r.Z)((0,r.Z)({},f),{},{config:N}),height:(R=E.properties.viewportSize,D[null!=R?R:"default"])})):(0,y.tZ)(B,{value:{environment:e,product:t,page:n,forgeContext:T,client:i,contextIds:l,allowedUIComponents:k,productData:c,id:h||d.extensionKey}},(0,y.tZ)(q,{extension:O,localId:h,config:N,extensionData:(0,r.Z)((0,r.Z)({},f),{},{config:N,isConfig:!1})})),p&&(0,y.tZ)("div",{"data-testid":"GlassPane",css:W}));var R},G=e=>{const{extension:t}=e,n=t.parameters&&t.parameters.localId;return(0,y.tZ)(a.Suspense,{fallback:null},(0,y.tZ)(i.Z,{data:{forgeUIAttributes:(0,r.Z)({localId:n},(0,c.a9)(t.parameters&&t.parameters.extensionId))}},(0,y.tZ)(s._z,{value:{environment:e.environment,product:e.product,page:e.page,id:n||""}},(0,y.tZ)(s.TH,null,(0,y.tZ)(z,e)))))},Y=({apolloClient:e,contextIds:t,isEditing:n,forgeContext:r,productDataContext:o,product:i,page:s,environment:l})=>{const c=(0,a.useRef)(new Map);return[{[u]:{render:a=>(0,y.tZ)(G,{cloudId:(null==r?void 0:r.cloudId)||"",environment:l,product:i,page:s,temporaryContext:r,extensionData:{},apolloClient:e,contextIds:t,productDataContext:o,extension:a,isEditing:n,setExtensionRef:e=>{const t=`${a.parameters.extensionId}-${a.parameters.localId}`,n=c.current.get(t)||[];if(e)c.current.set(t,[...n,e]);else{const[,...e]=n;e.length?c.current.set(t,e):c.current.delete(t)}}}),update:e=>{const t=`${e.extensionId}-${e.localId}`,n=c.current.get(t)||[],r=n[n.length-1];return r?r.openConfig():Promise.resolve()}}}]},J=(p(Y),(0,o.Z)()((e=>{const{apolloClient:t,contextIds:n,children:r,localIdGenerator:o,forgeContext:i,createAnalyticsEvent:s,mentionProvider:l,environment:c,page:d,product:u}=e,p=(0,a.useMemo)((()=>({mentionProvider:l})),[l]),[m]=h({contextIds:n,apolloClient:t,localIdGenerator:o,createAnalyticsEvent:s}),[f]=Y({apolloClient:t,contextIds:n,isEditing:!0,forgeContext:i,productDataContext:p,environment:c,product:u,page:d});return r({extensionHandlers:f,quickInsertProvider:m})})));function X(e){const{analyticsWebClient:t,forgeUIAnalyticsContext:n={},page:o}=e;return a.createElement(s._z,{value:{environment:e.environment,product:e.product,page:e.page}},a.createElement(s.Jp,{client:t},a.createElement(i.Z,{data:{forgeUIAnalyticsContext:(0,r.Z)({source:o},n)}},a.createElement(J,e))))}function Q(e){const{analyticsWebClient:t,apolloClient:n,contextIds:o,children:l,dataProviders:c,forgeContext:d,forgeUIAnalyticsContext:u={},environment:p,product:m,page:f}=e,g=(0,a.useMemo)((()=>({providerFactory:c})),[c]),[h]=Y({apolloClient:n,contextIds:o,isEditing:!1,forgeContext:d,product:m,page:f,environment:p,productDataContext:g});return a.createElement(s.Jp,{client:t},a.createElement(i.Z,{data:{forgeUIAnalyticsContext:(0,r.Z)({source:f},u)}},l({extensionHandlers:h})))}var ee=n(559802);const te=(0,K.ww)();var ne={name:"15q9084",styles:"background:transparent;cursor:not-allowed;left:0;position:absolute;height:100%;top:0;width:100%;z-index:1;"};const re=({apolloClient:e,contextIds:t,cloudId:n,environment:o,extensionData:i,temporaryContext:l,accountId:d,productDataContext:u,extension:p,setExtensionRef:m,isEditing:f})=>{var g;const{localId:h,extension:b,extensionId:I,extensionTitle:E}=p.parameters,w=U(p.parameters),C=Boolean(null==b||null===(g=b.properties)||void 0===g?void 0:g.resource),[{isConfigOpen:P,config:Z,onConfigSubmit:A,onConfigClose:$},N]=(0,a.useState)({isConfigOpen:!1,onConfigSubmit:()=>{},onConfigClose:()=>{},config:w});(0,a.useEffect)((()=>{const e=p.parameters,{extension:t}=e,n=(0,v.Z)(e,["extension"]);return m({openConfig:()=>new Promise(((e,t)=>{N({isConfigOpen:!0,onConfigSubmit:e,onConfigClose:t,config:Z})})).then((e=>(N((t=>(0,r.Z)((0,r.Z)({},t),{},{isConfigOpen:!1,config:e}))),(0,r.Z)((0,r.Z)({},n),{},{config:e})))).catch((()=>{N((e=>(0,r.Z)((0,r.Z)({},e),{},{isConfigOpen:!1,config:Z})))}))},p),()=>m(void 0,p)}),[Z,p,m]),(0,a.useEffect)((()=>{N((e=>(0,r.Z)((0,r.Z)({},e),{},{config:w})))}),[w]);const M={localId:h,cloudId:n},T=function(e){const t=(0,a.useRef)(e);return V()(t.current,e)||(t.current=e),t.current}(i),[k,{forgeDoc:O,error:D,loading:R}]=(0,s.a6)({apolloClient:e,contextIds:t,extensionId:I,coreData:M,temporaryContext:(0,r.Z)((0,r.Z)({},l),{},{isConfig:P,config:Z})});(0,a.useEffect)((()=>{C||k({type:"render",extensionData:(0,r.Z)((0,r.Z)({},T),{},{isConfig:P,config:Z})})}),[k,Z,P,T,C]);const S={small:"112px",medium:"262px",default:"262px",large:"524px",xlarge:"1048px"};return(0,y.tZ)("div",{"data-testid":"ForgeExtensionContainer",css:(0,y.iv)("background:",f?"white":"transparent",";padding:",f?`${te}px`:0,";position:relative;")},C?(0,y.tZ)(s.gh.Provider,{value:o},(0,y.tZ)(x.h,{apolloClient:e,contextIds:t,extension:b,coreData:M,temporaryContext:{extensionContext:(0,r.Z)((0,r.Z)({},(()=>{const e=l||{},{accountId:t,cloudId:n}=e;return(0,v.Z)(e,["accountId","cloudId"])})()),{},{config:Z})},extensionData:(0,r.Z)((0,r.Z)({},i),{},{config:Z}),height:(_=b.properties.viewportSize,S[null!=_?_:"default"])})):(0,y.tZ)(s.wL,{forgeDoc:O,loading:R,error:D,dispatch:e=>k((0,r.Z)((0,r.Z)({},e),{},{extensionData:(0,r.Z)((0,r.Z)({},i),{},{isConfig:P,config:Z})})),components:t=>(0,r.Z)((0,r.Z)({},t),{},{Avatar:(0,s.OM)({client:e}),AvatarStack:(0,s.Bl)({client:e}),ThreeLOPrompt:(0,c.IV)({appName:E}),ConfigForm:({forgeDoc:e,render:t})=>(0,y.tZ)(s.n4,{onConfigSubmit:A,onConfigClose:$},e.children.map(t)),UserPicker:(0,s.eV)({client:e,mentionProvider:u.mentionProvider,accountId:d,cloudId:n,productKey:"confluence"})})}),f&&(0,y.tZ)("div",{"data-testid":"GlassPane",css:ne}));var _},ae=e=>{const{extension:t,product:n,environment:o,page:l,analyticsWebClient:d}=e,u=t.parameters&&t.parameters.localId;return(0,y.tZ)(a.Suspense,{fallback:null},(0,y.tZ)(ee.ForgeUIExtensionPointProvider,{analyticsWebClient:d,product:n,environment:o,page:l},(0,y.tZ)(i.Z,{data:{forgeUIAttributes:(0,r.Z)({localId:u},(0,c.a9)(t.parameters&&t.parameters.extensionId))}},(0,y.tZ)(s.TH,null,(0,y.tZ)(re,e)))))},oe=(0,E.default)((e=>({providerFactory:e})));const ie=(0,E.default)((async function({accountId:e,cloudId:t,apolloClient:n,contextIds:o,dataProviders:i,environment:c,product:d,page:u,isEditing:p,analyticsWebClient:m,forgeUIAnalyticsContext:f={},extensionData:g,temporaryContext:h,shouldRenderHostedResources:y=!1}){const v=performance.now(),b=new Map,[x,w]=(0,s.vb)(c,d),P=(e,t)=>{const n=`${t.parameters.extensionId}-${t.parameters.localId}`;e?b.set(n,e):b.delete(n)};return await _({accountId:e,apolloClient:n,cloudId:t,contextIds:o,extensionRefs:b,forgeUIAnalyticsContext:f,metalClientPromise:x,page:u,product:d,analyticsWebClient:m,createRenderFunction:async s=>(({accountId:e,apolloClient:t,analyticsWebClient:n,cloudId:o,contextIds:i,environment:s,extension:l,extensionData:c,temporaryContext:d,isEditing:u,page:p,product:m,productDataContext:f,setExtensionRef:g})=>(0,E.default)((({node:h})=>a.createElement(ae,{analyticsWebClient:n,accountId:e||"",apolloClient:t,cloudId:o,contextIds:i,environment:s,extension:(0,r.Z)((0,r.Z)({},h),{},{parameters:(0,r.Z)((0,r.Z)({},h.parameters),{},{extensionTitle:null==l?void 0:l.properties.title,extension:l})}),extensionData:c,temporaryContext:d,isEditing:u,product:m,productDataContext:f,page:p,setExtensionRef:g})),V()))({accountId:e,analyticsWebClient:m,cloudId:t,extension:s,extensionData:g,temporaryContext:h,apolloClient:n,contextIds:o,isEditing:Boolean(p),productDataContext:oe(i),setExtensionRef:P,environment:c,product:d,page:u}),startTimeMs:v,destroyMetalClient:w,shouldRenderHostedResources:y,getFieldsDefinitionFunction:async e=>{const{extensionId:a,localId:i}=e,c=(({config:e,guestParams:t})=>t||e)(e);try{const e=(0,s.sl)({contextIds:o,extensionId:a,localId:i,functionId:"config"},{effects:[{type:"initialize"}],state:{},config:c,context:(0,r.Z)({isConfig:!0,cloudId:t},h)},(0,r.Z)((0,r.Z)({},g),{},{config:c,isConfig:!0})),l=await n.mutate({mutation:s.Gi,variables:{input:e}}),d=(0,s.kn)(l,(e=>{throw new s.Hx(e)}))[0];return N("result"===d.type?d.forgeDoc:d.aux)}catch(d){const{name:e,message:t}=d;throw d instanceof C||(Promise.resolve(x).then((e=>{e.error.submit({component:"getForgeExtensionProvider",page:u,name:I.catalog.error.COMPONENT_API})})),m&&(0,s.xE)(m)({eventType:l._d,action:"errored",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen",attributes:{errorName:e,errorMessage:t}})),new Error(t||"")}}})}));let se;!function(e){e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION"}(se||(se={}))},791788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(213980);var r=n(202784),a=n(830691),o=n(353273),i=n(204797);class s extends r.PureComponent{render(){const{shouldPanelBeDisplayed:e,targetContentTitle:t}=this.props;return e?r.createElement("span",{style:i.Bn},r.createElement("span",{style:i.HE},t||r.createElement(a._H,{id:"editor.excerpt.include.panel.title.loading"})),r.createElement("span",{style:i.p1},r.createElement(o.L,{size:"medium",style:{minHeight:100}}))):r.createElement(o.L,{size:"medium",style:{minHeight:100}})}}s.displayName="ExcerptIncludeComponentShadow"},251832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(159394),a=n(202784),o=n(263679),i=n(768606),s=n(791788);const l=(0,i.P)({__loadable_id__:"7OaFG",name:"ExcerptIncludeLoader",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(46575),n.e(37382),n.e(13398),n.e(34928)]).then(n.bind(n,3305)),loading:s.Z});class c extends a.Component{render(){var e,t;const{contentId:n,node:i,mode:s,showTemplateVariablesInPreview:c,showTemplateInputInPreview:d}=this.props,u={mode:s,contentId:n,macroNode:i,shouldPanelBeDisplayed:"true"!==(null!=(t=i)&&null!=(t=t.parameters)&&null!=(t=t.macroParams)&&null!=(t=t.nopanel)?t.value:t),targetContentTitle:null!=(e=i)&&null!=(e=e.parameters)&&null!=(e=e.macroParams)&&null!=(e=e[""])?e.value:e,macroId:(0,o.Z)(this.props)};return c&&(u.showTemplateVariablesInPreview=c),d&&(u.showTemplateInputInPreview=d),a.createElement(l,(0,r.Z)({},u))}}c.displayName="ExcerptIncludeExtensionHandler"},204797:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>r,HE:()=>a,p1:()=>o});const r={display:"block",borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",borderColor:"rgb(193, 199, 208)",borderImage:"initial"},a={display:"block",backgroundColor:"rgb(244, 245, 247)",minWidth:"128px",padding:"10px"},o={display:"block",minWidth:"128px",borderWidth:"1px 0px 0px 0px",borderStyle:"solid",borderColor:"rgb(193, 199, 208)",padding:"10px"}},512473:(e,t,n)=>{"use strict";n.d(t,{u:()=>x});var r=n(159394),a=n(202784),o=n(830691),i=n(26213);const s=n(412470).default.div`
  display: block;
  background-color: #f4f5f7;
  border-radius: 5;
  width: 100%;
  box-sizing: border-box;

  padding: 8px;
  margin-top: 8px;
  margin-bottom: 8px;
`,l=({children:e})=>a.createElement(s,null,a.createElement(i.default,{size:"medium"}),a.createElement("span",{style:{paddingLeft:6,verticalAlign:"text-bottom"}},e));l.displayName="PageIncludeError";const c=l;var d=n(286235),u=n(959731),p=n(331852),m=n(766361),f=n(230382);const g=n.n(f)()`query ContentPropertiesQuery($contentId:ID$versionOverride:Int){content(id:$contentId version:$versionOverride){nodes{id type metadata{frontend{spaFriendly}}properties(key:"editor"){nodes{id key value}}operations{operation targetType}}}}`,h=(0,o.vU)({missingPage:{id:"page-include-extension-handler.missingPage",defaultMessage:"The included page is no longer available. It might have been deleted."},infiniteLoop:{id:"page-include-extension-handler.infiniteLoop",defaultMessage:"The page being included has already been included. You cannot infinitely nest pages."},loadingIncludedPage:{id:"page-include-extension-handler.loading",defaultMessage:"Loading included page..."},errorContentVersion:{id:"page-include-extension-handler.error",defaultMessage:"An error occured while fetching the content version."}}),y=e=>{var t;const{data:n,error:i}=(0,d.aM)(g,{variables:{contentId:e.contentId},fetchPolicy:"cache-and-network",context:{single:!0}});if(i)return a.createElement(c,null,a.createElement(o._H,(0,r.Z)({},h.errorContentVersion))," ",i);const s=null!=(t=n)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.properties)&&null!=(t=t.nodes)&&null!=(t=t[0])?t.value:t,l=s&&('"v2"'===s||"v2"===s);void 0===l&&(o._H,(0,r.Z)({},h.loadingIncludedPage));const{spaceKey:f,showTemplateVariablesInPreview:y,showTemplateInputInPreview:v,contentId:b}=e,x=(0,m.V)({contentId:b,showTemplateVariablesInPreview:y,showTemplateInputInPreview:v,spaceKey:f});return l?a.createElement(u.R,{spaceKey:e.spaceKey,contentId:e.contentId,extensionHandlers:x,appearance:"full-width"}):a.createElement(p.b,(0,r.Z)((0,r.Z)({},e),{},{contentId:e.parentContentId}))},v=a.createContext([]),b=e=>{const{_referencedContentId:t}=e.parameters.macroParams;return t?t.value:void 0};class x extends a.Component{render(){const e=b(this.props.node);return e?a.createElement(v.Consumer,null,(t=>{if(t.some((t=>"include"===t.extensionKey&&b(t)===e)))return a.createElement(c,null,a.createElement(o._H,(0,r.Z)({},h.infiniteLoop)));const n=[...t,this.props.node];return a.createElement(v.Provider,{value:n},a.createElement(y,(0,r.Z)((0,r.Z)({},this.props),{},{ancestors:n,parentContentId:this.props.contentId,contentId:b(this.props.node)})))})):a.createElement(c,null,a.createElement(o._H,(0,r.Z)({},h.missingPage)))}}x.displayName="PageIncludeExtensionHandler"},263679:(e,t,n)=>{"use strict";function r(e){var t;return null!=(t=e)&&null!=(t=t.node)&&null!=(t=t.parameters)&&null!=(t=t.macroMetadata)&&null!=(t=t.macroId)?t.value:t}n.d(t,{Z:()=>r})},693857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(159394),a=n(202784),o=n(57125),i=n(51581),s=n(293277),l=n(377826),c=n(999008);const d={small:24,medium:32,large:48},u=e=>a.createElement("svg",(0,r.Z)((0,r.Z)({},e),{},{viewBox:"0 0 80 80",focusable:"false",role:"presentation"}),a.createElement("image",{overflow:"visible",width:"80",height:"80",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAM1BMVEX///+ZmZn4+PiysrK4uLifn5/r6+ulpaXFxcWsrKzl5eXMzMzf39/Y2Ni/v7/S0tLy8vLZxmmsAAABUklEQVR4Xu3WzW7cMAyF0XtJ/cue5P2ftoCkMQZoprIdLlJEZ+HlB4IL0bhvWZZl96TfYWZjU2AlslEYCaR3zpMBNmobTskP2FDSAa59TcRnUO2C6pzaBR0HBxvBs/EBRqSSZBXYIUnghwWV/6A/IZjNJzxEDlGfksFzaPggBg6fMMLB+sXOsKJs9L8NruAKiktyNijJCWZ2Msu54GcmN8xUkjnMg+O61nP78mEWHD3quSCjTIKtdyro2eRJUCIbjxl2aRJEYncy6OY7dJeCfHyxhogXD3aYS70oeBIOOEifr+IM6QPl8P6MhthHlmt3uB4jDwldvXqnHbtcjolfllji0T9LIgctQOXhAyjKIcu1n+AhK19oJnnnB3nn1AaYFndctBv3gN3zLb/hhhD5Rg64RRK/lAR3FeVfNOA7yoOv/KPgu2RLykbTJrAigt9kWZY/Gz4IYbhxkp0AAAAASUVORK5CYII="}));function p({macro:e,size:t="small"}){const{icon:n,macroName:r,title:p}=e;switch(r){case"toc":return a.createElement(i.default,{label:p,size:t});case"jira":return a.createElement(o.y,{label:p,size:t});case"anchor":return a.createElement(c.Z,{label:p,size:t,glyph:u})}if(!n)return a.createElement(s.default,{label:p,size:t});const m=(0,l.m_)(n.location,!0),f=(e=>d[e])(t);return a.createElement("img",{src:m,width:f,height:f,alt:p})}u.displayName="anchorSVG",p.displayName="MacroIcon"},406664:(e,t,n)=>{"use strict";n.d(t,{B:()=>it,u:()=>st});var r=n(164464),a=n(668417),o=n(929796),i=n(159394),s=n(202784),l=n(830691),c=n(412470),d=n(442298),u=n(175612),p=n(693857);const m=c.default.div`
  display: flex;
  flex-direction: column;
  line-height: 1.4;
`,f=c.default.span`
  font-size: 11.67px;
  color: ${u.N200};
  margin-top: 4px;
`,g=c.default.div`
  background: #fff;
  border-radius: ${(0,d.E0)()}px;
  display: flex;
  align-items: center;
  padding: ${e=>e.isEditor?24:0}px;
`,h=c.default.div`
  background: ${u.N20};
  display: inline-flex;
  align-items: center;
  padding: 1px 0.24em 2px 0.24em;
  border-radius: 3px;
  font-size: 16px;

  p {
    ${f} {
      margin-left: 8px;
    }
  }
`,y=c.default.div`
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  overflow: hidden;
  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */
  border-radius: ${(0,d.E0)()}px;
  box-sizing: border-box;
  background: #fff;

  display: flex;
  justify-content: center;
  align-items: center;

  margin-right: ${e=>e.width>32?16:4}px;

  div {
    width: ${e=>e.width}px;
    height: ${e=>e.height}px;
  }
`,v=e=>s.createElement(p.Z,{macro:e});v.displayName="getIconComponent";const b=({macro:e,description:t})=>s.createElement(h,null,s.createElement(y,{width:16,height:16},s.createElement(p.Z,{macro:e,size:"small"})),s.createElement(m,null,s.createElement("p",null,e.title,t&&s.createElement(f,null,t))));b.displayName="InlineExtensionPlaceholder";const x=({macro:e,description:t,isEditor:n})=>s.createElement(g,{isEditor:n},s.createElement(y,{width:40,height:40},s.createElement(p.Z,{macro:e,size:"medium"})),s.createElement(m,null,s.createElement("h4",null,e.title),t&&s.createElement(f,null,t)));x.displayName="ExtensionPlaceholder";const I=s.createElement(l._H,{id:"confluence-fabric-editor.extension.placeholder.missing-config",description:"Message shown when a macro is inserted but can't be rendered due to missing configuration",defaultMessage:"Edit to setup"}),E=(e,t)=>"inlineExtension"===Y(e)?s.createElement(b,{macro:e,description:s.createElement("span",null,"(",I,")")}):s.createElement(x,{isEditor:t,macro:e,description:I});E.displayName="getMissingConfigPlaceholderComponent";const w=(e,t)=>"inlineExtension"===t?s.createElement(b,{macro:e}):s.createElement(x,{isEditor:!0,macro:e,description:s.createElement(l._H,{id:"confluence-fabric-editor.extension.placeholder.can-not-render-in-editor",description:"Message shown when a macro is inserted but can't be rendered because it doesn't work in edit mode",defaultMessage:"The results of this element aren’t visible when editing. Preview the page or publish it to see how it will look."})});w.displayName="getNonRenderablePlaceholderComponent";var C=n(184044);const P=["username","spacekey"],Z=((...e)=>({transformFields:t=>e.reduce(((e,t)=>t.transformFields?t.transformFields(e):e),t),transformBefore:(t,n)=>e.reduce(((e,t)=>t.transformBefore?t.transformBefore(e,n):e),t),transformAfter:(t,n)=>e.reduce(((e,t)=>t.transformAfter?t.transformAfter(e,n):e),t)}))({transformBefore:(e,t)=>(null!=e[""]&&(e.defaultParameterValue=e[""],t.defaultParameterValue=t[""]),e),transformAfter:(e,t)=>(null!=e.defaultParameterValue&&(e[""]=e.defaultParameterValue,t[""]=t.defaultParameterValue,delete e.defaultParameterValue),e)},{transformBefore:(e,t)=>(Object.entries(t).forEach((([t,n])=>{"boolean"===n.type.name&&void 0!==e[t]&&(e[t]="false"!==e[t]&&!!e[t])})),e)},{transformBefore:(e,t)=>(Object.entries(t).forEach((([t,n])=>{const r=e[t];null!=n&&n.multiple&&void 0!==r&&"string"==typeof r&&P.includes(n.type.name)&&(e[t]=r.split(","))})),e),transformAfter:(e,t)=>(Object.entries(t).forEach((([t,n])=>{const r=e[t];null!=n&&n.multiple&&Array.isArray(r)&&P.includes(n.type.name)&&(e[t]=r.join(","))})),e)});var A=n(174807);const $={transformFields:e=>e.map((e=>"defaultParameterValue"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{type:"string",isRequired:!0}))),transformAfter:e=>(e.defaultParameterValue&&(e.defaultParameterValue=e.defaultParameterValue.replace(/^\s+/g,""),e.defaultParameterValue=e.defaultParameterValue.replace(/\s+$/g,""),e.defaultParameterValue=e.defaultParameterValue.replace(/\s+/g,"-"),e.defaultParameterValue=e.defaultParameterValue.substr(0,A.c0)),e)},N={transformFields:e=>e.map((e=>"labels"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{type:"custom",isMultiple:!0,options:{resolver:{type:"label"}}}))),transformBefore:e=>(e.labels&&"string"==typeof e.labels&&(e.labels=e.labels.split(",")),e),transformAfter:e=>(Array.isArray(e.labels)&&(e.labels=e.labels.join(",")),e)},M=["labels","spaces"],T={transformFields:e=>e.map((e=>{if(!M.includes(e.name))return e;let t;switch(e.name){case"labels":t={resolver:{type:"label"}};break;case"spaces":t={resolver:{type:"blogpostSpace"}};break;default:t={}}return(0,i.Z)((0,i.Z)({},e),{},{options:t,description:void 0,type:"custom",isMultiple:!0})})),transformBefore:e=>(M.forEach((t=>{e[t]&&"string"==typeof e[t]&&(e[t]=e[t].split(","))})),e),transformAfter:e=>(M.forEach((t=>{Array.isArray(e[t])&&(e[t]=e[t].join(","))})),e)};var k=n(160754),O=n(731807),D=n(830274),R=n(766700),S=n(204478),_=n(636012);function L(e,t){return(0,D.Z)((0,O.Z)(e),t)}function V(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(0,R.Z)(e);if(!(0,S.Z)(n))throw new RangeError("Invalid time value");var r=t||{},a=null==r.format?"extended":String(r.format),o=null==r.representation?"complete":String(r.representation);if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var i="",s="",l="extended"===a?"-":"",c="extended"===a?":":"";if("time"!==o){var d=(0,_.Z)(n.getDate(),2),u=(0,_.Z)(n.getMonth()+1,2),p=(0,_.Z)(n.getFullYear(),4);i="".concat(p).concat(l).concat(u).concat(l).concat(d)}if("date"!==o){var m=n.getTimezoneOffset();if(0!==m){var f=Math.abs(m),g=(0,_.Z)(Math.floor(f/60),2),h=(0,_.Z)(f%60,2);s="".concat(m<0?"+":"-").concat(g,":").concat(h)}else s="Z";var y=""===i?"":"T",v=[(0,_.Z)(n.getHours(),2),(0,_.Z)(n.getMinutes(),2),(0,_.Z)(n.getSeconds(),2)].join(c);i="".concat(i).concat(y).concat(v).concat(s)}return i}((0,k.Z)(e,t,new Date),{representation:"date"})}const F="yyyy-MM-dd",U={transformFields:e=>e.map((e=>"publishDate"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{description:void 0}))),transformBefore(e){var t;return null!==(t=e.publishDate)&&void 0!==t&&t.length&&(e.publishDate=V(e.publishDate,F)),e},transformAfter(e){var t;return null!==(t=e.publishDate)&&void 0!==t&&t.length&&(e.publishDate=L(e.publishDate,F)),e}},j={transformFields:e=>e.filter((e=>!["date","space"].includes(e.name))).map((e=>"page"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{type:"string",isHidden:!0}))),transformAfter:e=>(e.page||delete e.page,e)},K=/^[0-9]+$/,B=e=>K.test(e),q="dd-MM-yyyy",H=e=>e.reduce(((e,t)=>(e[t.name]=t,e)),{}),W={attachments:N,"blog-posts":T,calendar:{transformFields:e=>e.map((e=>"id"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{type:"custom",isMultiple:!0,options:{resolver:{type:"calendar"}}}))),transformBefore:e=>(e.id&&"string"==typeof e.id&&(e.id=e.id.split(",")),e),transformAfter:e=>(Array.isArray(e.id)&&(e.id=e.id.join(",")),e)},contributors:U,"contributors-summary":U,"create-from-template":{transformFields:e=>e.map((e=>"templateName"===e.name?(0,i.Z)((0,i.Z)({},e),{},{isMultiple:!1,type:"custom",options:{resolver:{type:"template"}}}):"spaceKey"===e.name?(0,i.Z)((0,i.Z)({},e),{},{isRequired:!1}):e)),transformAfter(e){return(0,i.Z)((0,i.Z)({},e),(t=e.templateName,/^[0-9]+$/.test(t)?{templateId:Number(e.templateName)}:{contentBlueprintId:e.templateName}));var t}},include:{transformFields:e=>e.map((e=>"defaultParameterValue"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{type:"custom",description:void 0,options:{resolver:{type:"spaceKeyAndPageTitleContent"}}})))},pagetree:{transformFields:e=>e.map((e=>"root"!==e.name?e:(0,i.Z)((0,i.Z)({},e),{},{isMultiple:!1,type:"custom",options:{resolver:{type:"rootPage"}}})))},viewpdf:j,viewdoc:j,viewxls:j,viewppt:j,"tasks-report-macro":{transformFields:e=>e.map((e=>"spaceAndPage"===e.name?(0,i.Z)((0,i.Z)({},e),{},{isMultiple:!0,type:"custom",options:{resolver:{type:"spaceAndPage"}}}):"createddateFrom"===e.name?(0,i.Z)((0,i.Z)({},e),{},{description:void 0}):e)),transformBefore(e){var t;let n="";return e.spaces&&(n+=e.spaces),e.pages&&(n&&(n+=","),n+=e.pages),n&&(e.spaceAndPage=n),delete e.spaces,delete e.pages,null!==(t=e.createddateFrom)&&void 0!==t&&t.length&&(e.createddateFrom=V(e.createddateFrom,q)),e},transformAfter(e){var t;if(Array.isArray(e.spaceAndPage)){const t=e.spaceAndPage.filter((e=>!B(e)));t.length>0&&(e.spaces=t.join(","));const n=e.spaceAndPage.filter(B);n.length>0&&(e.pages=n.join(",")),delete e.spaceAndPage}return null!==(t=e.createddateFrom)&&void 0!==t&&t.length&&(e.createddateFrom=L(e.createddateFrom,q)),e}},anchor:$},z=(e,t)=>{var n;const{macroName:r,formDetails:a}=e,o=H(a.parameters),i=null===(n=W[r])||void 0===n?void 0:n.transformBefore,s=null==Z?void 0:Z.transformBefore,l=i?i(t,o):t;return s?s(l,o):l},G=e=>e.alternateId||e.macroName,Y=e=>{const{bodyType:t,outputType:n}=e.formDetails.body;return"NONE"!==t?"bodiedExtension":"INLINE"===n?"inlineExtension":"extension"},J=e=>({48:()=>Promise.resolve((()=>v(e)))}),X=e=>e.formDetails&&(e.formDetails.parameters||[]).filter((e=>!e.hidden))||[],Q=(e,t)=>e.formDetails.parameters.some((n=>n.required&&null===n.defaultValue&&!n.hidden&&!((e,t,n)=>{if(t&&t.parameters&&t.parameters.macroParams){const r=z(n,(0,i.Z)({},t.parameters.macroParams));if(e in r){let t=r[e];return"object"==typeof t&&null!==t&&t.hasOwnProperty("value")&&(t=t.value),(0===t||!1===t||!!t)&&(!Array.isArray(t)||t.length>0)}}return!1})(n.name,t,e))),ee=(e,t)=>(0,C.T1)({macroDefinition:(0,i.Z)({name,body:"",params:{}},e),contentId:t}),te=e=>"PLAIN_TEXT"===e.formDetails.body.bodyType||("gadget"===e.macroName||e.customConfigEditor);let ne;!function(e){e.int="number",e.percentage="string",e.url="string",e.cql="dynamic-fieldset",e.relativedate="string",e.group="string",e.color="string"}(ne||(ne={}));const re={label:{type:"custom",label:"Label",isMultiple:!0,isRequired:!0,options:{resolver:{type:"label"}}},text:{type:"string",op:"~",label:"Including text"},contributor:{key:"contributor.accountid",type:"custom",label:"Contributor",isMultiple:!0,options:{resolver:{type:"username"}}},creator:{key:"creator.accountid",type:"custom",label:"Creator",isMultiple:!0,options:{resolver:{type:"username"}}},mention:{key:"mention.accountid",type:"custom",label:"Mentioning",isMultiple:!0,options:{resolver:{type:"username"}}},parent:{type:"custom",label:"With parent",options:{resolver:{type:"confluence-content-by-id"}}},ancestor:{type:"custom",label:"With ancestor",isMultiple:!0,options:{resolver:{type:"confluence-content-by-id"}}},space:{type:"custom",label:"In space",isMultiple:!0,options:{resolver:{type:"spacekey"}}},created:{type:"string",op:">=",label:"Created after",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},lastmodified:{type:"string",op:"<=",label:"Last modified",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},title:{type:"string",op:"~",label:"With title"},type:{type:"enum",label:"Of type",isMultiple:!1,style:"select",items:[{value:"page",label:"Page"},{value:"blog",label:"Blog"},{value:"comment",label:"Comment"},{value:"attachment",label:"Attachment"}]}},ae=(e,t,n,r,a)=>{const{pluginKey:o,macroName:i}=r;return e===[o,i,"param",n.name,a].join(".")?t:e},oe=(e,t)=>{const n=ie(e.type.name),r=((e,t)=>{const{displayName:n,name:r,description:a}=e;return{label:ae(n,r,e,t,"label"),name:e.name||"defaultParameterValue",defaultValue:e.defaultValue,description:ae(a,"",e,t,"desc"),isMultiple:!!e.multiple,isRequired:!!e.required,isHidden:!!e.hidden}})(e,t);if("custom"===n){return(0,i.Z)((0,i.Z)({},r),{},{type:"custom",options:{resolver:{type:e.type.name}}})}if("cql"===e.type.name){let n=ae(e.displayName,e.name,e,t,"label");"cql"===n&&(n="CQL");return{label:n,name:e.name||"defaultParameterValue",fields:Object.keys(re).map((e=>(0,i.Z)({name:e},re[e]))),type:"fieldset",options:{isDynamic:!0,transformer:{type:e.type.name}}}}if("enum"===n){return(0,i.Z)((0,i.Z)({},r),{},{type:"enum",style:"select",items:(e.enumValues||[]).map((e=>({label:e,value:e})))})}if("number"===n){var a;return(0,i.Z)((0,i.Z)({},r),{},{type:"number",defaultValue:null!==(a=r.defaultValue)&&void 0!==a?a:0})}if("boolean"===n){return(0,i.Z)((0,i.Z)({},r),{},{type:"boolean",defaultValue:"string"==typeof r.defaultValue?"false"!==r.defaultValue:!!r.defaultValue})}return(0,i.Z)((0,i.Z)({},r),{},{type:n})},ie=e=>(e=>e in ne)(e)?ne[e]:(e=>/^(enum|string|number|boolean|date)$/.test(e))(e)?e:"custom";var se=n(685049);const le=(e,t)=>()=>{const n=(e=>e.formDetails.parameters.filter((e=>e.defaultValue)).reduce(((e,t)=>(null!==t.defaultValue&&(e[t.name]=t.defaultValue),e)),{}))(e);return ee({name:e.macroName,params:n},t.contentId)},ce=(e,t,n,r)=>{const a=t.features.configPanel;return e.anyParameterRequired||e.formDetails.parameters.some((e=>e.required&&null===e.defaultValue))||e.alwaysShowConfig||(e=>{if("PLAIN_TEXT"===e.formDetails.body.bodyType)return!0;switch(e.macroName){case"children":case"tasks-report-macro":return!0;default:return e.customConfigEditor}})(e)?!a||te(e)?((e,t,n)=>async()=>{if(!t)throw new Error("Macro Browser Config is missing");if(!n)throw new Error("editorActions is missing");const r=await(0,C.hb)(e,t);n.replaceSelection(r)})(e,n,r):((e,t,n)=>async()=>{if(!n)throw new Error("editorActions is missing");const r=le(e,t),a=await r();n.replaceSelection(a),(0,se.hb)(n)})(e,t,r):le(e,t)},de=e=>async(t,n)=>{const r=[];return r.push((async e=>{const t=Object.entries(e).map((([e,t])=>Array.isArray(t)?t.map((t=>`${e}=${t}`)):`${e}=${t}`)).flat().join("&"),n=await(0,o.y)(`/wiki/json/attachmentsearch.action?${t}`),{attachments:r}=await n.json();return r?r.map((({title:e})=>({label:e,value:e}))):[]})((0,i.Z)((0,i.Z)({},e),{},{title:t}))),n&&r.push(Promise.resolve((Array.isArray(n)?n:[n]).map((e=>({label:e,value:e}))))),(await Promise.all(r)).flat()},ue=(e,t)=>{const n=t.contentId;switch(e.macroName){case"viewpdf":return de({pageId:n,fileTypes:["pdf"]});case"viewdoc":return de({pageId:n,fileTypes:["doc","docx"]});case"viewxls":return de({pageId:n,fileTypes:["xls","xlsx"]});case"viewppt":return de({pageId:n,fileTypes:["ppt","pptx"]});default:return de({pageId:n})}};var pe=n(846575),me=n(230382),fe=n.n(me);const ge=fe()`query SpaceSearch($cql:String!){search(cql:$cql first:25){edges{node{entityType title space{key icon{path}}}}}}`,he=async e=>{const t=(0,pe.WQ)();return(await t.query({query:ge,variables:{cql:e}})).data.search.edges.map((e=>({label:e.node.title,value:e.node.space.key,icon:`/wiki${e.node.space.icon.path}`})))},ye=e=>he(`type = space AND (space.title ~ "${e}*" OR space.key = "${e}")`),ve=e=>async(t,n)=>{const r=[];return t?r.push(ye(t)):(e&&r.push(Promise.resolve([{label:"Current space",value:"currentSpace()"}])),r.push(he("type = space AND space in recentlyViewedSpaces(4)"))),n&&(Array.isArray(n)?r.push(...n.map((e=>ye(e)))):r.push(ye(n))),(await Promise.all(r)).flat()},be=e=>["create-from-template","pagetree"].indexOf(e.macroName)>-1?ve(!1):ve(!0);var xe=n(958307);const Ie=e=>e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),Ee=e=>"currentSpace()"===e?e:`"${Ie(e.toString())}"`,we=e=>{const t=[];return t.push(...Object.entries(e).filter((e=>e[1])).map((e=>{let[t,n]=e;const r=re[t];let a,o=r.key||t,i="=";return r&&r.op&&(i=r.op),Array.isArray(n)&&1===n.length&&(n=n[0]),Array.isArray(n)?(a=`(${n.map(Ee).join(", ")})`,i="IN"):a="number"==typeof n?n.toString():Ee(n.toString()),`${o} ${i} ${a}`}))),t.join(" AND ")};function*Ce(e){if(e.clause&&(yield*Ce(e.clause)),e.clauses){if("OR"===e.type.toUpperCase()&&1!==e.clauses.length)throw new SyntaxError("cannot handle multiple OR clauses");for(const t of e.clauses)yield*Ce(t)}"expr"===e.nodeType&&(yield e)}const Pe=e=>{if(null==e)return{};const t=(0,xe.parse)(e),n=Array.from(Ce(t)),r={};return n.forEach((e=>{r[e.field]=e.value})),r},Ze=fe()`query UserSearch($cql:String!){search(cql:$cql first:25){edges{node{user{displayName accountId profilePicture{path}}}}}}`,Ae=async(e,t)=>{const n=(0,pe.WQ)();return(await n.query({query:Ze,variables:{cql:t||`type = user AND (user.fullname ~ "${e}*" OR user = "${e}")`}})).data.search.edges.map((e=>({label:e.node.user.displayName,value:e.node.user.accountId,icon:e.node.user.profilePicture.path})))},$e=async(e,t)=>{const n=[];return e&&n.push(Ae(e)),t&&(Array.isArray(t)?n.push(Ae(void 0,`user IN (${t.map((e=>`"${Ie(e)}"`)).join(", ")})`)):n.push(Ae(t))),(await Promise.all(n)).flat()},Ne=fe()`query LabelSearch($searchTerm:String!){labelSearch(searchText:$searchTerm limit:25){otherLabels{label}suggestedLabels{label}}}`,Me=e=>e.map((e=>({label:e.label,value:e.label}))),Te=async(e,t)=>{const n=[];return e&&n.push((async e=>{const t=(0,pe.WQ)(),{data:{labelSearch:n}}=await t.query({query:Ne,variables:{searchTerm:e}});return[...Me(n.suggestedLabels),...Me(n.otherLabels)]})(e)),t&&(Array.isArray(t)?n.push(Promise.resolve(t.map((e=>({label:e,value:e}))))):n.push(Promise.resolve([{label:t,value:t}]))),(await Promise.all(n)).flat()};var ke=n(494775);const Oe=fe()`query ContentSearch($cql:String!){search(cql:$cql first:25){edges{node{content{title id container{name icon{path}}}}}}}`,De=async e=>{const t=(0,pe.WQ)();return(await t.query({query:Oe,variables:{cql:e}})).data.search.edges.map((e=>({label:e.node.content.title,value:e.node.content.id,icon:`${ke.b}${e.node.content.container.icon.path}`,description:e.node.content.container.name})))},Re=async(e,t,n)=>{const r=[],a=n&&n.type||"page, blogpost";return e?r.push(De(`type IN (${a}) AND title ~ "${e}*"`)):r.push(De(`type IN (${a}) AND id in recentlyViewedContent(5)`)),t&&(Array.isArray(t)?r.push(De(`type IN (${a}) AND id IN (${t.join(",")})`)):r.push(De(`type IN (${a}) AND id = ${t}`))),(await Promise.all(r)).flat()},Se=ve(!0),_e=async(e,t)=>{let n,r;"string"==typeof t&&(t=t.split(",")),t&&t.length>0&&(n=t.filter((e=>!B(e))),n=n.length?n:void 0,r=t.filter(B),r=r.length?r:void 0);return[await Se(e,n),await Re(e,r,{type:"page"})].flat()},Le=fe()`query ContentSearch($cql:String!){search(cql:$cql first:25){edges{node{content{id title container{name icon{path}}space{id key}history{createdDate}type}}}}}`,Ve=async e=>{const t=(0,pe.WQ)();return(await t.query({query:Le,variables:{cql:e}})).data.search.edges.map((e=>{const{content:t}=e.node;let n="";if("blogpost"===t.type){const e=new Date(t.history.createdDate),r=e.getFullYear();let a=`${e.getMonth()+1}`;+a<10&&(a=`0${a}`);let o=`${e.getDate()}`;+o<10&&(o=`0${o}`);const i=`/${r}/${a}/${o}/`;n=`${t.space.key}:${i}${t.title}`}else n=`${t.space.key}:${t.title}`;return{label:e.node.content.title,value:n,icon:`${ke.b}${t.container.icon.path}`,description:t.container.name}}))},Fe=async(e,t)=>{const n=[];if(t){"string"==typeof t&&(t=[t]);for(const e of t){const t=e.indexOf(":"),r=e.substring(0,t),a=e.substring(t+1),o=a.replace(/^\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\//,"");a===o?n.push(Ve(`space.key = "${r}" AND type = page AND title = "${a}"`)):n.push(Ve(`space.key = "${r}" AND (\n              (type = page AND title = "${a}")\n                OR\n              (type = blogpost AND title = "${o}")\n            )`))}}return e?n.push(Ve(`type IN (page, blogpost) AND title ~ "${e}*"`)):n.push(Ve("type IN (page, blogpost) AND id in recentlyViewedContent(5)")),(await Promise.all(n)).flat()},Ue=async e=>{const t=await(0,o.y)(`/wiki/rest/calendar-services/1.0/calendar/util/format/subcalendar/ids.json?subCalendarIds=${e.join("%2C")}`);return(await t.json()).map((({name:e,id:t})=>({label:e,value:t})))},je=async(e,t)=>{const n=[];return e&&n.push((async e=>{const t=await(0,o.y)(`/wiki/rest/calendar-services/1.0/calendar/search/subcalendars.json?term=${e}&limit=25&showSubCalendarsInView=true`),n=await t.json();return n.success?n.payload.map((({subCalendar:{name:e,spaceName:t,id:n}})=>({label:e,description:t,value:n}))):[]})(e)),t&&(Array.isArray(t)?n.push(Ue(t)):n.push(Ue([t]))),(await Promise.all(n)).flat()};var Ke=n(929300);const Be=e=>"00000000-0000-0000-0000-000000000000"!==e.contentBlueprintId&&e.contentBlueprintId!==Ke.Ag,qe=e=>async(t,n)=>e?await(async e=>{const t=await(0,o.y)(`/wiki/rest/create-dialog/1.0/blueprints/web-items?spaceKey=${e}`),n=await t.json();return Array.isArray(n)?n.filter(Be).map((e=>({label:e.name,description:e.description,icon:e.iconURL,value:(0,Ke.E6)(e)}))):[]})(e):[],He=e=>{const t=e.spaceKey;return qe(t)},We=({resolver:e,values:t})=>{const n=e=>-1===t.indexOf(e);return async(r,a)=>{Array.isArray(a)?a=a.filter(n):n(a)||(a="");const o=await e(r,a);return o.push(...t.map((e=>({label:e,value:e})))),o}};var ze=n(413444),Ge=n(835642),Ye=n(293277),Je=n(345087),Xe=n(254958),Qe=n(501053);var et=n(469931),tt=n(795166);const nt=()=>(0,o.y)("/wiki/plugins/macrobrowser/browse-macros.action?detailed=true&origin=extension-provider",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())),rt=async(e,t,n,a,o)=>{const{featureFlags:i}=await(0,r.g)(),l=(0,et.G5)(i);return e.map((e=>ot(Ge.UE.MACRO_CORE,e,t,n,!l(e),a,o))).concat(function(e,t,n){const r="inlineExtension",a=t?Je.o:Xe.o;return[Ge.rI.INVALID,Ge.rI.INLINE_MEDIA_IMAGE,Ge.rI.INLINE_EXTERNAL_IMAGE].map((t=>({title:"Migration Extension",key:t,type:Ge.UE.MIGRATION,icons:{48:async()=>()=>s.createElement(Ye.default,{label:"Migration Extension",size:"medium"})},modules:{nodes:{default:{type:r,render:async()=>({node:t})=>a({contentId:e})(t,{}),update:n&&(e=>(0,Qe.uX)({type:r,attrs:{parameters:e}},n))}}}})))}(t.contentId,!!o,a))},at=(e,t,n,r)=>{const a=G(e);return e.hidden?[]:[{key:a,title:e.title,description:e.description,keywords:[e.macroName,...e.aliases],categories:e.categories,icon:()=>Promise.resolve((()=>v(e))),featured:t.features.elementBrowser&&C.KJ.includes(a),action:ce(e,t,n,r)}]},ot=(e,t,n,r,a,o,i)=>{const s=t.macroName,l=!!i,c=!!n.features.configPanel,d={type:Y(t),render:()=>{const n=r[e];return Promise.resolve((e=>{let r=Q(t,e.node);return"anchor"!==t.macroName||l||(r=!1),!c&&l||!r?c&&l&&!(e=>{switch(e.macroName){case"contributors":case"pagetreesearch":case"toc":case"pagetree":return!1;default:return!0}})(t)?w(t,Y(t)):"function"==typeof n?n(e.node,null):n.render(e.node,null):E(t,l)}))}};if(!a&&!t.hidden&&(X(t).length>0||te(t))){const e=async(e,r)=>{const a=await ee({name:t.macroName,params:(0,ze.LW)(e.macroParams)},n.contentId),o=(0,ze.I)(e.macroParams||{});if(o){var i,s;const e=null===(i=a.attrs)||void 0===i||null===(s=i.parameters)||void 0===s?void 0:s.macroParams;e&&(e[""]=o)}return(await(0,C.ce)(a,r)).attrs.parameters||{}};d.update=(r,a)=>{const i=e=>z(t,(0,ze.LW)(e.macroParams)),s=async e=>{const r=((e,t)=>{var n;const{macroName:r,formDetails:a}=e,o=H(a.parameters),i=null===(n=W[r])||void 0===n?void 0:n.transformAfter,s=null==Z?void 0:Z.transformAfter,l=i?i(t,o):t;return s?s(l,o):l})(t,e),a={name:t.macroName,params:r},o=(0,ze.I)(r);o&&(a.defaultParameterValue=o);const i=await ee(a,n.contentId);return i.attrs.parameters&&(i.attrs.parameters.macroMetadata||(i.attrs.parameters.macroMetadata={}),i.attrs.parameters.macroMetadata.macroId||(i.attrs.parameters.macroMetadata.macroId={value:(0,tt.or)(i.attrs.parameters)})),i.attrs.parameters||{}};return!c||te(t)?e(r,o):new Promise((()=>{a.editInContextPanel(i,s)}))},X(t).length>0&&(d.getFieldsDefinition=()=>{const e=t.formDetails.parameters.map((e=>oe(e,{pluginKey:t.pluginKey,macroName:G(t)})));return Promise.resolve((({macroName:e},t)=>{var n;const r=null===(n=W[e])||void 0===n?void 0:n.transformFields,a=null==Z?void 0:Z.transformFields,o=r?r(t):t;return a?a(o):o})(t,e))})}return{type:e,key:s,title:t.title,description:t.description,icons:J(t),documentationUrl:t.formDetails.documentationUrl||void 0,modules:{quickInsert:!a&&i?at(t,n,o,i):[],nodes:{default:d},fields:{custom:{attachment:{resolver:ue(t,n)},spacekey:{resolver:be(t)},username:{resolver:$e},label:{resolver:Te},"confluence-content-by-id":{resolver:Re},"confluence-content":{resolver:Fe},spaceAndPage:{resolver:_e},spaceKeyAndPageTitleContent:{resolver:Fe},rootPage:{resolver:We({resolver:Fe,values:["@self","@home"]})},calendar:{resolver:je},template:{resolver:He(n)},blogpostSpace:{resolver:We({resolver:ve(!1),values:["@self","@personal","@global","@favorite","@favourite","@all","*"]})}},fieldset:{cql:{serializer:we,deserializer:Pe}}}}}},it=async(e,t,n,r)=>{const[o,i]=await Promise.all([nt(),(0,C.JK)(r)]),s=await rt(o.macros,e,t,r,n);return new a.Z(s,[e=>{const t=i(e);if(t)return t}])},st=async(e,t)=>{const n=await nt(),r=await rt(n.macros,e,t);return new a.Z(r)}},527201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(151119),a=n(202784),o=n(145703),i=n(406165);class s extends a.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"stopMacroExperience",(e=>{const{mode:t,node:n,contentId:r}=this.props,s=(0,o.iQ)(n);return a.createElement(i.M,{name:(0,o.ag)(t,n),contentId:r,mode:t,error:e,attributes:s})}))}render(){const{width:e,height:t,src:n}=this.props;return a.createElement("img",{style:{cursor:"move"},width:e,height:t,src:n,onError:this.stopMacroExperience,onLoad:this.stopMacroExperience})}}s.displayName="InlineExternalImageComponent",(0,r.Z)(s,"defaultProps",{width:"auto",height:"auto"});const l=s},190821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(159394),a=n(202784),o=n(5201),i=n(384684),s=n(846575),l=n(315783),c=n(460445),d=n(145703);function u({attributes:e,children:t=null,contentId:n,extensionKey:r,error:a,mode:o,name:i}){const s=(0,l.TW)(d.Sx);return(0,c.K)((()=>{s&&(0,d.SY)(o,n).fail({name:i,attributes:e,error:a})}),[e,n,r,a,s,o,i]),t}var p=n(684566),m=n(885255),f=n(772005),g=n(248463),h=n(864222),y=n(866380),v=n(412470),b=n(830691);const x=v.default.div`
  display: inline;
`,I=a.forwardRef(((e,t)=>a.createElement(x,(0,r.Z)((0,r.Z)({},e),{},{innerRef:t})))),E=(0,b.vU)({openLink:{id:"confluence-fabric-editor.inline-image.openLink",defaultMessage:"Open link in a new tab",description:"Tooltip message when user hover over inline image to alert them that they can open the link in a new tab"}});class w extends a.PureComponent{render(){const{width:e="auto",height:t="auto",id:n,collection:r,clientId:o,token:i,link:s,intl:l,baseUrl:c}=this.props,d={collectionName:r,width:Number(e)||void 0,height:Number(t)||void 0},u={authProvider:()=>Promise.resolve({clientId:o,token:i,baseUrl:c})};return a.createElement(g.q,{identifier:{collectionName:r,id:n,mediaItemType:"file"},mediaClientConfig:u,apiConfig:d},(({loading:e,error:t,data:n})=>e?null:t||!n?a.createElement(y.Z,{tag:"span",content:"Image has failed to load"},a.createElement(h.default,{primaryColor:"#97a0af",size:"xlarge",label:"Image has failed to load"})):a.createElement(y.Z,{content:l.formatMessage(E.openLink),tag:I,delay:0},a.createElement("a",{href:s},a.createElement("img",{src:n.src})))))}}w.displayName="InlineImageComponent";const C=(0,b.XN)(w);var P=n(230382);const Z=n.n(P)()`query InlineImageQuery($contentId:ID){content(id:$contentId){nodes{id body{atlas_doc_format{mediaToken{token}}}}}mediaConfiguration{clientId fileStoreUrl}}`;class A extends a.PureComponent{render(){const{contentId:e,mode:t,extensionKey:n,node:l,link:c}=this.props,g=(0,d.iQ)(l);return a.createElement(o.eT,{client:(0,s.WQ)()},a.createElement(m.F.Provider,{value:(0,f.OV)()},a.createElement(i.AE,{query:Z,variables:{contentId:e}},(({data:o,loading:i,error:s})=>{var m,f,h;if(i)return null;if(s||!o)return a.createElement(u,{name:(0,d.ag)(t,l),contentId:e,extensionKey:n,mode:t,error:s||new Error(`${n} failed to render. InlineImage query data is empty`),attributes:g});const y=(null!=(h=o)&&null!=(h=h.content)&&null!=(h=h.nodes)&&null!=(h=h[0])&&null!=(h=h.body)&&null!=(h=h.atlas_doc_format)&&null!=(h=h.mediaToken)?h.token:h)||null,v=(null!=(f=o)&&null!=(f=f.mediaConfiguration)?f.clientId:f)||null,b=(null!=(m=o)&&null!=(m=m.mediaConfiguration)?m.fileStoreUrl:m)||null;return a.createElement(a.Fragment,null,a.createElement(C,(0,r.Z)((0,r.Z)({},this.props),{},{link:c,token:y,clientId:v,baseUrl:b})),a.createElement(p.N,{name:(0,d.ag)(t,l),contentId:e,extensionKey:n,mode:t,attributes:g}))}))))}}A.displayName="InlineImage"},588316:(e,t,n)=>{"use strict";n.d(t,{y:()=>V});var r=n(151119),a=n(202784),o=n(412470),i=n(830691),s=n(276382),l=n(175612),c=n(29398),d=n(581708),u=n(10314),p=n(5201),m=n(384684),f=n(908317),g=n(180213),h=n(846575),y=n(164464),v=n(353273),b=n(145703),x=n(406165),I=n(684566),E=n(885255),w=n(772005),C=n(440805),P=n(823010),Z=n(230382);const A=n.n(Z)()`query ConvertStorageContentToADFMutation($cxhtml:String!$contentId:String!)@experimental{experimentalConvertStorageContentToADF(cxhtml:$cxhtml contentId:$contentId){value}}`;var $,N;const M=o.default.div`
  ${(0,c.AC)()};
`,T=o.default.div`
  color: ${l.B400}
  font-weight: 500;
`,k=o.default.div`
  display: flex;
`,O=o.default.div``,D=o.default.div`
  background-color: ${l.N0};
  margin-top: 10px;
`,R=o.default.div`
  display: flex;
  flex: 0 1 auto;
`,S=o.default.div`
  display: flex;
  flex: 9 1 auto;
`,_=o.default.div`
  display: flex;
  flex: 0 1 auto;
`,L=o.default.div`
  width: 100%;
`,V=(0,i.XN)((N=$=class extends a.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"state",{html:null,expanded:!1}),(0,r.Z)(this,"expandHandler",(()=>{this.setState({expanded:!this.state.expanded})})),(0,r.Z)(this,"onClickLearnMore",(()=>{window.open("https://support.atlassian.com/confluence-cloud/docs/convert-pages-to-the-new-editor/#Convertpagestotheneweditor-WhatACTUALLYhappenswhenyourcontentisconverted","_blank")}))}render(){const{reason:e,cxhtml:t,contentId:n,mode:r,extensionKey:o,node:l}=this.props,{formatMessage:c}=this.props.intl,Z=(0,b.iQ)(l),$=a.createElement(T,null,a.createElement(i._H,{defaultMessage:"This element has conversion issues",id:"confluence-fabric-editor.invalid.extension.component.unsupported.content",description:"The title inside Unsupported Content element notifying user that there is conversion issue with the page element"}));return a.createElement(p.eT,{client:(0,h.WQ)()},a.createElement(E.F.Provider,{value:(0,w.OV)()},a.createElement(f.S,{attribution:g.x.CONTENT_EXPERIENCE},a.createElement(y.e,null,(({featureFlags:p})=>p["confluence.frontend.support.unsupported.fabric.migration"]?a.createElement(m.AE,{query:A,variables:{cxhtml:t,contentId:n}},(({data:t,loading:p,error:m})=>{var f;if(m)return a.createElement(a.Fragment,null,a.createElement(x.M,{name:(0,b.ag)(r,l),contentId:n,mode:r,error:m,attributes:Z}),a.createElement(C.X,{error:m}));const g=(e=>{if(e)try{return JSON.parse(e)}catch(m){console.error(m)}return null})(null!=(f=t)&&null!=(f=f.experimentalConvertStorageContentToADF)?f.value:f);return a.createElement(a.Fragment,null,a.createElement(L,null,a.createElement(s.Z,{appearance:"warning"},a.createElement(k,{onClick:this.expandHandler,className:"header-container"},a.createElement(R,null,this.state.expanded?a.createElement(u.default,{label:c({id:"confluence-fabric-editor.invalid.extension.component.expand.down.icon",defaultMessage:"Collapse"})}):a.createElement(d.default,{label:c({id:"confluence-fabric-editor.invalid.extension.component.expand.up.icon",defaultMessage:"Expand",description:"The tooltip message when hover over expand icon in Unsupported Content"})})),a.createElement(S,{onClick:this.expandHandler},$),a.createElement(_,{onClick:this.onClickLearnMore},a.createElement("a",{style:{cursor:"pointer"}},a.createElement(i._H,{defaultMessage:"Learn More",id:"confluence-fabric-editor.invalid.extension.component.unsupported.content.learn.more",description:"The Learn More anchor link that direct user to another page telling them what happen when convert page"})))),this.state.expanded?a.createElement(O,null,e?a.createElement(M,{className:"reason-message"},a.createElement("span",null,e)):a.createElement(M,null,a.createElement(M,null,a.createElement(i._H,{defaultMessage:"You won't lose any content when the page is converted, but it'll look like this since this combination can't be edited in the new editor.",id:"confluence-fabric-editor.invalid.extension.component.unsupported.combination.cannot.be.edited.in.new.editor",description:"The message inside Unsupported Content element notifying user that user won't lose any content when the page is converted and content combination can't be edited in the new editor"}))),!g||p?a.createElement(v.L,{size:"medium"}):a.createElement(D,null,a.createElement(P.Z,{appearance:"full-width",adf:g,objectId:n||"",ignoreHeadingAnchorLinksFeatureFlag:!0}))):null)),a.createElement(I.N,{attributes:Z,contentId:n,extensionKey:o,mode:r,name:(0,b.ag)(r,l)}))})):null)))))}},(0,r.Z)($,"defaultProps",{cxhtml:""}),N))},28587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(202784),a=n(412470),o=n(175612);const i=a.default.span`
  padding: 2px 5px;
  background-color: ${o.B50};
  border-radius: 3px 0 0 3px;
`,s=a.default.span`
  word-break: break-all;
  color: ${o.N800};
  font-weight: initial;
`,l=a.default.span`
  color: ${o.N70};
  padding: 2px 5px;
  background-color: ${o.B50};
  border-radius: 0 3px 3px 0;
  word-break: break-all;
`;class c extends r.PureComponent{render(){const{parameters:e}=this.props;return r.createElement("span",null,r.createElement(i,null,r.createElement(s,{"data-test-id":"variable-name"},e.name)),r.createElement(l,{"data-test-id":"variable-type"},`| ${e.type}`))}}c.displayName="TemplateVariables";const d=c},135782:(e,t,n)=>{"use strict";n.d(t,{q:()=>y});var r=n(159394),a=n(202784),o=n(143346),i=n(653504),s=n(556737),l=n(227371),c=n(10314),d=n(220865),u=n(664411),p=n(341325);const m=e=>{const{parameters:t,onChange:n,value:o,placeholder:i}=e,s=t.params&&t.params.options,u=(0,a.useMemo)((()=>s?(e=>e.map((e=>({label:e,value:e}))))(s):[]),[s]),m=(0,a.useMemo)((()=>(e=>t=>{e(t.value)})(n)),[n]),f={option:e=>(0,r.Z)((0,r.Z)({},e),{},{wordBreak:"break-word"})};return a.createElement(d.Z,{options:u,placeholder:`${o||i}`,onChange:m,target:({ref:e,isOpen:t})=>a.createElement(p.ZJ,null,a.createElement(l.Z,{ref:e,iconAfter:a.createElement(c.default,{label:"dropdown icon"}),isSelected:t},`${o||i}`)),popperProps:{placement:"auto",modifiers:[{name:"preventOverflow",options:{boundary:"clippingParents"}}]},maxMenuHeight:200,maxMenuWidth:200,searchThreshold:10,styles:f,value:{label:o,value:o}||""})};m.displayName="DropDownInput";const f=e=>{const{parameters:t,onChange:n,value:o,placeholder:s}=e,l={placeholder:s};return a.createElement(i.Z,(0,r.Z)({onChange:n,value:o||"",minimumRows:t.params&&t.params.rows||1,resize:"vertical",cols:t.params&&t.params.columns||30},l))};f.displayName="TextareaInput";const g=e=>{const{onChange:t,value:n,inputName:r,placeholder:i}=e;return a.createElement(o.Z,{name:r,onChange:t,value:n||"",placeholder:i,width:200,isCompact:!0})};g.displayName="TextfieldInput";const h=e=>{const{parameters:t}=e;switch(t.type){case u.PV:return a.createElement(m,(0,r.Z)({},e));case u.gp:return a.createElement(f,(0,r.Z)({},e));default:return a.createElement(g,(0,r.Z)({},e))}},y=e=>{const{parameters:t}=e,n=`$${t.name}`,o=`${t.placeholder||t.name}`;return t.type===u.gp?a.createElement(p.vJ,null,a.createElement("div",{style:{display:"inline-block",width:"100%"}},a.createElement(s.default,{name:n,defaultValue:""},(({fieldProps:e})=>a.createElement(h,(0,r.Z)((0,r.Z)({},e),{},{parameters:t,inputName:n,placeholder:o})))))):a.createElement(p.t_,null,a.createElement("div",{style:{display:"inline-block",width:"100%",margin:"0px 0px"}},a.createElement(s.default,{name:n,defaultValue:""},(({fieldProps:e})=>a.createElement(h,(0,r.Z)((0,r.Z)({},e),{},{parameters:t,inputName:n,placeholder:o}))))))}},341325:(e,t,n)=>{"use strict";n.d(t,{PC:()=>a,Cy:()=>o,hW:()=>i,Uu:()=>s,Nj:()=>l,jY:()=>c,t_:()=>d,vJ:()=>u,ZJ:()=>p});var r=n(412470);const a=r.default.div`
  overflow: scroll;
  height: calc(100vh - 100px);
`,o=r.default.div`
  max-width: 680px;
  display: flex;
  box-sizing: content-box;
  margin: 0 auto;
  justify-content: flex-end;
  transition: box-shadow 200ms ease 0s;
  height: 80px;
`,i=r.default.header`
  padding: 0 32px;
  max-width: 680px;
  display: block;
  box-sizing: content-box;
  margin: 0 auto;
`,s=r.default.div`
  height: calc(100vh - 24px);
  overflow: hidden;
`,l=r.default.div`
  overflow: scroll;
  height: calc(100vh - 100px);
`,c=r.default.div`
  transition: box-shadow 200ms ease 0s;
  box-shadow: ${e=>e.isBottomStyled?"inset rgb(235, 236, 240) 0px 2px 0px 0px":"inset rgb(255, 255, 255) 0px 2px 0px 0px"};
`,d=r.default.span`
  display: inline-block;
  max-width: 100%;
  white-space: initial;
`,u=r.default.span`
  display: inline-block;
  max-width: 100%;
  position: relative;
  vertical-align: top;
`,p=r.default.span`
  & span {
    position: unset;
  }
`},835642:(e,t,n)=>{"use strict";n.d(t,{OR:()=>r,gU:()=>a,x9:()=>o,D4:()=>i,UE:()=>s,rI:()=>l});const r="extension",a="inlineExtension",o="bodiedExtension",i=[{content:[],type:"paragraph"}],s={TEMPLATE:"com.atlassian.confluence.template",MACRO_CORE:"com.atlassian.confluence.macro.core",MIGRATION:"com.atlassian.confluence.migration"},l={TEMPLATE:"variable",INLINE_EXTERNAL_IMAGE:"inline-external-image",INLINE_MEDIA_IMAGE:"inline-media-image",PRIVACY_MARK:"privacy-mark",ANCHOR:"anchor",PANEL:"panel",SECTION:"section",CHEESE:"cheese",COLUMN:"column",CONTENT_BY_USER:"content-by-user",CREATE_SPACE_BUTTON:"create-space-button",FAVORITE_PAGES:"favpages",GLOBAL_REPORTS:"global-reports",IM_PRESENCE:"im",LOREMIPSUM:"loremipsum",NAVIGATION_MAP:"navmap",RECENTLY_USED_LABELS:"recently-used-labels",SEARCH:"search",SPACE_DETAILS:"space-details",INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__"}},723448:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var r=n(202784),a=n(164464),o=n(551159),i=n(5201),s=n(846575);const l=e=>(t,...n)=>r.createElement(i.eT,{client:(0,s.WQ)()},r.createElement(a.e,null,(a=>r.createElement(o.g.Provider,{value:a},e(t,n)))))},983473:(e,t,n)=>{"use strict";n.d(t,{tr:()=>o,EK:()=>s});var r=n(159394);function a(e){return e.type.name||e.type}function o(e,t){return{type:a(e),attrs:(0,r.Z)((0,r.Z)({},e.attrs),{},{parameters:(0,r.Z)((0,r.Z)({},e.attrs.parameters),t)})}}function i(e,t){for(const n of Object.keys(e)){const r=e[n];t(n,r),null!==r&&"object"==typeof r&&i(e[n],t)}}function s(e,t){const n=[];return i(e,((e,r)=>{r&&r.type===t&&n.push(r)})),n}},795516:(e,t,n)=>{"use strict";n.d(t,{kg:()=>l,ik:()=>c});var r=n(183883),a=n.n(r),o=n(852343),i=n(929796),s=n(803894);function l(){let e=null;return function(){if(e)return Promise.resolve(e);const t=e=>e.json();return(0,i.y)("/wiki/plugins/macrobrowser/browse-macros.action?detailed=false&t=12").then(t,(e=>{if(e instanceof s.K)return t(e.response);throw e})).then((({macros:t})=>(e=t,t)))}}function c(){return new Promise((e=>{o.W.require(["wrc!fabric-editor-macro-browser","wr!com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-macro-browser","wr!com.atlassian.confluence.plugins.gadgets:macro-browser-for-gadgetsplugin","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:editor-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-macro-browser-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources","wrc!com.atlassian.confluence.extra.team-calendars:amd","wrc!com.atlassian.confluence.extra.team-calendars:user-timezone-setup","wrc!com.atlassian.confluence.extra.team-calendars:calendar-init-editor","wrc!com.atlassian.confluence.extra.team-calendars:macro-browser-web-resources"],(()=>{const t=a().require("confluence-macro-browser/macro-browser");Promise.all([n.e(11216),n.e(77090)]).then(n.bind(n,377090)).then((e=>{e.default()})).then((()=>{a().AJS.trigger("reset.rte"),e(t)}))}))}))}},501053:(e,t,n)=>{"use strict";n.d(t,{Oh:()=>d,IP:()=>c,df:()=>p,uX:()=>u});var r=n(768606);const a=(0,r.P)({__loadable_id__:"WkGBc",name:"ResizeImageDialogLoader",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(78614)]).then(n.bind(n,12758))}),o=(0,r.P)({__loadable_id__:"cQbhm",name:"UnmodifiableMacroDialogLoader",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(15726)]).then(n.bind(n,971507))});var i=n(835642),s=n(983473);const l=[i.rI.INLINE_MEDIA_IMAGE,i.rI.INLINE_EXTERNAL_IMAGE,i.rI.PANEL,i.rI.SECTION,i.rI.INVALID,i.rI.CHEESE,i.rI.COLUMN,i.rI.CONTENT_BY_USER,i.rI.CREATE_SPACE_BUTTON,i.rI.CREATE_SPACE_BUTTON,i.rI.FAVORITE_PAGES,i.rI.GLOBAL_REPORTS,i.rI.IM_PRESENCE,i.rI.LOREMIPSUM,i.rI.NAVIGATION_MAP,i.rI.RECENTLY_USED_LABELS,i.rI.SEARCH,i.rI.SPACE_DETAILS,i.rI.PRIVACY_MARK];function c(e){return e&&e.attrs&&-1!==l.indexOf(e.attrs.extensionKey)}function d(e){return e&&e.attrs&&e.attrs.extensionType===i.UE.MIGRATION&&(e.attrs.extensionKey===i.rI.INLINE_EXTERNAL_IMAGE||e.attrs.extensionKey===i.rI.INLINE_MEDIA_IMAGE)}function u(e,t){return new Promise(((n,r)=>{e&&e.attrs&&t.setActiveModal?t.setActiveModal(o,{onClose:()=>{r("cancel"),t.closeActiveModal&&t.closeActiveModal()}}):r(new Error("Cannot open unmodifiable macro dialog"))}))}function p(e,t){return new Promise(((n,r)=>{if(!e||!e.attrs||!t.setActiveModal)return void r(new Error("Cannot open resize image dialog"));let o,i=e.attrs.parameters;o="src"in i?i.src:`${i.baseUrl}/file/${i.id}/image?collection=${i.collection}&client=${i.clientId}&token=${i.token}`,t.setActiveModal(a,{imageSrc:o,imageWidth:i.width,imageHeight:i.height,onSave:t=>{const r=(0,s.tr)(e,t);n(r)},onClose:t.closeActiveModal})}))}},469931:(e,t,n)=>{"use strict";n.d(t,{G5:()=>s,KD:()=>l});var r=n(164464),a=n(945233),o=n(618046);const i={align:!0,bgcolor:!0,center:!0,cheese:!0,clickable:!0,code:!0,colgroup:!0,column:!0,"content-by-user":!0,copyright:!0,"create-space-button":!0,div:!0,"fancy-bullets":!0,favpages:!0,"gadget-b7a6531b1c147f2e175f1209bed5c0ad":!0,"global-reports":!0,highlight:!0,htmlcomment:!0,im:!0,img:!0,info:!0,junitreport:!0,li:!0,loremipsum:!0,lozenge:!0,multimedia:!0,navmap:!0,network:!0,noformat:!0,note:!0,ol:!0,p:!0,panel:!0,pre:!0,"privacy-policy":!0,"privacy-mark":!0,"recently-used-labels":!0,"reg-tm":!0,rollover:!0,roundrect:!0,search:!0,section:!0,sm:!0,"space-attachments":!0,"space-details":!0,span:!0,status:!0,strike:!0,style:!0,table:!0,tbody:!0,td:!0,th:!0,thead:!0,tr:!0,tip:!0,tm:!0,ul:!0,warning:!0};function s(e){let t={};return e[o.Wg]||(t.anchor=!0),e[a.ac]&&(t.expand=!0),e=>!function(e,t={}){const n=e.alternateId||(e.id?e.id.replace("macro-",""):e.macroName);return t.hasOwnProperty(n)?t[n]:Boolean(i[n])}(e,t)}async function l(e){const t=[...e.metadataList],{featureFlags:n}=await(0,r.g)(),a=s(n);return e.metadataList=e.metadataList.filter(a),function(){e.metadataList=t}}},184044:(e,t,n)=>{"use strict";n.d(t,{KJ:()=>v,T1:()=>$,JK:()=>E,ZT:()=>I,ZQ:()=>x,hb:()=>A,wk:()=>P,ce:()=>Z,dm:()=>w});var r=n(159394),a=n(798623),o=n(164464),i=n(835642),s=n(413444),l=n(795516),c=n(183883),d=n.n(c);async function u(e){const t={macroDefinition:{name:"jira"},contentId:e},n=await $(t);return e=>function(e,t){const n={source:e},r=d().require("confluence/jim/editor-plugins/jira-paste-link").pasteHandler(n,null,(()=>{}));if(!r||!r.params)return null;const a=JSON.parse(JSON.stringify(t));return a.attrs.parameters||(a.attrs.parameters={}),a.attrs.parameters.macroParams=(0,s.ZI)(r.params),a}(e,n)}const p=e=>{for(;-1!==e.indexOf("{}{}");)e=e.replace("{}{}","{}");return e="^"+(e=((e,t,n)=>n.replace(new RegExp(e,"g"),t))("{}","[^/]*?",e=e.replace(/[\-\[\]\/\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")))+"$"};async function m(e,t){const n=[],r=await e(),a=new Set;r.forEach((e=>{(e=>e.autoconvertData&&e.autoconvertData.urlParameter&&e.autoconvertData.patterns)(e)&&e.autoconvertData.patterns.forEach((t=>{if((e=>["http://","https://","http://{}","https://{}","http://{}.{}","https://{}.{}","http://{}.{}.{}","https://{}.{}.{}"].every((t=>t!==e)))(t)){const r={macroName:e.macroName,urlParameter:e.autoconvertData.urlParameter,matcher:p(t)};a.add(r.macroName),n.push(r)}}))}));const o=await(async(e,t)=>(await Promise.all(Array.from(e).map((e=>$({macroDefinition:{name:e},contentId:t}))))).reduce(((e,t)=>(e[t.attrs.extensionKey]=t,e)),{}))(a,t);return e=>((e,t,n)=>{const r=t.find((t=>!!e.match(t.matcher)));if(r){const{macroName:t,urlParameter:a}=r,o={};o[a]=e;const i=n[t],l=JSON.parse(JSON.stringify(i));return l.attrs.text=`${a} = ${e}`,l.attrs.extensionKey=t,l.attrs.parameters||(l.attrs.parameters={}),l.attrs.parameters.macroParams=(0,s.ZI)(o),l}return null})(e,n,o)}const f=()=>null;var g=n(174807),h=n(469931);const y=(0,l.kg)(),v=["toc","expand","jira","trello-board","status","jiraroadmap"],b={type:"extension",content:i.D4},x=async()=>{const[e,{featureFlags:t}]=await Promise.all([y(),(0,o.g)()]),n=(0,h.G5)(t);return e.filter((e=>!e.hidden&&n(e)))};function I(){return x().then((e=>e.filter((e=>v.includes(e.macroName)))))}function E(e){return(async(e,t)=>{const{contentId:n}=t;if(!n)return f;const[r,a]=await Promise.all([u(n),m(e,n)]);return e=>r(e)||a(e)})(x,e)}function w(e,t,n){const r=e.macroName;return e.anyParameterRequired||"children"===r||"tasks-report-macro"===r?A(e,t,void 0,n):$({macroDefinition:{name:r,body:"",params:{}},contentId:t.contentId})}async function C(e,t,n,r,a,i){const s=await(0,h.KD)(e);let l;return{autoClose:!1,onComplete:async c=>{l=!0,e.UI.showBrowserSpinner(!0);const d=n&&n.hasOwnProperty("content")?n:null,u=function(e,t,n){const{name:r,body:a,params:o,defaultParameterValue:i,schemaVersion:s}=e;return{macroDefinition:{name:r||"",body:a||"",params:o,defaultParameterValue:i||"",schemaVersion:s},contentId:t.contentId,selectedMacro:n}}(c,t,d);try{const t=await async function(e,t,n){if("anchor"===e.macroDefinition.name){let t=e.macroDefinition.params[""].replace(/^\s+/g,"");if(t=t.replace(/\s+$/g,""),t=t.replace(/\s+/g,"-"),n&&n.createAnalyticsEvent){let e;if(""===t)e="missing";else{t=t.substring(0,g.c0);try{decodeURIComponent(t),e="valid"}catch(r){e="invalid"}}((e,t,n,r)=>{e({type:"sendUIEvent",data:{action:t,actionSubject:`${t}Anchor`,source:"extensions-editor",attributes:{contentId:n,nameStatus:r}}}).fire()})(n.createAnalyticsEvent,n.action,null==n?void 0:n.contentId,e)}return{type:"inlineExtension",attrs:{extensionType:"com.atlassian.confluence.macro.core",extensionKey:"anchor",parameters:{macroParams:{"":{value:t}},macroMetadata:{title:"Anchor"}}}}}if("jiraroadmap"===e.macroDefinition.name){let n=!1,r=!1;try{const{featureFlags:e}=await(0,o.g)();n=Boolean(e["confluence.frontend.fabric.editor.smartcards.embed"]),r=String(e["confluence.frontend.fabric.editor.smartcards.macro-override"]).split(",").indexOf("jiraroadmap")>-1}catch(a){}if(n&&r&&!t)return function(e){return{type:"embedCard",attrs:{url:e.macroDefinition.params&&e.macroDefinition.params.url,layout:"wide"}}}(e)}return null}(u,n&&n.attrs&&"jiraroadmap"===n.attrs.extensionKey,i)||await $(u);r(t),e.close(),s()}catch(p){a(p)}},onCancel:()=>{s(),l||a({reason:"cancel"})}}}function P(e,t,n){return new Promise((async(a,o)=>{const i=await(0,l.ik)();t&&(i.metadataList=i.metadataList.filter(t));const s=await C(i,e,null,a,o,n);try{i.open((0,r.Z)((0,r.Z)({},s),{},{selectedMacro:null}))}catch(c){o(c)}}))}function Z(e,t,n,a){return new Promise((async(o,i)=>{const c=await(0,s.XF)(e||b),d=await(0,l.ik)();n&&(d.metadataList=d.metadataList.filter(n)),a&&(a.action="update");const u=await C(d,t,e,o,i,a);try{d.open((0,r.Z)((0,r.Z)({},u),{},{selectedMacro:c}))}catch(p){i(p)}}))}function A(e,t,n,a){return new Promise((async(o,i)=>{const s=await(0,l.ik)();n&&(s.metadataList=s.metadataList.filter(n)),a&&(a.action="insert");const c=await C(s,t,e,o,i,a);try{s.open((0,r.Z)((0,r.Z)({},c),{},{presetMacroMetadata:e}))}catch(d){i(d)}}))}const $=async e=>{const{macroDefinition:t,contentId:n,selectedMacro:o}=e,l=await a.Z.content.getMacroPlaceholderADF(t,n),c=(0,r.Z)({},l);return c.type===i.x9&&(o?c.content=o.content:c.content&&0!==c.content.length||(c.content=i.D4)),(0,s.g$)(c)}},345087:(e,t,n)=>{"use strict";n.d(t,{o:()=>m});var r=n(159394),a=n(202784),o=n(190821),i=n(527201),s=n(588316),l=n(835642),c=n(145703),d=n(635407),u=n(496054),p=n(723448);const m=({contentId:e})=>(0,p.V)((t=>{if(!t)return null;const{extensionKey:n,parameters:p}=t,m=(0,c.iQ)(t);let f;const g={contentId:e,mode:c.Uw,extensionKey:n,node:t};switch(n){case l.rI.INVALID:const e=p;f=a.createElement(s.y,(0,r.Z)((0,r.Z)({},e),g));break;case l.rI.INLINE_EXTERNAL_IMAGE:const t=p;f=a.createElement(i.Z,(0,r.Z)((0,r.Z)({},t),g));break;case l.rI.INLINE_MEDIA_IMAGE:const n=p,{link:c}=p;f=a.createElement(o.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},n),g),{},{link:c}))}return a.createElement(a.Fragment,null,a.createElement(d.t,{name:(0,c.ag)(c.Uw,t),contentId:e,mode:c.Uw,extensionKey:n,attributes:m,timeout:u.O.MACRO_LOAD}),f)}))},912801:(e,t,n)=>{"use strict";n.d(t,{X:()=>s,a:()=>l});var r=n(202784),a=n(28587),o=n(135782),i=n(835642);const s=e=>{if(!e)return null;const{extensionKey:t,parameters:n}=e;return t===i.rI.TEMPLATE?r.createElement(a.Z,{parameters:n}):null},l=e=>{if(!e)return null;const{extensionKey:t,parameters:n}=e;return t===i.rI.TEMPLATE?r.createElement(o.q,{parameters:n}):null}},664411:(e,t,n)=>{"use strict";n.d(t,{PV:()=>f,gp:()=>m,Xi:()=>p,rw:()=>h,Ob:()=>g,VO:()=>b,jr:()=>y,Km:()=>v});var r=n(159394),a=n(818149),o=n.n(a),i=n(202784),s=n(768606),l=n(353273);const c=(0,s.P)({__loadable_id__:"HJ4vz",name:"TemplateVariablesDialogLoader",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(37270)]).then(n.bind(n,491361)),loading:()=>i.createElement(l.L,{size:"medium"})});var d=n(835642),u=n(983473);const p="text",m="textarea",f="select",g="variable_name";function h(e=g){return{type:d.gU,attrs:{extensionType:d.UE.TEMPLATE,extensionKey:d.rI.TEMPLATE,parameters:{type:p,name:e}}}}function y(e){return e.attrs&&e.attrs.extensionType===d.UE.TEMPLATE}function v(e,t){return new Promise(((n,a)=>{if(!e.attrs||!t.setActiveModal)return void a(new Error("Cannot open editing template variable dialog"));const o=e.attrs.parameters;t.setActiveModal(c,{defaultVariableType:o.type,defaultVariableName:o.name,defaultRows:o.params&&o.params.rows,defaultColumns:o.params&&o.params.columns,defaultListOptions:o.params&&o.params.options,onSave:t=>{const a=(0,u.tr)(e,t);let o=d.OR;a.type===d.x9?o=d.x9:a.type===d.gU&&(o=d.gU),n((0,r.Z)((0,r.Z)({},a),{},{type:o,attrs:a.attrs||{}}))},onClose:()=>{t.closeActiveModal&&t.closeActiveModal()}})}))}function b(e){return(0,u.EK)(e,d.gU).filter(y).reduce(((e,t)=>{const{name:n,type:r,params:a={}}=t.attrs.parameters;if(!e.groupedByName[n])return e.groupedByName[n]=t,e;const i=e.groupedByName[n].attrs.parameters;return(i.type!==r||!o()(i.params||{},a))&&(e.invalidNodes.push(t),e.invalidUniqueNames.includes(n)||e.invalidUniqueNames.push(n)),e}),{groupedByName:{},invalidNodes:[],invalidUniqueNames:[]})}},999600:(e,t,n)=>{"use strict";n.d(t,{N:()=>c,u:()=>d});var r=n(202784),a=n(953081),o=n(135782),i=n(28587),s=n(835642),l=n(664411);let c;function d(e,t=c.CONFIG,n,d){const u="inlineExtension",p=e.formatMessage({id:"tinymce.templates.variables.add"}),m=t===c.INPUT?o.q:i.Z;return{key:s.rI.TEMPLATE,type:s.UE.TEMPLATE,title:p,description:e.formatMessage({id:"tinymce.templates.variables.add.tooltip"}),icons:{48:async()=>()=>r.createElement(a.default,{label:p,size:"medium"})},modules:{quickInsert:d&&[{key:s.rI.TEMPLATE,featured:!0,action:{type:"node",key:"default",parameters:{type:l.Xi,name:l.Ob}}}],nodes:{default:{type:u,render:async()=>({node:e})=>r.createElement(m,{parameters:e.parameters}),update:n&&(async e=>{try{const{attrs:t}=await(0,l.Km)({type:u,attrs:{parameters:e}},n);return t.parameters||e}catch(t){return e}})}}}}}!function(e){e[e.CONFIG=0]="CONFIG",e[e.INPUT=1]="INPUT"}(c||(c={}))},766361:(e,t,n)=>{"use strict";n.d(t,{V:()=>L});var r=n(159394),a=n(202784),o=n(164464),i=n(263679),s=n(768606);const l=()=>null,c=(0,s.P)({__loadable_id__:"0WkLC",name:"DetailsLoadable",loader:()=>Promise.all([n.e(11216),n.e(16563)]).then(n.bind(n,416563)),loading:l});class d extends a.Component{render(){const{contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,mode:o,node:s}=this.props,{content:l}=s,d={mode:o,node:s};return l&&(d.adf=l),e&&(d.contentId=e),d.macroId=(0,i.Z)(this.props),this.props.node.parameters&&this.props.node.parameters.macroParams&&this.props.node.parameters.macroParams.hidden&&this.props.node.parameters.macroParams.hidden.value?d.hidden=!!this.props.node.parameters.macroParams.hidden.value:d.hidden=!1,t&&(d.showTemplateVariablesInPreview=t),n&&(d.showTemplateInputInPreview=n),a.createElement(c,(0,r.Z)({},d))}}d.displayName="DetailsExtensionHandler";const u=d;var p=n(145703),m=n(684566),f=n(353273);const g=(0,s.P)({__loadable_id__:"uiHNj",name:"ExcerptLoadable",loader:()=>Promise.all([n.e(11216),n.e(26332)]).then(n.bind(n,626332)),loading:()=>a.createElement(f.L,{size:"medium",style:{minHeight:100}})});class h extends a.Component{render(){var e;const{contentId:t,node:n,showTemplateVariablesInPreview:o,showTemplateInputInPreview:s,mode:l}=this.props,{content:c,extensionKey:d}=n,u="true"===(null!=(e=n)&&null!=(e=e.parameters)&&null!=(e=e.macroParams)&&null!=(e=e.hidden)?e.value:e),f=(0,p.iQ)(n);if(u)return a.createElement(m.N,{name:(0,p.ag)(l,n),contentId:t,extensionKey:d,mode:l,attributes:f});const h={contentId:t,adf:c,mode:l,node:n,macroId:(0,i.Z)(this.props)};return o&&(h.showTemplateVariablesInPreview=o),s&&(h.showTemplateInputInPreview=s),a.createElement(g,(0,r.Z)({},h))}}h.displayName="ExcerptExtensionHandler";const y=h,v=()=>a.createElement("div",{style:{padding:"8px 0 0 16px"}},a.createElement("span",{style:{display:"inline-block",borderRadius:3,backgroundColor:"#F4F5F7",width:16,height:16,margin:"2px 16px 2px 0"}}),a.createElement("span",{style:{display:"inline-block",borderRadius:3,backgroundColor:"#F4F5F7",width:120,height:20}}));v.displayName="ExpandComponentShadow";const b=v,x=(0,s.P)({__loadable_id__:"egWQp",name:"ExpandLoadable",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(56556)]).then(n.bind(n,115373)),loading:b});class I extends a.Component{render(){const{contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,node:o,mode:i}=this.props,{content:s,extensionKey:l}=o,{title:c}=this.props.node.parameters.macroParams,d={extensionKey:l,mode:i};return s&&(d.adf=s),c&&(d.title=c.value),e&&(d.contentId=e),t&&(d.showTemplateVariablesInPreview=t),n&&(d.showTemplateInputInPreview=n),a.createElement(x,(0,r.Z)({},d))}}I.displayName="ExpandExtensionHandler";const E=I;var w=n(512473),C=n(251832);const P=()=>null,Z=(0,s.P)({__loadable_id__:"FdNSJ",name:"RedactedPlaceholderLoadable",loader:async()=>{const{RedactedPlaceholder:e}=await Promise.all([n.e(78248),n.e(11216),n.e(99035)]).then(n.bind(n,64100));return e},loading:()=>a.createElement(P,null)});var A=n(496054),$=n(635407),N=n(723448),M=n(331852),T=n(835642),k=n(491807),O=n(391528);const D=(0,k.Z)()(class extends a.Component{componentDidMount(){const{createAnalyticsEvent:e,extensionKey:t,attributes:n}=this.props;e&&e({type:"sendTrackEvent",data:{action:"viewed",actionSubject:"macro",actionSubjectId:t,source:"viewPageScreen",attributes:n,pageLoadInfo:(0,O.aX)()}}).fire()}render(){const{children:e}=this.props;return a.createElement(a.Fragment,null,e)}});var R=n(912801),S=n(254958);const _={insertCss:e=>e._insertCss()},L=({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:a,isJposMacroEnabled:o,shouldIncludeMacroHandlers:i=!0})=>{const s=V,l=n?R.a:R.X,c=t?{[T.UE.TEMPLATE]:l}:{};return i?(0,r.Z)({[T.UE.MACRO_CORE]:s({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:a,isJposMacroEnabled:o}),[T.UE.MIGRATION]:(0,S.o)({contentId:e})},c):{}},V=({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:i,isJposMacroEnabled:s})=>(0,N.V)((l=>{var c,d,f;const{extensionKey:g}=l,h=(0,p.iQ)(l),v=null==l||null===(c=l.parameters)||void 0===c?void 0:c.macroParams,b="redactedMacroPlaceholder"===g?{extensionKey:(null==v||null===(d=v.redactedMacroPluginKey)||void 0===d?void 0:d.value)||(null==v||null===(f=v.redactedMacroExtensionKey)||void 0===f?void 0:f.value)}:void 0,x={node:l,contentId:e,showTemplateVariablesInPreview:t||!1,showTemplateInputInPreview:n||!1,spaceKey:i,mode:p._B,context:_,extensionKey:g,attributes:h};return a.createElement(a.Fragment,null,a.createElement($.t,{contentId:e,name:(0,p.ag)(p._B,l),mode:p._B,extensionKey:g,attributes:h,timeout:A.O.MACRO_LOAD}),a.createElement(D,{extensionKey:g,attributes:(0,r.Z)({},b)},(()=>{switch(g){case"redactedMacroPlaceholder":return a.createElement(Z,(0,r.Z)((0,r.Z)({},x),{},{redactedAttributes:b}));case"details":return a.createElement(u,(0,r.Z)({},x));case"excerpt":return a.createElement(y,(0,r.Z)({},x));case"include":return a.createElement(o.e,null,(({featureFlags:e})=>e["confluence.frontend.fabric.editor.include-page"]?a.createElement(w.u,(0,r.Z)({},x)):a.createElement(M.b,(0,r.Z)({},x))));case"excerpt-include":return a.createElement(C.Z,(0,r.Z)({},x));case"expand":return a.createElement(E,(0,r.Z)({},x));case"portfolioforjiraplan":if(!s){const{parameters:{macroParams:{url:{value:t}}}}=l;return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("a",{href:t,target:"_blank"},t)),a.createElement(m.N,{name:(0,p.ag)(p._B,l),contentId:e,extensionKey:g,mode:p._B,attributes:h}))}default:return a.createElement(M.b,(0,r.Z)({},x))}})()))}))},254958:(e,t,n)=>{"use strict";n.d(t,{o:()=>m});var r=n(159394),a=n(202784),o=n(190821),i=n(527201),s=n(835642),l=n(588316),c=n(635407),d=n(496054),u=n(145703),p=n(723448);const m=({contentId:e})=>(0,p.V)((t=>{if(!t)return null;const{extensionKey:n,parameters:p}=t,m=(0,u.iQ)(t),f={contentId:e,mode:u._B,extensionKey:n,attributes:m,node:t};let g;switch(n){case s.rI.INVALID:const e=p;g=a.createElement(l.y,(0,r.Z)((0,r.Z)({},e),f));break;case s.rI.INLINE_EXTERNAL_IMAGE:const t=p;g=a.createElement(i.Z,(0,r.Z)((0,r.Z)({},t),f));break;case s.rI.INLINE_MEDIA_IMAGE:const n=p,{link:c}=p;g=a.createElement(o.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},n),f),{},{link:c}))}return a.createElement(a.Fragment,null,a.createElement(c.t,{name:(0,u.ag)(u._B,t),mode:u._B,extensionKey:n,attributes:m,timeout:d.O.MACRO_LOAD,contentId:e}),g)}))},336545:(e,t,n)=>{"use strict";n.d(t,{jX:()=>c,Ti:()=>d,YQ:()=>u,dN:()=>p,a:()=>m});var r=n(992873),a=n(585338),o=n(435329),i=n(929796),s=n(215041);let l;const c=()=>l||(l=new r.fe({connectToDevTools:!1,link:new a.u({credentials:"include",uri:"/gateway/api/graphql",fetch:i.y}),cache:new o.h4}),l),d=(e,t,n,r)=>({accountId:e,cloudId:t,contentId:n,spaceKey:r}),u=({contentId:e,spaceKey:t})=>({type:"macro",content:{id:e},space:{key:t}});function p({objectId:e,objectType:t,containerId:n,containerType:r}){return{objectId:e,objectType:t||void 0,containerId:n||void 0,containerType:r}}function m(e){return"localhost"===window.location.hostname?s.c.DEVELOPMENT:"STAGING"===e?s.c.STAGING:"PRODUCTION"===e?s.c.PRODUCTION:s.c.DEVELOPMENT}},852343:(e,t,n)=>{"use strict";n.d(t,{W:()=>a,F:()=>l});var r=n(774443);const a={require:(e,t)=>new Promise((n=>{(0,r.N)(e,(e=>{n(e),t&&t(e)}),(()=>{0}))}))};var o=n(151119),i=n(159394),s=n(202784);const l=function(e,t){const n=(0,i.Z)({isBlocking:!0},t);return t=>{class a extends s.Component{constructor(...e){super(...e),(0,o.Z)(this,"state",{dependenciesLoaded:!1}),(0,o.Z)(this,"markAsLoaded",(()=>{this.mounted&&this.setState({dependenciesLoaded:!0})}))}componentDidMount(){this.mounted=!0,e&&e.length>0?(0,r.N)(e,this.markAsLoaded,(()=>{0})):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?s.createElement(t,(0,i.Z)((0,i.Z)({},this.props),{},{wrmDependenciesLoaded:e})):null}}return a.displayName="WRMComponent",a.displayName=`WRMComponent(${t.displayName||t.name})`,a}}},989622:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var o=0;o<a;o++){var i=n[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}}}]);
//# sourceMappingURL=21681.T6B55irinm.js.map