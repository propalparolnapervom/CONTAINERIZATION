/*! License: query-preloader.XHWT6zVME3.js.LICENSE.txt */
(()=>{var e,t,n={195:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},660:(e,t,n)=>{var r=n(195);e.exports=m,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,s="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var l=n[0],d=n[1],m=n.index;if(s+=e.slice(i,m),i=m+l.length,d)s+=d[1];else{var y=e[i],h=n[2],_=n[3],f=n[4],g=n[5],v=n[6],b=n[7];s&&(r.push(s),s="");var I=null!=h&&null!=y&&y!==h,k="+"===v||"*"===v,S="?"===v||"*"===v,E=n[2]||u,w=f||g;r.push({name:_||o++,prefix:h||"",delimiter:E,optional:S,repeat:k,partial:I,asterisk:!!b,pattern:w?p(w):b?".*":"[^"+c(E)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,a){for(var o="",s=n||{},c=(a||{}).pretty?i:encodeURIComponent,p=0;p<e.length;p++){var u=e[p];if("string"!=typeof u){var l,d=s[u.name];if(null==d){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<d.length;m++){if(l=c(d[m]),!t[p].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===m?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(d),!t[p].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');o+=u.prefix+l}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function p(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function l(e){return e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var p=e[s];if("string"==typeof p)i+=c(p);else{var d=c(p.prefix),m="(?:"+p.pattern+")";t.push(p),p.repeat&&(m+="(?:"+d+m+")*"),i+=m=p.optional?p.partial?d+"("+m+")?":"(?:"+d+"("+m+"))?":d+"("+m+")"}}var y=c(n.delimiter||"/"),h=i.slice(-y.length)===y;return a||(i=(h?i.slice(0,-y.length):i)+"(?:"+y+"(?=$))?"),i+=o?"$":a&&h?"":"(?="+y+"|$)",u(new RegExp("^"+i,l(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(m(e[a],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",l(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},119:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(119);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},733:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(841);const a=({emojiTitleEnabled:e})=>(0,r.I)({query:'query FeedContentQuery($first:Int$after:String$emojiTitleEnabled:Boolean=false){feed(first:$first after:$after){__typename nodes{__typename summaryLineUpdate{__typename datetime type groupSize ...on FeedEventCreate{user{__typename ...UserFragment}}...on FeedEventEdit{version user{__typename ...UserFragment}}...on FeedEventComment{user{__typename ...UserFragment}comment{__typename id links{__typename webui}likeCount isLikedByCurrentUser location{__typename type ...on InlineComment{inlineText}}body(representation:ATLAS_DOC_FORMAT){__typename value}}}}source content{__typename title id type emoji:properties(key:"emoji-title-published")@include(if:$emojiTitleEnabled){__typename nodes{__typename id value}}excerpt(length:350)links{__typename webui}history{__typename createdBy{__typename ...UserFragment}createdDate}space{__typename id key name}likes{__typename count currentUserLikes}currentUserIsWatching metadata{__typename comments{__typename commentsCount}currentuser{__typename favourited{__typename isFavourite}}}}updates{__typename datetime type groupSize ...on FeedEventCreate{user{__typename ...UserFragment}}...on FeedEventEdit{version user{__typename ...UserFragment}}...on FeedEventComment{user{__typename ...UserFragment}comment{__typename id links{__typename webui}}}}}pageInfo{__typename hasNextPage endCursor}}getFeedUserConfig{__typename spaces{__typename id}users{__typename ...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}}}fragment UserFragment on Person{__typename type displayName profilePicture{__typename path}...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}',variables:{first:10,emojiTitleEnabled:e}})},713:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(841);var a=n(318),o=n(682),i=n(788);const s=(e,t,n)=>t?function({rawQueryString:e,variables:t={}}){const n=(0,i.r)(e);return n?(0,o.E)().load({name:n,variables:t},(()=>fetch("/gateway/api/graphql",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}).then((e=>e.ok?e.json():i.i)).catch((()=>i.i)))):Promise.resolve(i.i)}({rawQueryString:"\n      query extensionList($contextIds: [ID!]!, $type: String!) {\n        extensionContexts(contextIds: $contextIds) {\n          id\n          extensionsByType(type: $type) {\n            id\n            environmentId\n            environmentType\n            properties\n            type\n            appVersion\n            installationId\n            __typename\n          }\n          __typename\n        }\n      }\n    ",variables:{contextIds:[`ari:cloud:confluence::site/${e}`],type:n}}):Promise.resolve({data:null});let c;!function(e){e.BYLINE="confluence:contentBylineItem",e.CONTEXT_MENU="confluence:contextMenu",e.CONTENT_ACTION="confluence:contentAction",e.GLOBAL_SETTINGS="confluence:globalSettings",e.HOMEPAGE_FEED="confluence:homepageFeed",e.SPACE_PAGE="confluence:spacePage",e.SPACE_SETTINGS="confluence:spaceSettings",e.TEST_MODULE="test:module"}(c||(c={}));const p=e=>`localStorage/atlassian.${e}.frontend`,u=({userId:e,isLicensed:t,cloudId:n,isForgeAppEnabled:o,isHome1Point5:i,preloadPopularFeedOverride:u=!1})=>{let l="",d=!0;if(window.localStorage&&e)try{l=(localStorage.getItem((e=>`${p(e)}.discover.route.last`)(e))||"").replace(/\"/g,""),d="collapsed"!==(localStorage.getItem((e=>`${p(e)}.home.section.collapsed.feed`)(e))||"").replace(/\"/g,"")}catch(h){console.error("Error reading from local storage",h)}const m=[(y={location:"atl.dashboard.secondary",spaceKey:void 0},(0,r.I)({query:"query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){__typename moduleKey completeKey html location label weight name}}",variables:y})),(0,r.I)({query:"query WelcomeMessagesQuery{spaViewContext{__typename welcomeMessageEditUrl welcomeMessageHtml resourceKeys resourceContexts showWelcomeMessageEditHint showEditButton}}"})];var y;return o&&m.push(s(n,e,c.HOMEPAGE_FEED)),d&&!i&&("popular"===l||u?m.push((0,r.I)({query:"query PopularFeedQuery($first:Int$after:String){popularFeed(first:$first after:$after){__typename nodes{__typename content{__typename id title type history{__typename createdDate createdBy{__typename displayName profilePicture{__typename path}...on KnownUser{accountId}}}metadata{__typename likes{__typename count}comments{__typename commentsCount}}links{__typename webui}}}pageInfo{__typename endCursor hasNextPage}}}",variables:{first:25}})):m.push((0,r.I)({query:"query AllUpdatesQuery($first:Int$after:String){allUpdatesFeed(first:$first after:$after groupBy:[EDIT]){__typename nodes{__typename content{__typename id type title links{__typename webui}space{__typename id homepage{__typename id}}}lastUpdate{__typename datetime type ...on CreateUpdate{user{__typename ...UserFragment}}...on EditUpdate{user{__typename ...UserFragment}version}...on CommentUpdate{user{__typename ...UserFragment}comment{__typename id excerpt links{__typename webui}}}}}pageInfo{__typename hasNextPage endCursor}}}fragment UserFragment on Person{__typename type displayName profilePicture{__typename path}...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}",variables:{first:25}}))),i&&m.push((0,a.t)({isLicensed:t})),Promise.all(m)}},569:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e){if(e&&"referrerPolicy"in e){const{referrerPolicy:n}=e,a=r(e,["referrerPolicy"]);try{new Request("/",{referrerPolicy:n})}catch(t){e=a}}return e}n.d(t,{I:()=>a})},682:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(119);const a=Symbol("PromiseStatus"),o=Symbol("PromiseValue");class i{constructor(e={}){(0,r.Z)(this,"store",void 0),this.store=e}serialize(e){if(Array.isArray(e))return`[${e.map(this.serialize,this).join(",")}]`;if("object"==typeof e){return`{${Object.entries(null!=e?e:{}).filter((e=>void 0!==e[1])).sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0)).map((([e,t])=>`${e}:${this.serialize(t)}`)).join(",")}}`}return String(e)}toHashKey({name:e,variables:t}){return`${e}:${this.serialize(null!=t?t:{})}`}load(e,t){const n=this.toHashKey(e);return this.store[n]&&"resolved"!==this.store[n][a]||(this.store[n]=(e=>{const t=e.then((e=>(t[a]="resolved",t[o]=e,e)),(e=>{throw t[a]="rejected",t[o]=e,e}));return t[a]="pending",t})(t())),this.store[n]}claim(e,t){const n=this.toHashKey(e),r=this.store[n];return r?r.catch((()=>(delete this.store[n],null))).then((e=>(delete this.store[n],t?t(e):e&&e.data?e:null))):Promise.resolve(null)}}let s=null;function c(){return null===s&&(window.QUERY_PRELOADER_RESULTS||(window.QUERY_PRELOADER_RESULTS={}),s=new i(window.QUERY_PRELOADER_RESULTS)),s}},841:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(394),a=n(569),o=n(682),i=n(788);function s({query:e,variables:t,fetchPolicy:n="cache-first",context:s}){const c=(0,i.r)(e),p=window.GLOBAL_APOLLO_CLIENT;let u;if("string"==typeof e){if(!c)return Promise.resolve(i.i)}else{if(!p)return Promise.resolve(i.i);if(u={query:e,variables:t,errorPolicy:"all",fetchPolicy:n,context:(0,r.Z)({single:!0},s)},!c)return p.query(u)}return(0,o.E)().load({name:c,variables:t},(()=>u?p.query(u):fetch(`/cgraphql?q=QueryPreloader_${c}`,(0,a.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,r.Z)({"X-APOLLO-OPERATION-NAME":c,"Content-Type":"application/json"},s&&s.headers),body:JSON.stringify({query:e,variables:t})})).then((e=>e.ok?e.json():i.i)).catch((()=>i.i))))}},788:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,r:()=>i});const r=/query\s+(\w+).*?\{/,a={data:null};function o(e){return"OperationDefinition"===e.kind}function i(e){var t;if("string"!=typeof e)return null===(t=(e.definitions||[]).filter(o).map((e=>e.name)).filter((e=>null!=e))[0])||void 0===t?void 0:t.value;{const t=e.match(r);if(t)return t[1]}}},318:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(841);const a=({isLicensed:e,selectedSpaceKey:t})=>{const n=[];return e?n.push((0,r.I)({query:'query StarredSpacesQuery{spaces(favourite:true first:99 status:"current"){__typename nodes{__typename ...SpaceDropdownSpaceFragment}}}fragment SpaceDropdownSpaceFragment on Space{__typename id name key icon{__typename path}}'}),(0,r.I)({query:"query RecentSpacesQuery{recentSpaces{__typename ...SpaceDropdownSpaceFragment}}fragment SpaceDropdownSpaceFragment on Space{__typename id name key icon{__typename path}}",variables:{selectedSpaceKey:t}})):n.push((0,r.I)({query:"query AnonymousSpacesQuery{spaces(first:10){__typename nodes{__typename ...SpaceDropdownSpaceFragment}}}fragment SpaceDropdownSpaceFragment on Space{__typename id name key icon{__typename path}}"})),Promise.all(n).then((()=>({data:{}})))}},34:(e,t,n)=>{var r,a;!function(o){if(void 0===(a="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var i=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,a,o){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{i=JSON.stringify(a),/^[\{\[]/.test(i)&&(a=i)}catch(_){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var p in o)o[p]&&(c+="; "+p,!0!==o[p]&&(c+="="+o[p]));return document.cookie=t+"="+a+c}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var m=u[d].split("="),y=m.slice(1).join("=");this.json||'"'!==y.charAt(0)||(y=y.slice(1,-1));try{var h=m[0].replace(l,decodeURIComponent);if(y=n.read?n.read(y,h):n(y,h)||y.replace(l,decodeURIComponent),this.json)try{y=JSON.parse(y)}catch(_){}if(t===h){i=y;break}t||(i[h]=y)}catch(_){}}return i}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},99:e=>{e.exports=c,e.exports.parse=n,e.exports.compile=function(e,t){return r(n(e,t))},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=s;var t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function n(e,n){for(var r,i=[],s=0,c=0,p="",u=n&&n.delimiter||"/",l=n&&n.delimiters||"./",d=!1;null!==(r=t.exec(e));){var m=r[0],y=r[1],h=r.index;if(p+=e.slice(c,h),c=h+m.length,y)p+=y[1],d=!0;else{var _="",f=e[c],g=r[2],v=r[3],b=r[4],I=r[5];if(!d&&p.length){var k=p.length-1;l.indexOf(p[k])>-1&&(_=p[k],p=p.slice(0,k))}p&&(i.push(p),p="",d=!1);var S=""!==_&&void 0!==f&&f!==_,E="+"===I||"*"===I,w="?"===I||"*"===I,C=_||u,A=v||b;i.push({name:g||s++,prefix:_,delimiter:C,optional:w,repeat:E,partial:S,pattern:A?o(A):"[^"+a(C)+"]+?"})}}return(p||c<e.length)&&i.push(p+e.substr(c)),i}function r(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var a="",o=r&&r.encode||encodeURIComponent,i=0;i<e.length;i++){var s=e[i];if("string"!=typeof s){var c,p=n?n[s.name]:void 0;if(Array.isArray(p)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===p.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<p.length;u++){if(c=o(p[u],s),!t[i].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');a+=(0===u?s.prefix:s.delimiter)+c}}else if("string"!=typeof p&&"number"!=typeof p&&"boolean"!=typeof p){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"));s.partial&&(a+=s.prefix)}else{if(c=o(String(p),s),!t[i].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+c+'"');a+=s.prefix+c}}else a+=s}return a}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(e){return e.replace(/([=!:$/()])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function s(e,t,n){for(var r=(n=n||{}).strict,o=!1!==n.start,s=!1!==n.end,c=a(n.delimiter||"/"),p=n.delimiters||"./",u=[].concat(n.endsWith||[]).map(a).concat("$").join("|"),l=o?"^":"",d=0===e.length,m=0;m<e.length;m++){var y=e[m];if("string"==typeof y)l+=a(y),d=m===e.length-1&&p.indexOf(y[y.length-1])>-1;else{var h=y.repeat?"(?:"+y.pattern+")(?:"+a(y.delimiter)+"(?:"+y.pattern+"))*":y.pattern;t&&t.push(y),y.optional?y.partial?l+=a(y.prefix)+"("+h+")?":l+="(?:"+a(y.prefix)+"("+h+"))?":l+=a(y.prefix)+"("+h+")"}}return s?(r||(l+="(?:"+c+")?"),l+="$"===u?"$":"(?="+u+")"):(r||(l+="(?:"+c+"(?="+u+"))?"),d||(l+="(?="+c+"|"+u+")")),new RegExp(l,i(n))}function c(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(c(e[a],t,n).source);return new RegExp("(?:"+r.join("|")+")",i(n))}(e,t,r):function(e,t,r){return s(n(e,r),t,r)}(e,t,r)}},808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,a){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(n);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var p=0;p<c;++p){var u,l,d,m,y=e[p].replace(i,"%20"),h=y.indexOf(r);h>=0?(u=y.substr(0,h),l=y.substr(h+1)):(u=y,l=""),d=decodeURIComponent(u),m=decodeURIComponent(l),t(o,d)?Array.isArray(o[d])?o[d].push(m):o[d]=[o[d],m]:o[d]=m}return o}},368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,a){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(t(a))+r;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+r+encodeURIComponent(t(e)):""}},642:(e,t,n)=>{"use strict";t.decode=t.parse=n(808),t.encode=t.stringify=n(368)},639:function(e,t,n){var r;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var i,s=2147483647,c=36,p=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,y=String.fromCharCode;function h(e){throw RangeError(d[e])}function _(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function f(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+_((e=e.replace(l,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function v(e){return _(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=y(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=c)e=m(e/35);return m(r+36*e/(e+38))}function k(e){var t,n,r,a,o,i,p,u,l,d,y,_=[],f=e.length,g=0,b=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&h("not-basic"),_.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<f;){for(o=g,i=1,p=c;a>=f&&h("invalid-input"),((u=(y=e.charCodeAt(a++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||u>m((s-g)/i))&&h("overflow"),g+=u*i,!(u<(l=p<=k?1:p>=k+26?26:p-k));p+=c)i>m(s/(d=c-l))&&h("overflow"),i*=d;k=I(g-o,t=_.length+1,0==o),m(g/t)>s-b&&h("overflow"),b+=m(g/t),g%=t,_.splice(g++,0,b)}return v(_)}function S(e){var t,n,r,a,o,i,p,u,l,d,_,f,v,k,S,E=[];for(f=(e=g(e)).length,t=128,n=0,o=72,i=0;i<f;++i)(_=e[i])<128&&E.push(y(_));for(r=a=E.length,a&&E.push("-");r<f;){for(p=s,i=0;i<f;++i)(_=e[i])>=t&&_<p&&(p=_);for(p-t>m((s-n)/(v=r+1))&&h("overflow"),n+=(p-t)*v,t=p,i=0;i<f;++i)if((_=e[i])<t&&++n>s&&h("overflow"),_==t){for(u=n,l=c;!(u<(d=l<=o?1:l>=o+26?26:l-o));l+=c)S=u-d,k=c-d,E.push(y(b(d+S%k,0))),u=m(S/k);E.push(y(b(u,0))),o=I(n,v,r==a),n=0,++r}++n,++t}return E.join("")}i={version:"1.3.2",ucs2:{decode:g,encode:v},decode:k,encode:S,toASCII:function(e){return f(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return f(e,(function(e){return p.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},883:(e,t,n)=>{"use strict";var r=n(639),a=n(225);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=v(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(p),l=["%","/","?",";","#"].concat(u),d=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(642);function v(e,t,n){if(e&&a.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",p=e.split(s);p[0]=p[0].replace(/\\/g,"/");var v=e=p.join(s);if(v=v.trim(),!n&&1===e.split("#").length){var b=c.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var I=i.exec(v);if(I){var k=(I=I[0]).toLowerCase();this.protocol=k,v=v.substr(I.length)}if(n||I||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||I&&_[I]||(v=v.substr(2),this.slashes=!0)}if(!_[I]&&(S||I&&!f[I])){for(var E,w,C=-1,A=0;A<d.length;A++){-1!==(O=v.indexOf(d[A]))&&(-1===C||O<C)&&(C=O)}-1!==(w=-1===C?v.lastIndexOf("@"):v.lastIndexOf("@",C))&&(E=v.slice(0,w),v=v.slice(w+1),this.auth=decodeURIComponent(E)),C=-1;for(A=0;A<l.length;A++){var O;-1!==(O=v.indexOf(l[A]))&&(-1===C||O<C)&&(C=O)}-1===C&&(C=v.length),this.host=v.slice(0,C),v=v.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),T=(A=0,x.length);A<T;A++){var $=x[A];if($&&!$.match(m)){for(var R="",F=0,q=$.length;F<q;F++)$.charCodeAt(F)>127?R+="x":R+=$[F];if(!R.match(m)){var L=x.slice(0,A),U=x.slice(A+1),D=$.match(y);D&&(L.push(D[1]),U.unshift(D[2])),U.length&&(v="/"+U.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+j,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!h[k])for(A=0,T=u.length;A<T;A++){var N=u[A];if(-1!==v.indexOf(N)){var B=encodeURIComponent(N);B===N&&(B=escape(N)),v=v.split(N).join(B)}}var M=v.indexOf("#");-1!==M&&(this.hash=v.substr(M),v=v.slice(0,M));var Q=v.indexOf("?");if(-1!==Q?(this.search=v.substr(Q),this.query=v.substr(Q+1),t&&(this.query=g.parse(this.query)),v=v.slice(0,Q)):t&&(this.search="",this.query={}),v&&(this.pathname=v),f[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var G=this.search||"";this.path=j+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=g.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),p=0;p<c.length;p++){var u=c[p];"protocol"!==u&&(n[u]=e[u])}return f[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!f[e.protocol]){for(var l=Object.keys(e),d=0;d<l.length;d++){var m=l[d];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var y=(e.pathname||"").split("/");y.length&&!(e.host=y.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),n.pathname=y.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),I=b||v||n.host&&e.pathname,k=I,S=n.pathname&&n.pathname.split("/")||[],E=(y=e.pathname&&e.pathname.split("/")||[],n.protocol&&!f[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===y[0]?y[0]=e.host:y.unshift(e.host)),e.host=null),I=I&&(""===y[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=y;else if(y.length)S||(S=[]),S.pop(),S=S.concat(y),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=S.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=S.slice(-1)[0],C=(n.host||e.host||S.length>1)&&("."===w||".."===w)||""===w,A=0,O=S.length;O>=0;O--)"."===(w=S[O])?S.splice(O,1):".."===w?(S.splice(O,1),A++):A&&(S.splice(O,1),A--);if(!I&&!k)for(;A--;A)S.unshift("..");!I||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var P,x=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=n.host=x?"":S.length?S.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(I=I||n.host&&S.length)&&!x&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},225:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}},r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}a.m=n,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".TWc8wwHJ1Y.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@atlassian/confluence-frontend-server:",a.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var p=document.getElementsByTagName("script"),u=0;u<p.length;u++){var l=p[u];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="https://confluence-v1.prod.atl-paas.net/master/",(()=>{var e={786:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,a)=>{r=e[t]=[n,a]}));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{for(var r,o,[i,s,c]=n,p=0,u=[];p<i.length;p++)o=i[p],a.o(e,o)&&e[o]&&u.push(e[o][0]),e[o]=0;for(r in s)a.o(s,r)&&(a.m[r]=s[r]);for(c&&c(a),t&&t(n);u.length;)u.shift()()},n=self._qp=self._qp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=a(394),t=a(119),n=a(883),r=a(660),o=a.n(r),i={},s=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=i[n]||(i[n]={});if(r[e])return r[e];var a=[],c={re:o()(e,a,t),keys:a};return s<1e4&&(r[e]=c,s++),c};const p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,a=r.path,o=r.exact,i=void 0!==o&&o,s=r.strict,p=void 0!==s&&s,u=r.sensitive,l=void 0!==u&&u;if(null==a)return n;var d=c(a,{end:i,strict:p,sensitive:l}),m=d.re,y=d.keys,h=m.exec(e);if(!h)return null;var _=h[0],f=h.slice(1),g=e===_;return i&&!g?null:{path:a,url:"/"===a&&""===_?"/":_,isExact:g,params:y.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}};var u=a(99),l=a.n(u);class d{static matchFirst(e,t){for(const n of e){if(!(n instanceof d))continue;const e=n.match(t);if(e)return e}return null}constructor(e){(0,t.Z)(this,"name",void 0),(0,t.Z)(this,"pattern",void 0),(0,t.Z)(this,"condition",void 0),(0,t.Z)(this,"isTransition",void 0),this.name=e.name,this.pattern=e.pattern,this.condition=e.condition?e.condition:()=>!0,this.isTransition=(t,n)=>!t||(e.isTransition?t.name!==n.name||e.isTransition(t,n):t.pathname!==n.pathname)}match(t){const r=function(e,t){const r=n.parse(t,!0),a=r.pathname||"";let o=p(a,{path:e,exact:!0});if(o||(o=p(`${a}${r.search}`,{path:e,exact:!0})),!o)return null;const i={};if(o.params)for(const[n,c]of Object.entries(o.params)){let e=c;try{e=decodeURIComponent(c)}catch(s){}i[n]=e}return{url:t,pathname:a,search:r.search||"",hash:r.hash||"",pattern:e,params:i,query:r.query}}(this.pattern,t);return r?this.condition&&!this.condition(r)?null:(0,e.Z)((0,e.Z)({},r),{},{name:this.name}):null}toUrl(t,r){return((t,r={},a={})=>{const o=l().compile(t)(r),i=n.parse(o,!0);return n.format({pathname:i.pathname,query:(0,e.Z)((0,e.Z)({},i.query),a.query||{}),hash:a.hash})})(this.pattern,t,r)}}const m=(e,t)=>e.params.contentId!==t.params.contentId,y=(e,t)=>e.params.spaceKey!==t.params.spaceKey,h=new d({name:"BASE",pattern:"/"}),_=new d({name:"WIKI",pattern:"/wiki"}),f=new d({name:"HOME",pattern:"/wiki/home/:view?"}),g=new d({name:"EDIT_PAGE_V2",pattern:"/wiki/spaces/:spaceKey/:contentType(pages)/edit-v2/:contentId(\\d+)"}),v=new d({name:"EDIT_BLOG_V2",pattern:"/wiki/spaces/:spaceKey/:contentType(blog)/edit-v2/:contentId(\\d+)"}),b=new d({name:"SPACE_INDEX",pattern:"/wiki/spaces/:spaceKey",condition:({params:e})=>Boolean(e.spaceKey&&!e.spaceKey.endsWith(".action")),isTransition:y}),I=Object.assign(new d({name:"SPACE_OVERVIEW",pattern:"/wiki/spaces/:spaceKey/overview",isTransition:y}),{HOMEPAGE_ID_QUERY_FF:"confluence.frontend.add-homepage-id-to-space-overview-url",HOMEPAGE_ID_QUERY_KEY:"homepageId"}),k=new d({name:"VIEW_PAGE",pattern:"/wiki/spaces/:spaceKey/pages/:contentId(\\d+)/:contentSlug?",isTransition:m}),S=new d({name:"VIEW_BLOG",pattern:"/wiki/spaces/:spaceKey/blog/:contentId(\\d+)/:contentSlug?",isTransition:m}),E=new d({name:"SPACE_PAGES",pattern:"/wiki/spaces/:spaceKey/pages"}),w=new d({name:"VIEW_BLOG_DATE_LEGACY",pattern:"/wiki/spaces/:spaceKey/blog/:year(\\d+)/:month(\\d+)/:day(\\d+)/:contentId(\\d+)/:contentSlug?",isTransition:m}),C=new d({name:"EXTERNAL_SHARE",pattern:"/wiki/external/:contentId/:externalToken"});var A=a(34),O=a.n(A);const P="confluence.asSuperAdmin";var x=a(569);const T=new class{constructor(){(0,t.Z)(this,"measures",void 0),(0,t.Z)(this,"startTime",void 0),this.measures={},this.startTime=0}setStartTime(){this.startTime=performance.now()>>0}run(e,t){return t()}getMeasures(){return Object.entries(this.measures).sort(((e,t)=>e[1].startTime-t[1].startTime)).reduce(((e,[t,n])=>(e[t]=n,e)),{})}};async function $(t){return async function(t={}){if("undefined"!=typeof jest||window.USE_MOCKED_SESSION_DATA)return new Promise((e=>{window.MOCK_SESSION_DATA_RESOLVE=e}));if(window.__SESSION_DATA__)return window.__SESSION_DATA__;const n=window.GLOBAL_APOLLO_CLIENT_URI||"/cgraphql";return window.__SESSION_DATA__=T.run("fetch:SessionDataQuery",(()=>fetch(`${n}?q=SessionDataQuery`,(0,x.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,e.Z)({"X-APOLLO-OPERATION-NAME":"SessionDataQuery","Content-Type":"application/json"},t.headers),body:JSON.stringify({query:"\nquery SessionDataQuery @SLA {\n  tenant {\n    shard\n    cloudId\n    environment\n  }\n  userForAnalytics: user {\n    id\n  }\n  user(current: true) {\n    id\n    displayName\n    confluence {\n      accountId\n      userKey\n    }\n    locale\n  }\n  featureFlags(extraTargeting: true) {\n    nodes {\n      id\n      value\n      explanation {\n        ruleIndex\n        ruleId\n        kind\n      }\n    }\n  }\n}\n"})})).then((async e=>{if(!e.ok)throw new Error(`Cannot load session data: ${e.statusText}`);return window.__SESSION_DATA__=(await e.json()).data}))))}(t)}var R=a(841);function F({location:e=null,contentId:t=null,spaceKey:n=null,version:r=null}={}){const a={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:t,spaceKey:n,version:r};return(0,R.I)({query:"query WebItemLocationQuery($location:String$locations:[String]$contentId:ID$spaceKey:String$version:Int){webItemSections(location:$location locations:$locations contentId:$contentId key:$spaceKey version:$version){__typename id label styleClass items{__typename accessKey completeKey hasCondition id icon{__typename path}params{__typename key value}label moduleKey section styleClass tooltip url urlWithoutContextPath weight}}}",variables:a})}const q=()=>(0,R.I)({query:"query FeedOptInStatusQuery{userPreferences{__typename nextGenFeedOptInStatus}}"});var L=a(733),U=a(713);function D(e){return(0,R.I)({query:"query ContentScreenQuery($spaceKey:String!){space(key:$spaceKey){__typename id theme{__typename name}lookAndFeel{__typename content{__typename screen{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode layer{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode width height}gutterTop gutterRight gutterBottom gutterLeft}}}}}",variables:{spaceKey:e}})}function j(e,t){return window.performance.mark("CFP-63.preloadContent.start"),(0,R.I)({query:'query ContentQuery($contentId:ID$versionOverride:Int$embeddedContentRender:String)@SLA{content(id:$contentId version:$versionOverride embeddedContentRender:$embeddedContentRender){__typename nodes{__typename id type space{__typename id key}version{__typename confRev}metadata{__typename lastModifiedDate frontend{__typename fabricEditorSupported spaFriendly}}body{__typename dynamic{__typename representation value webresource{__typename tags{__typename css}uris{__typename js css}}}}...contentAppearancePublishedFragment}}}fragment contentAppearancePublishedFragment on Content{__typename appearancePublished:properties(key:"content-appearance-published"){__typename ...contentAppearanceInnerFragment}}fragment contentAppearanceInnerFragment on PaginatedJsonContentPropertyList{__typename nodes{__typename id key value version{__typename number}}}',variables:{contentId:e,versionOverride:null,embeddedContentRender:null},context:t}).then((()=>{window.performance.mark("CFP-63.preloadContent.end"),window.performance.mark("CFP-63.preloadContentEnd")}))}function K(e,t){return(0,R.I)({query:"query BreadcrumbsQuery($spaceKey:String!$contentId:ID$skipContent:Boolean!){spaces(spaceKey:$spaceKey first:10){__typename nodes{__typename id name homepage{__typename id}}}content(id:$contentId)@skip(if:$skipContent){__typename nodes{__typename id type status ancestors{__typename id type title status}}}}",variables:{spaceKey:e,contentId:t,skipContent:!1}})}function N(e){return(0,R.I)({query:'query CommentButtonQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ALL){__typename count nodes{__typename id location{__typename type ...on InlineComment{inlineMarkerRef}}}}content(id:$pageId){__typename nodes{__typename id properties(key:"editor"){__typename nodes{__typename id key value}}}}}',variables:{pageId:e}})}function B(e){return(0,R.I)({query:"query ContentContainerQuery($spaceKey:String!){space(key:$spaceKey){__typename id theme{__typename name}lookAndFeel{__typename content{__typename screen{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode layer{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode width height}gutterTop gutterRight gutterBottom gutterLeft}container{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode padding borderRadius}}}}}",variables:{spaceKey:e}})}function M(e,t){return(0,R.I)({query:"query ContentPrerequisitesQuery($contentId:ID!$missingSpaceKey:Boolean=false){content(id:$contentId){__typename nodes{__typename id type space@include(if:$missingSpaceKey){__typename id key}}}}",variables:{contentId:e,missingSpaceKey:!t}})}function Q(e){return(0,R.I)({query:"query spaceForBaseSpaceQuery($spaceKey:String){spaces(spaceKey:$spaceKey){__typename nodes{__typename id key name homepage{__typename id}icon{__typename ...iconDetails}type settings{__typename routeOverrideEnabled}theme{__typename themeKey}lookAndFeel{__typename headings{__typename key value}menus{__typename hoverOrFocus{__typename key value}color}header{__typename backgroundColor button{__typename backgroundColor color}primaryNavigation{__typename color hoverOrFocus{__typename key value}}secondaryNavigation{__typename color hoverOrFocus{__typename key value}}search{__typename backgroundColor color}}content{__typename screen{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode layer{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode width height}gutterTop gutterRight gutterBottom gutterLeft}container{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode padding borderRadius}header{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode padding borderRadius}body{__typename background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode padding borderRadius}}}metadata{__typename labels{__typename nodes{__typename prefix name id}}}operations{__typename operation targetType}}}}fragment iconDetails on Icon{__typename path width height isDefault}",variables:{spaceKey:e}})}function G(e,t){return(0,R.I)({query:t?"query InlineCommentsQuery($pageId:ID!){content(id:$pageId){__typename nodes{__typename id type space{__typename id}operations{__typename operation targetType}}}comments(pageId:$pageId type:UNRESOLVED depth:ROOT){__typename nodes{__typename ...inlineCommentFragment replies{__typename ...inlineCommentFragment}}}}fragment inlineCommentFragment on Comment{__typename ...anonymousInlineCommentFragment author{__typename displayName profilePicture{__typename path}...on KnownUser{accountId}...on User{accountId}}excerpt}fragment anonymousInlineCommentFragment on Comment{__typename id body(representation:ATLAS_DOC_FORMAT){__typename value}contentStatus isLikedByCurrentUser likeCount links{__typename webui}location{__typename ...on InlineComment{type inlineMarkerRef inlineResolveProperties{__typename resolvedTime resolvedUser}}}parentId permissions{__typename isEditable isRemovable isResolvable}version{__typename when number}}":"query AnonymousInlineCommentsQuery($pageId:ID!){content(id:$pageId){__typename nodes{__typename id type space{__typename id}operations{__typename operation targetType}}}comments(pageId:$pageId type:UNRESOLVED depth:ROOT){__typename nodes{__typename ...anonymousInlineCommentFragment replies{__typename ...anonymousInlineCommentFragment}}}}fragment anonymousInlineCommentFragment on Comment{__typename id body(representation:ATLAS_DOC_FORMAT){__typename value}contentStatus isLikedByCurrentUser likeCount links{__typename webui}location{__typename ...on InlineComment{type inlineMarkerRef inlineResolveProperties{__typename resolvedTime resolvedUser}}}parentId permissions{__typename isEditable isRemovable isResolvable}version{__typename when number}}",variables:{pageId:e}})}function H(e){return(0,R.I)({query:"query ScreenQuery($spaceKey:String!){space(key:$spaceKey){__typename id homepage{__typename id}}}",variables:{spaceKey:e}})}function V(e){return(0,R.I)({query:"query EditButtonQuery($contentId:ID!){content(id:$contentId){__typename nodes{__typename id type metadata{__typename frontend{__typename fabricEditorSupported}}operations{__typename operation targetType}space{__typename id key}}}}",variables:{contentId:e}})}function W(e,t){return(0,R.I)({query:'query editorContent($contentId:ID$draftShareId:String$status:[String])@SLA{content(id:$contentId draftShareId:$draftShareId status:$status){__typename nodes{__typename ...baseContentDetailsFragment ...operations ...linksFragment ...contentAppearancePublishedFragment ...contentAppearanceDraftFragment space{__typename ...baseSpaceDetailsFragment}history{__typename latest createdBy{__typename ...userFragment}createdDate}ancestors{__typename ...baseContentDetailsFragment}metadata{__typename ...metadataFragment}body{__typename atlas_doc_format{__typename value}}version{__typename number syncRev confRev}schedulePublishDate}}}fragment baseContentDetailsFragment on Content{__typename id type status title}fragment operations on Content{__typename operations{__typename operation targetType}}fragment linksFragment on Content{__typename links{__typename editui}}fragment baseSpaceDetailsFragment on Space{__typename id key name type status}fragment userFragment on Person{__typename type ...on KnownUser{accountId}profilePicture{__typename path width height isDefault}displayName}fragment metadataFragment on ContentMetadata{__typename labels{__typename id name}}fragment contentAppearancePublishedFragment on Content{__typename appearancePublished:properties(key:"content-appearance-published"){__typename ...contentAppearanceInnerFragment}}fragment contentAppearanceInnerFragment on PaginatedJsonContentPropertyList{__typename nodes{__typename id key value version{__typename number}}}fragment contentAppearanceDraftFragment on Content{__typename appearanceDraft:properties(key:"content-appearance-draft"){__typename ...contentAppearanceInnerFragment}}',variables:{contentId:e,docFormat:"atlas_doc_format",status:["current","draft"],draftShareId:new URLSearchParams(window.location.search.substring(1)).get("draftShareId")||""},context:t})}const Z={PERSISTED_LEFT_SIDEBAR_WIDTH:"persisted.left.sidebar.width",PERSISTED_LEFT_SIDEBAR_COLLAPSED:"persisted.left.sidebar.collapsed",PERSISTED_GROWTH_PERSISTENT_UPGRADE_PRETRIAL_BANNER:"persisted.growth.persistent.upgrade.preTrial.banner"},z=/[^A-Za-z0-9\-._\/]/g;async function J(e){if(!e)return;const t={stringKeys:(e=>{const t=[];let n=`localStorage/atlassian.${e}.frontend`;return n=n.replace(z,"_"),Object.keys(Z).forEach((e=>t.push(`${n}.${Z[e]}`))),t})(e),booleanKeys:[]};try{return await(0,R.I)({query:"query LocalStorageQuery($stringKeys:[String]!$booleanKeys:[String]!){localStorage{__typename stringValues(keys:$stringKeys){__typename key value}booleanValues(keys:$booleanKeys){__typename key value}}}",variables:t})}catch(n){return}}const Y=["LAST_MODIFIED_DATE","TITLE"],X=["ASC","DESC"],ee=(e,t)=>{if(!e)return;const n=e[t];return Array.isArray(n)?n[0]:n},te=e=>S.match(e)||w.match(e);class ne{constructor(e){(0,t.Z)(this,"name",void 0),this.name=function(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}(e)}log(e,...t){this.logAnyLevel(1,console.log,"#009966",e,t)}debug(e,...t){this.logAnyLevel(2,console.debug,"#999",e,t)}info(e,...t){this.logAnyLevel(3,console.info,"#4488dd",e,t)}warn(e,...t){this.logAnyLevel(4,console.warn,"black",e,t)}error(e,...t){this.logAnyLevel(5,console.error,"black",e,t)}logAnyLevel(e,t,n,r,a){try{if("undefined"==typeof sessionStorage||"true"===sessionStorage.getItem("confluence.enable-logging")){const o="undefined"!=typeof sessionStorage&&sessionStorage.getItem("confluence.log-level");if((parseInt(o||"",10)||1)>e)return;const i=[`%c[@${Math.round(performance.now())} ${this.name}]`,`color: ${n}`];t(...r.reduce(((e,t,n)=>{const o=a[n],i=t.trim().replace(/\n\s+/g,"\n");return e.concat(n===r.length-1?[i]:[i,"string"==typeof o?JSON.stringify(o):o])}),i))}}catch(o){console.error(o)}}}new ne("session-data");const re="confluence-frontend-next.featureFlagLocalOverrides",ae=(()=>{try{const e="__random__local__storage__test__key__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}})(),oe=()=>{let e;return e=ae?window.localStorage.getItem(re):window.sessionStorage.getItem(re),e?JSON.parse(e):{}},ie=(e,t)=>{if(!(ae?null!=window.localStorage.getItem(re):null!=window.sessionStorage.getItem(re)))return e;const n=oe();return Object.keys(e).reduce(((r,a)=>(r[a]=t(a,n,e),r)),{})};const se=e=>{const t=(n=e=>{return"true"===(t=e.value)||"false"!==t&&("object"==typeof t?JSON.stringify(t):t);var t},e.reduce(((e,t)=>(e[t.id]=n(t),e)),{}));var n;return{original:t,withOverrides:ie(t,((e,t,n)=>t.hasOwnProperty(e)?t[e]:n[e]))}};function ce(e){return null!==e}async function pe(){var e,t,n,r;const a=await $();return{isLicensed:Boolean(null==a||null===(e=a.user)||void 0===e?void 0:e.confluence),userId:(null==a||null===(t=a.user)||void 0===t?void 0:t.id)||null,cloudId:(null==a||null===(n=a.tenant)||void 0===n?void 0:n.cloudId)||null,featureFlags:se(((null==a||null===(r=a.featureFlags)||void 0===r?void 0:r.nodes)||[]).filter(ce)).withOverrides}}const ue=window.__QUERY_PRELOADER__=(t,n=!1,r=pe)=>{if(Boolean(O().get(P)))return Promise.resolve();const o=[],i=function(t){let n,r;(n=(e=>k.match(e)||te(e))(t))?r=le.VIEW_PAGE:(n=(e=>I.match(e)||b.match(e))(t))?r=le.SPACE_OVERVIEW:(n=(e=>h.match(e)||_.match(e)||f.match(e))(t))?r=le.HOME:(n=(e=>g.match(e)||v.match(e))(t))?r=le.EDIT_PAGE:(n=(e=>C.match(e))(t))?r=le.EXTERNAL_SHARE:(n=(e=>E.match(e))(t))&&(r=le.SPACE_PAGES);return n&&(0,e.Z)((0,e.Z)({},n),{},{experience:r})}(t),s=null!=i&&i.experience?{headers:{"X-Atl-Experience":i.experience}}:void 0;if(n||(o.push($(s)),o.push((0,R.I)({query:"query SPAViewContextQuery{spaViewContext{__typename userCanCreateContent isAnonymous homepageUri homepageTitle}siteConfiguration{__typename tenantId siteLogoUrl siteTitle showSiteTitle}isNewUser isSiteAdmin abTestCohorts experimentFeatures}"})),(null==i?void 0:i.experience)!==le.EXTERNAL_SHARE&&(o.push(r().then((({featureFlags:e})=>function(e){const t=e["confluence.frontend.home-1.5"]?[q()]:[];return Promise.all([F({location:"system.header/left"}),(0,R.I)({query:"query ThemeQuery{lookAndFeel{__typename custom{__typename horizontalHeader{__typename backgroundColor primaryNavigation{__typename highlightColor}}}}}"}),(0,R.I)({query:"query ProductHomeQuery{siteConfiguration{__typename customSiteLogo siteLogoUrl siteTitle showSiteTitle}}"}),(0,R.I)({query:"query ProfileQuery{user(current:true){__typename id displayName photos{__typename value isPrimary}}}"}),...t])}(e)))),o.push((0,R.I)({query:"query GlobalOperationsQuery{globalOperations{__typename operation targetType}}"})),o.push(r().then((({userId:e})=>J(e)))))),!i)return Promise.resolve();if(i.experience===le.VIEW_PAGE){const{spaceKey:e,contentId:t}=i.params;o.push(j(t,s)),n||o.push(D(e).then((({data:t})=>{var n;return Boolean(null==t||null===(n=t.space)||void 0===n?void 0:n.theme)?B(e):Promise.resolve()}))),o.push(function(e,t){const n=[K(e,t),(0,R.I)({query:"query ContentHeaderQuery($contentId:ID!){content(id:$contentId){__typename nodes{__typename id type title}}}",variables:{contentId:t}}),N(t)];return Promise.all(n)}(e,t)),o.push(function(e,t,n){return(0,R.I)({query:'query ContentTitleQuery($contentId:ID$spaceKey:String!){content(id:$contentId){__typename nodes{__typename id title ...contentAppearancePublishedFragment emojiTitlePublished:properties(key:"emoji-title-published"){__typename nodes{__typename id key value version{__typename number}}}properties(key:"editor"){__typename nodes{__typename id key value}}}}space(key:$spaceKey){__typename id lookAndFeel{__typename headings{__typename key value}content{__typename header{__typename background backgroundAttachment backgroundBlendMode backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPosition backgroundRepeat backgroundSize borderRadius padding}}}}}fragment contentAppearancePublishedFragment on Content{__typename appearancePublished:properties(key:"content-appearance-published"){__typename ...contentAppearanceInnerFragment}}fragment contentAppearanceInnerFragment on PaginatedJsonContentPropertyList{__typename nodes{__typename id key value version{__typename number}}}',variables:{spaceKey:e,contentId:t,isThemed:n}})}(e,t,!0)),o.push(function(e){return(0,R.I)({query:"query PaginatedByLineQuery($contentId:ID!$versionOverride:Int$embeddedContentRender:String$limit:Int=5$offset:Int){content(id:$contentId version:$versionOverride embeddedContentRender:$embeddedContentRender){__typename nodes{__typename id history{__typename createdBy{__typename ...byLineUserFragment}}version{__typename message by{__typename ...byLineUserFragment}friendlyWhen number}}}contentContributors(id:$contentId limit:$limit offset:$offset){__typename count nodes{__typename ...byLineUserFragment}}}fragment byLineUserFragment on Person{__typename type displayName ...on KnownUser{accountId}...on User{accountId}profilePicture{__typename path}}",variables:{contentId:e,externalToken:void 0,versionOverride:null,embeddedContentRender:null,limit:4}})}(t))}else if(i.experience===le.SPACE_OVERVIEW){const{spaceKey:e}=i.params;let t;if(i.query){const e=i.query[I.HOMEPAGE_ID_QUERY_KEY];Array.isArray(e)&&(t=e[0])}o.push(r().then((({userId:n})=>function(e,t,n,r){const a=t=>{return Promise.all([j(t,n),M(t,e),(a=t,T.run("prepare.pageButtons",(()=>Promise.all([V(a),F({location:"system.content.button",contentId:a})])))),G(t,r)]);var a},o=[(0,R.I)({query:"query SpaceOverviewQuery($spaceKey:String!){space(key:$spaceKey){__typename id name homepage{__typename id}}}",variables:{spaceKey:e}}).then((e=>{var n,r,o;const i=null==e||null===(n=e.data)||void 0===n||null===(r=n.space)||void 0===r||null===(o=r.homepage)||void 0===o?void 0:o.id;if(i&&i!==t)return a(i)})),H(e),Q(e)];return t&&o.push(a(t)),Promise.all(o)}(e,t,s,n)))),n||o.push(D(e).then((({data:t})=>{var n;return Boolean(null==t||null===(n=t.space)||void 0===n?void 0:n.theme)?B(e):Promise.resolve()})))}else if(i.experience===le.EDIT_PAGE)n||o.push(function({contentId:e,spaceKey:t},n){return Promise.all([W(e,n),Q(t),(0,R.I)({query:"query featureDiscovery{featureDiscovery{__typename pluginKey featureKey userKey date}}"})])}(i.params,s));else if(i.experience===le.HOME){const e=()=>a.e(637).then(a.bind(a,637));o.push(Promise.all([r(),e()]).then((([{featureFlags:e,userId:n,cloudId:r,isLicensed:a},o])=>{const s=Boolean(e["confluence.frontend.forge.extension-point.homepage-feed"]),c=e["confluence.frontend.new.feed.rollout"],p=[];if("off"!==c&&(e["confluence.frontend.home-1.5"]?p.push(o.preloadHome1Point5({cloudId:r,isLicensed:a,userId:n,isForgeAppEnabled:s,matchParams:i.params})):e["confluence.frontend.home-v2.preloader"]&&p.push((({feedRolloutFF:e,userId:t,isLicensed:n,cloudId:r,isForgeAppEnabled:a,emojiTitleEnabled:o=!1})=>{const i=[(0,L.b)({emojiTitleEnabled:o}),(0,U._)({userId:t,isLicensed:n,cloudId:r,isForgeAppEnabled:a,preloadPopularFeedOverride:!0,isHome1Point5:!1})];return"opt-in"!==e&&"opt-out"!==e||i.push(q()),Promise.all(i)})({feedRolloutFF:c,userId:n,isLicensed:a,cloudId:r,isForgeAppEnabled:s}))),"on"!==c){const e=t.match(/recentTab=(\d+)/);p.push(o.preloadHome1Point3({userId:n,isLicensed:a,cloudId:r,isForgeAppEnabled:s,recentTab:e?parseInt(e[1]):0}))}return Promise.all(p)})))}else i.experience===le.SPACE_PAGES&&o.push(r().then((({userId:t,isLicensed:n})=>(({spaceKey:t,queryParams:n,userId:r,isLicensed:a})=>{const o=ee(n,"sortField")||"",i=ee(n,"sortOrder")||"",s={first:24,searchText:ee(n,"text")||"",filters:(0,e.Z)({spaces:{spaceKeys:[t]},titleMatchOnly:{titleMatchOnly:!0}},"worked-on"===ee(n,"pageFilter")&&r&&a&&{contributors:{accountIds:[r]}}),sortBy:{field:Y.includes(o)?o:"LAST_MODIFIED_DATE",order:X.includes(i)?i:"DESC"},isLicensed:Boolean(a)};return Promise.all([(0,R.I)({query:'query SpacePagesQuery($searchText:String!$filters:ConfluenceSearchFilters!$first:Int!$token:String$sortBy:ConfluenceContentSortField!$isLicensed:Boolean!){confluenceContentSearch(query:$searchText scopes:[PAGE]filters:$filters first:$first token:$token sort:[$sortBy]sessionAttributes:{experience:"confluence.spacePages"}){__typename nodes{__typename ...PageCardSearchResult}pageInfo{__typename hasNextPage nextPageToken}}}fragment PageCardSearchResult on ConfluenceSearchResult{__typename ...on ConfluenceContentSearchResult@include(if:$isLicensed){watchDialogContent:content{__typename ...WatchDialogContentFragment}}...on ConfluenceContentSearchResult{id title url excerpt lastModified{__typename value}content{__typename id links{__typename editui}history{__typename createdBy{__typename profilePicture{__typename path}displayName}}metadata{__typename currentuser{__typename favourited{__typename isFavourite}}likes{__typename count}comments{__typename commentsCount}}}}}fragment WatchDialogContentFragment on Content{__typename id currentUserIsWatching type space{__typename id key currentUser{__typename isWatched isWatchingBlogs}operations{__typename operation targetType}}}',variables:s})])})({spaceKey:i.params.spaceKey,queryParams:i.query,userId:t,isLicensed:n}))));return Promise.all(o).catch((e=>{0}))};var le;!function(e){e.EDIT_PAGE="edit-page",e.HOME="home",e.SPACE_OVERVIEW="space-overview",e.VIEW_PAGE="view-page",e.EXTERNAL_SHARE="external-share",e.SPACE_PAGES="space-pages"}(le||(le={})),window.performance.mark("CFP-63.query-preloader"),window.__APOLLO_STATE__||ue(window.location.toString())})()})();
//# sourceMappingURL=query-preloader.XHWT6zVME3.js.map