(self._cf=self._cf||[]).push([[79682],{82567:(e,t,n)=>{"use strict";n.d(t,{P:()=>d});var r=n(202784),a=n(315783),o=n(391528),i=n(526973),s=n(717821),l=n(558849),c=n(135401);const d=(0,r.memo)((({customData:e={},metricName:t,onComplete:n=(()=>{}),stopTime:d,timing:u})=>{const m=(0,s.w)(t),p=(0,a.TW)(l.x),g=(0,r.useCallback)((()=>{!p&&m&&(e.startTime=e.startTime?e.startTime-i.x.pageLoadStartTimestamp:i.x.startTimes[t],e.endTime=d||performance.now()-i.x.pageLoadStartTimestamp,e.pageLoadInfo=(0,o.aX)(),m.stop({customData:e,stopTime:d}),delete i.x.startTimes[t],n())}),[p,m,n]);return r.createElement(c.e,{action:g,timing:u})}))},179682:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ByLine:()=>De});var r=n(159394),a=n(454530),o=n(202784),i=n(286235),s=n(239381),l=n(557098),c=n(908317),d=n(180213),u=n(9567),m=n(82567),p=n(767874),g=n(239861),y=n(784240),b=n(365917),f=n(230382),E=n.n(f);const v=E()`query ExternalByLineQuery($contentId:ID!$externalToken:String!){sharedContent(contentId:$contentId shareToken:$externalToken){content{id history{createdBy{...externalByLineUserFragment}}version{by{...externalByLineUserFragment}friendlyWhen number confRev syncRev}}}}fragment externalByLineUserFragment on Person{type displayName ...on KnownUser{accountId}...on User{accountId}}`,h=E()`fragment byLineUserFragment on Person{type displayName ...on KnownUser{accountId}...on User{accountId}profilePicture{path}}`,A=E()`query PaginatedByLineQuery($contentId:ID!$versionOverride:Int$embeddedContentRender:String$limit:Int=5$offset:Int){content(id:$contentId version:$versionOverride embeddedContentRender:$embeddedContentRender){nodes{id history{createdBy{...byLineUserFragment}}version{message by{...byLineUserFragment}friendlyWhen number}}}contentContributors(id:$contentId limit:$limit offset:$offset){count nodes{...byLineUserFragment}}}${h}`;var I=n(547313),_=n(830691),x=n(175612),T=n(51681),C=n(528542),S=n(113663),N=n(580904),w=n(315783),k=n(768606);const P=(0,k.P)({__loadable_id__:"Kb3wy",name:"ReadTime",loader:async()=>(await Promise.all([n.e(78248),n.e(73228)]).then(n.bind(n,373228))).ReadTime}),L=(0,k.P)({__loadable_id__:"dDrsx",name:"LoadTime",loader:async()=>(await Promise.all([n.e(78248),n.e(30949)]).then(n.bind(n,830949))).LoadTime});var O=n(811885),Z=n(210022),R=n(235748),$=(n(847134),n(302502)),M=n(903176),F=n(10078),B=n(22478),U=n(605162),D=n(542051),Y=n(544289),W=n(539099);const G=(0,I.Z)("div",{target:"e4u602p0"})({name:"1gb60o9",styles:"display:inline-block;margin-right:5px;"}),q=(0,I.Z)("div",{target:"e4u602p1"})("background-color:",x.N20A,";width:3px;height:3px;border-radius:50%;display:inline-block;margin-right:5px;margin-left:5px;vertical-align:middle;"),H=(0,I.Z)("div",{target:"e4u602p2"})("background-color:",x.N20A,";width:62px;height:8px;border-radius:2px;display:inline-block;"),z=({testId:e})=>o.createElement(G,{"data-testid":e},o.createElement(q,null),o.createElement(H,null));z.displayName="ByLineAppsPlaceholder";var V=n(358056),j=n(866380),K=n(896159),Q=n(169322),J=n(992656),X=n(702201),ee=n(967630),te=n(683748),ne=n(121203),re=n(491735),ae=n(367450),oe=n(36200),ie=n(885255),se=n(389027),le=n(738161);const ce=E()`mutation invokeExtension($input:InvokeExtensionInput!){invokeExtension(input:$input){statusCode success message response{body}}}`;var de=n(815478),ue=n.n(de),me=n(818149),pe=n.n(me);const ge=l.q.VIEW_PAGE_BYLINE_FORGE,ye=(0,I.Z)("div",{target:"eqxmc0j0"})({name:"evpma",styles:"padding:20px;max-width:500px;max-height:500px;"}),be=(0,I.Z)("span",{target:"eqxmc0j1"})({name:"1tr0efm",styles:'display:inline-block;margin-right:5px;&:before{content:"•";display:inline-block;color:grey;padding:0 8px 0 0;text-decoration:none;}&:hover{text-decoration:underline;cursor:pointer;&:before{text-decoration:none;}}'}),fe=(0,I.Z)("img",{target:"eqxmc0j2"})({name:"1l60njw",styles:"height:14px;width:14px;display:inline-block;vertical-align:text-bottom;padding:0 5px 0 0;"}),Ee=({app:e,reference:t,defineTriggerRef:n,triggerProps:a,toggleClose:s,isOpen:l,extensionData:c})=>{const u=!!e.properties.dynamicProperties,{cloudId:m}=(0,ae.D)(),[p,g]=(0,o.useState)((0,Q.L)(e)),[y,b]=(0,o.useState)(e.properties.icon||null),[f,E]=(0,o.useState)(e.properties.tooltip||null),[v,h]=(0,o.useState)(u),[A]=(0,i.Db)(ce,{client:(0,J.W)()}),I=(0,o.useCallback)((async()=>{var t;const n=e.id,r=(0,X.C)(n),a={cloudId:m,localId:r,extension:c},o=await A({variables:{input:{entryPoint:"dynamicProperties",contextIds:[`ari:cloud:confluence::site/${m}`],extensionId:n,payload:a}}}).catch((e=>({data:{invokeExtension:{success:!1,message:e}}})));h(!1);const{response:i,success:s,message:l}=null===(t=o.data)||void 0===t?void 0:t.invokeExtension;if(!s){return(0,oe.j)("by-line-apps").error`Failed to fetch dynamic properties for ByLine Forge app: ${e.id} with error: ${l}`,void(0,se.U)().submitError(new Error(`Failed to fetch dynamic properties for ByLine Forge app: ${e.id} with error: ${l}`),{attribution:d.x.ECOSYSTEM})}const{body:{title:u,tooltip:p,icon:y}}=i;u&&g((0,Q.L)(e,u)),p&&E(p),y&&b(y)}),[e,m,c,A]);return(0,o.useEffect)((()=>{!l&&u&&I()}),[l,u,I]),o.createElement(j.Z,{position:"top",tag:"span",content:f},o.createElement(be,(0,r.Z)((0,r.Z)({ref:n(t)},a),{},{onClick:s}),v?o.createElement(K.Z,{size:"small",testId:"byline-forge-app-trigger-loading-spinner"}):o.createElement(o.Fragment,null,y&&o.createElement(fe,{alt:p,src:y,onError:e=>{e.currentTarget.src=ue()}}),p)))};Ee.displayName="ByLineForgeAppTrigger";const ve=({app:e,contentId:t})=>{const[n,r]=(0,o.useState)(!1),[i,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(null),{routeName:d,spaceKey:u}=(0,o.useContext)(re.z),m=(0,o.useContext)(ie.F),p=(e=>{const t=(0,o.useRef)(e);return pe()(t.current,e)||(t.current=e),t.current})({type:B.q.BYLINE,content:{id:t,type:(0,le.wg)(d)},space:{key:u}}),g=e=>{s(e)},y=e=>t=>{c(t),e(t)},b=(0,o.useCallback)((()=>{r(!1)}),[r]),f=(0,o.useCallback)((()=>{!n&&m.start({name:ge,id:t,timeout:1e4}),r(!n)}),[r,n,m,t]),E=(0,o.useCallback)((()=>{m.succeed({name:ge})}),[m]);return(0,ee.Q)({onClose:b,popupRef:i,triggerRef:l}),o.createElement(V.Z,{testId:"forge-action-popup",content:({update:n})=>o.createElement(ye,{ref:g},o.createElement(te.R,{onUpdate:n,popupRef:i},o.createElement(ne._s,{app:e,extensionData:p,temporaryContext:{contentId:t,spaceKey:u},onInitialRender:E,onTearDown:b}))),isOpen:n,placement:"bottom-start",trigger:t=>{let{ref:r}=t,i=(0,a.Z)(t,["ref"]);return o.createElement(Ee,{app:e,reference:r,isOpen:n,defineTriggerRef:y,triggerProps:i,toggleClose:f,extensionData:p})}})};ve.displayName="ByLineForgeApp";const he={name:"8rsd5b",styles:'content:"•";display:inline-block;color:grey;padding:0 8px 0 0;text-decoration:none;'},Ae=(0,I.Z)($.c,{target:"exndbqs0"})("padding:0;margin:0 5px 0 0;line-height:10px;& .bylineWebItem{margin:0;line-height:1.5;display:inline-block;}& .bylineWebItem img{vertical-align:text-bottom;}& .bylineWebItem:before{",he,";}& .bylineWebItem:hover:before{text-decoration:none;}"),Ie=(0,I.Z)("span",{target:"exndbqs1"})("display:inline-block;color:",x.N500,";cursor:pointer;&:before{",he,";}"),_e=({contentId:e,connectItems:t,forgeItems:n,onLoad:r})=>{const[a,i]=(0,o.useState)(U.LT.getItemAsBoolean(D.X.BYLINE_APPS_SHOW_ALL));(0,o.useEffect)((()=>{U.LT.setItem(D.X.BYLINE_APPS_SHOW_ALL,a)}),[a]),(0,o.useEffect)((()=>{r()}),[r]),n=n||[];const s=(t,n)=>o.createElement(o.Fragment,null,t.length?o.createElement(Ae,{key:e,pageId:e,webItems:t,ContainerTagName:"span",webItemClassName:"bylineWebItem"}):null,n.map((t=>o.createElement(ve,{key:`${e}_${t.id}`,app:t,contentId:e}))));if((t=t||[]).length+n.length<=3)return s(t,n);{const e=Math.min(t.length,3),r=3-e;return o.createElement(o.Fragment,null,s(t.slice(0,e),n.slice(0,r)),a?o.createElement(o.Fragment,null,s(t.slice(e),n.slice(r)),o.createElement(Ie,{onClick:()=>i(!1)},o.createElement(_._H,{id:"by-line.show-less",defaultMessage:"Show less",description:"The link to show less apps"}))):o.createElement(o.Fragment,null,o.createElement(Ie,{onClick:()=>i(!0)},o.createElement(_._H,{id:"by-line.show-more",defaultMessage:"Show more",description:"The link to show more apps"}))))}},xe=({contentId:e})=>{const[t,n]=(0,o.useState)(!0),r=(0,o.useCallback)((()=>n(!1)),[]);return o.createElement(o.Fragment,null,t?o.createElement(z,{key:"byline-apps-loading",testId:"byline-apps-loading"}):null,o.createElement(M.n,{key:"byline-app-wrm",wrm:"wr!com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-content-byline-resources-v5"},(()=>o.createElement(Y.p,{tagName:"span",contentId:e,location:W.Y.SYSTEM_CONTENT_BYLINE,renderWhenLoading:!0},(({webItems:t,loading:n})=>o.createElement(F.r,{moduleType:B.q.BYLINE,render:(a,i)=>n||i?null:o.createElement(_e,{contentId:e,forgeItems:a,connectItems:t,onLoad:r})}))))))};xe.displayName="ByLineApps";var Te=n(630452),Ce=n(494775);const Se=(0,I.Z)("span",{target:"e90z3pe0"})({name:"pzvv45",styles:'display:inline-block;margin-left:5px;cursor:default;&:before{content:"•";display:inline-block;color:grey;padding:0 8px 0 0;text-decoration:none;}'}),Ne=(0,I.Z)("div",{target:"e90z3pe1"})({name:"1iiw1os",styles:"display:inline-block;&::first-letter{text-transform:capitalize;}"}),we=(0,o.memo)((({version:e,author:t,contentId:n,versionComment:r,createAnalyticsEvent:a})=>{const i=()=>{a({type:"sendUIEvent",data:{source:"page",action:"displayed",actionSubject:"tooltip",actionSubjectId:"publishComment"}}).fire()};return o.createElement(Ne,{"data-test-id":"page-last-modified"},(()=>{if(1===e.number)return o.createElement("span",{id:"by-line.last.updated.version.1"},e.friendlyWhen);const a=!t.isAnonymous&&t.userId===e.by.userId,s=e.number,l=`pageId=${n}&selectedPageVersions=${s-1}&selectedPageVersions=${s}`,c=o.createElement(Te.r,{href:`${Ce.b}/pages/diffpagesbyversion.action?${l}`},e.friendlyWhen);let d;return d=a?o.createElement(_._H,{id:"by-line.last.updated.self.expanded",defaultMessage:"Last updated {date}",description:"Text to show Last updated label",values:{date:c}}):o.createElement(_._H,{id:"by-line.last.updated.expanded",defaultMessage:"Last updated {date} by {contributor}",description:"Text to show Last updated Date by contributor label",values:{date:c,contributor:o.createElement(N.x,{userId:e.by.userId,fullName:e.by.fullName,isAnonymous:e.by.isAnonymous,referralSource:"profilecard"})}}),r&&(d=o.createElement("span",null,d,o.createElement(j.Z,{tag:"span",content:r,onShow:i},o.createElement(Se,null,o.createElement(_._H,{id:"by-line.last.updated.version.comment.indicator",defaultMessage:"Version comment",description:"Text that indicates a comment was made the last time this page was published. Rolling over the text shows the comment."}))))),d})())})),ke=(0,I.Z)("div",{target:"erg5bak0"})("@keyframes show{0%{opacity:0;}100%{opacity:1;}}font-size:12px;color:",x.subtleHeading,";line-height:1.5;margin:20px 0 20px 0;display:flex;"),Pe=(0,I.Z)("div",{target:"erg5bak1"})({name:"o7rt0f",styles:"margin-top:3px;"}),Le=(0,I.Z)("div",{target:"erg5bak2"})("margin:0 0 0 10px;width:100%;a{text-decoration:none;color:",x.subtleHeading,";}a:focus,a:hover,a:visited,a:active{color:",x.subtleHeading,";text-decoration:underline;}"),Oe=(0,I.Z)("div",{target:"erg5bak3"})("display:block;a:first-of-type{text-decoration:none;color:",x.subtleHeading,";}a:focus,a:hover,a:visited,a:active{color:",x.subtleHeading,";text-decoration:underline;}"),Ze=((0,I.Z)("div",{target:"erg5bak4"})({name:"13o7eu2",styles:"display:block;"}),(0,I.Z)("div",{target:"erg5bak5"})({name:"1baulvz",styles:"display:inline-block;"}),(0,I.Z)("div",{target:"erg5bak6"})("display:inline-block;background:",x.N40,";width:100px;height:14px;border-radius:3px;")),Re=(0,I.Z)("a",{target:"erg5bak7"})({name:"1pfc23n",styles:'&:before{content:"•";display:inline-block;color:grey;padding:0 7px 0 5px;text-decoration:none;}'}),$e=(0,_.vU)({commentCount:{id:"by-line.comment.count",defaultMessage:"{count, plural, one {# Page Comment} other {# Page Comments}}"}}),Me=e=>o.createElement(S.S,(0,r.Z)({},e));Me.displayName="renderAvatar";const Fe=(0,o.memo)((({contentId:e,author:t,commentCount:n,version:a,versionComment:i,isExternal:s,contributors:u,contributorsCount:m,fetchAllContributors:p,hasByLineContributors:g,hasByLineExtensions:y})=>{const{createAnalyticsEvent:b}=(0,T._)(),f=(0,o.useMemo)((()=>{const e=a.by,n=[t,...e.userId===t.userId?[]:[e],...u.filter((({userId:n})=>n!==t.userId&&n!==e.userId))];return[...n.map((e=>({isAnonymous:e.isAnonymous,userId:e.userId,src:e.avatarUrl,name:e.fullName}))),...Array(Math.max(m-n.length,0)).fill(null).map((()=>({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO8//DZfwAI9AOnL5rQ+AAAAABJRU5ErkJggg==",name:o.createElement(Ze,null)})))]}),[m,a,t,u]),E=(0,o.useCallback)((()=>{m!==u.length&&p&&(b({type:"sendOperationalEvent",data:{action:"dataPrefetched",actionSubject:"moreButton",source:"bylineContributors"}}).fire(),p())}),[b,p,u,m]),v=(0,o.useCallback)((()=>{b({type:"sendOperationalEvent",data:{action:"dataNeeded",actionSubject:"moreButton",source:"bylineContributors"}}).fire(),m!==u.length&&p&&p()}),[b,p,u,m]),h=(0,o.useMemo)((()=>({onMouseEnter:E,onClick:v})),[v,E]),A=(0,w.TW)("confluence.frontend.comment.count"),I=(0,w.TW)(O.WS),x=null==g||g,S=null==y||y;return o.createElement(ke,{className:"page-metadata-modification-info","data-test-id":"page-main-div"},x&&o.createElement(Pe,null,o.createElement(C.Z,{appearance:"stack",data:f,avatar:Me,maxCount:4,size:"medium",showMoreButtonProps:h})),o.createElement(Le,null,x&&o.createElement(Oe,null,o.createElement(_._H,{id:"by-line.created.by.expanded",defaultMessage:"Created by {author}",description:"Text to show author details",values:{author:o.createElement(N.x,{userId:t.userId,fullName:t.fullName,isAnonymous:t.isAnonymous,referralSource:"profilecard"})}})),o.createElement("div",null,x&&o.createElement(we,{createAnalyticsEvent:b,version:a,author:t,contentId:e,versionComment:i}),S&&o.createElement(o.Fragment,null,o.createElement(P,{contentId:e,priority:Z.U.BACKGROUND}),I&&o.createElement(L,{priority:Z.U.BACKGROUND,contentId:e,versionNumber:a.number}),!s&&o.createElement(c.S,{attribution:d.x.ECOSYSTEM},o.createElement(xe,{contentId:e})),A&&n>0?o.createElement(Re,{href:"#comments-section-fabric"},o.createElement(_._H,(0,r.Z)((0,r.Z)({},$e.commentCount),{},{values:{count:n}}))):null))),o.createElement(R.F,{name:l.q.VIEW_PAGE_BYLINE}))}));var Be=n(859797);const Ue=e=>{var t;return{isAnonymous:!e.accountId,userId:e.accountId,fullName:e.displayName,avatarUrl:null==e||null===(t=e.profilePicture)||void 0===t?void 0:t.path}},De=e=>{let{contentId:t,externalToken:n,versionOverride:f,embeddedContentRender:E}=e,h=(0,a.Z)(e,["contentId","externalToken","versionOverride","embeddedContentRender"]);const[I,_]=(0,o.useState)(4),{count:x}=(0,o.useContext)(u.l),T=(0,o.useRef)(null),C=()=>{var e,t;T.current&&_((null===(e=T.current)||void 0===e||null===(t=e.contentContributors)||void 0===t?void 0:t.count)||Number.MAX_SAFE_INTEGER)};let{data:S,loading:N,error:w,refetch:k}=(0,i.aM)(n?v:A,{variables:{contentId:t,externalToken:n,versionOverride:f,embeddedContentRender:E,limit:I},context:{allowOnExternalPage:!0},fetchPolicy:"cache-and-network"});return o.createElement(c.S,{attribution:d.x.BACKBONE},o.createElement(s.U,{name:l.q.VIEW_PAGE_BYLINE,id:t}),o.createElement(g.i,{metricName:p.u2.BYLINE,usePageLoadStartTime:!0}),(()=>{var e,a,i,s,l,c,d,u,g,f,E,v,A,I,_,P,L,O;if(N){if(!T.current)return o.createElement(Be.W,null);S=T.current}else w||(T.current=S);const Z=n?null===(e=S)||void 0===e||null===(a=e.sharedContent)||void 0===a?void 0:a.content:null===(i=S)||void 0===i||null===(s=i.content)||void 0===s||null===(l=s.nodes)||void 0===l?void 0:l[0];if(w||!Z)return null;const R=Ue(null==Z||null===(c=Z.history)||void 0===c?void 0:c.createdBy),$=Ue(null==Z||null===(d=Z.version)||void 0===d?void 0:d.by),M=null===(u=S)||void 0===u||null===(g=u.content)||void 0===g||null===(f=g.nodes)||void 0===f||null===(E=f[0])||void 0===E||null===(v=E.version)||void 0===v?void 0:v.message,F=((null===(A=S)||void 0===A||null===(I=A.contentContributors)||void 0===I?void 0:I.nodes)||[]).map(Ue),B=(null===(_=S)||void 0===_||null===(P=_.contentContributors)||void 0===P?void 0:P.count)||0,U=(0,r.Z)({contentId:t,author:R,commentCount:x,isExternal:Boolean(n),contributors:F,contributorsCount:B,versionComment:M,fetchAllContributors:C,version:{friendlyWhen:Z.version.friendlyWhen,number:Z.version.number,by:$,syncRev:(null==Z||null===(L=Z.version)||void 0===L?void 0:L.syncRev)||0,confRev:(null==Z||null===(O=Z.version)||void 0===O?void 0:O.confRev)||0}},h);return o.createElement(o.Fragment,null,o.createElement(Fe,(0,r.Z)({},U)),o.createElement(y.h,{name:"byline",types:[b.ai.content],reload:k}),o.createElement(m.P,{metricName:p.u2.BYLINE}))})())};De.displayName="ByLine"},9567:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,$:()=>o});var r=n(202784);const a=(0,r.createContext)({count:0,setCount:()=>{}}),o=({children:e})=>{const[t,n]=(0,r.useState)(0);return r.createElement(a.Provider,{value:{count:t,setCount:n}},e)};o.displayName="PageCommentsCountProvider"},22478:(e,t,n)=>{"use strict";let r;n.d(t,{q:()=>r}),function(e){e.BYLINE="confluence:contentBylineItem",e.CONTEXT_MENU="confluence:contextMenu",e.CONTENT_ACTION="confluence:contentAction",e.GLOBAL_SETTINGS="confluence:globalSettings",e.HOMEPAGE_FEED="confluence:homepageFeed",e.SPACE_PAGE="confluence:spacePage",e.SPACE_SETTINGS="confluence:spaceSettings",e.TEST_MODULE="test:module"}(r||(r={}))},121203:(e,t,n)=>{"use strict";n.d(t,{_s:()=>a,dy:()=>o,U2:()=>i,bc:()=>s,Zz:()=>l,yd:()=>c});var r=n(768606);const a=(0,r.P)({__loadable_id__:"FwEOx",name:"ByLineForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(71962)]).then(n.bind(n,841019))).ByLineForgeApp}),o=(0,r.P)({__loadable_id__:"MJUwt",name:"ContentActionForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(89680)]).then(n.bind(n,753404))).ContentActionForgeApp}),i=(0,r.P)({__loadable_id__:"PS0VN",name:"ContextMenuForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(32973)]).then(n.bind(n,25572))).ContextMenuForgeApp}),s=(0,r.P)({__loadable_id__:"vuUA2",name:"GlobalSettingsForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(19515)]).then(n.bind(n,623858))).GlobalSettingsForgeApp}),l=(0,r.P)({__loadable_id__:"tPS6a",name:"HomepageFeedForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(82732)]).then(n.bind(n,452589))).HomepageFeedForgeApp}),c=(0,r.P)({__loadable_id__:"u6Byy",name:"SpaceSettingsForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(62741)]).then(n.bind(n,376640))).SpaceSettingsForgeApp});(0,r.P)({__loadable_id__:"2rOIZ",name:"SpacePageForgeApp",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(85481),n.e(59892),n.e(97691),n.e(15818),n.e(2976),n.e(32661)]).then(n.bind(n,912762))).SpacePageForgeApp})},683748:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(202784);const a=({onUpdate:e,popupRef:t,children:n})=>((0,r.useEffect)((()=>{if(!t)return;const n=new MutationObserver((()=>{e()}));return n.observe(t,{childList:!0,subtree:!0}),()=>{n.disconnect()}}),[t]),r.createElement(r.Fragment,null,n));a.displayName="ContentChangeListener"},967630:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(202784);const a=({onClose:e,popupRef:t,triggerRef:n})=>{(0,r.useEffect)((()=>{if(!t)return;const r=({key:t})=>{"Escape"!==t&&"Esc"!==t||e()},a=r=>{document.body.contains(r.target)&&(t&&t.contains(r.target)||n&&n.contains(r.target)||r.target.closest(".atlaskit-portal-container [role=dialog]")||e())};return window.addEventListener("click",a),window.addEventListener("keydown",r),()=>{window.removeEventListener("click",a),window.removeEventListener("keydown",r)}}),[t,n,e])}},10078:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,r:()=>o});var r=n(768606);const a=e=>(0,r.P)({__loadable_id__:"0A4WZ",name:"LazyForgeUIExtensions",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(85481),n.e(59892),n.e(15818),n.e(94569)]).then(n.bind(n,179751))).ForgeUIExtensionsWrapper,loading:e}),o=a(void 0)},992656:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(992873),a=n(760728),o=n(585338),i=n(435329),s=n(929796),l=n(382547);let c;const d=()=>window.MOCK_GATEWAY_APOLLO_CLIENT?window.MOCK_GATEWAY_APOLLO_CLIENT:(c||(c=u()),c),u=()=>new r.fe({connectToDevTools:!1,link:(0,a.from)([(0,l.b)(),new o.u({credentials:"include",uri:"/gateway/api/graphql",fetch:s.y})]),cache:new i.h4})},169322:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(e,t)=>{const n=t||e.properties.title;let r="";var a;return"PRODUCTION"!==e.environmentType&&(r=` (${a=e.environmentType||"",a&&a.length?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():""})`),n+r}},702201:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r=e=>e.replace(/[^a-zA-Z0-9-]/g,"-")},462019:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(230382);const a=n.n(r)()`query GlobalOperationsQuery{globalOperations{operation targetType}}`},624588:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r="confluence.frontend.global-perms-view-user-profile"},31557:(e,t,n)=>{"use strict";n.d(t,{t:()=>c});var r=n(315783),a=n(624588),o=n(159394),i=n(286235),s=n(462019);const l=e=>e&&e.globalOperations&&e.globalOperations.length>0?e.globalOperations:[],c=()=>{if(!(0,r.TW)(a.q))return!0;const{data:e,error:t}=(()=>{const{loading:e,data:t,error:n}=(0,i.aM)(s._,{errorPolicy:"all",fetchPolicy:"cache-first"});if(n)return{data:[],error:n};const r={data:[],error:null};return e?r:(0,o.Z)((0,o.Z)({},r),{},{data:l(t)})})();return!!t||!!(e&&e.length>0&&e.some((e=>e&&"read"===e.operation&&"userProfile"===e.targetType)))}},811885:(e,t,n)=>{"use strict";n.d(t,{WS:()=>r,_n:()=>a,z4:()=>o,RB:()=>i,S5:()=>s,qt:()=>l,bA:()=>c,LL:()=>d,G5:()=>u});const r="confluence.frontend.load-time.render",a="readyForUser.end",o="readyForUser",i="CFP-63.ssr-ttr",s="navigation-fmp.NavigationFMP.start",l="navigation-fmp.NavigationFMP.end",c="side-navigation-fmp.SideNavigationFMP.start",d="side-navigation-fmp.SideNavigationFMP.end",u=e=>Math.round(e/10)/100},113663:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});var r=n(202784),a=n(412470),o=n(41001),i=n(494775),s=n(31557),l=n(110398);const c=a.default.div`
  ${({canViewProfile:e})=>e&&"\n    cursor: pointer;\n  "}
`,d=({userId:e,canViewProfile:t=!0,isAnonymous:n=!1,size:a="medium",src:d,onClick:u,trigger:m})=>{const p=!n&&t&&d?d:`${i.b}/images/icons/profilepics/anonymous.png`,g=(0,s.t)();return r.createElement(l.t,{userId:e,canViewProfile:t,isAnonymous:n,trigger:m},r.createElement(c,{canViewProfile:t&&g},r.createElement(o.Z,{src:p,size:a,target:"_blank",onClick:u})))};d.displayName="ProfileAvatar"},110398:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(202784),a=n(18468),o=n(639409),i=n(367450),s=n(31557),l=n(494775),c=n(523507),d=n(670390);const u=({position:e="bottom-start",userId:t,isAnonymous:n=!1,canViewProfile:u=!0,children:m,trigger:p="hover"})=>{const{push:g}=(0,r.useContext)(o.M),y=(0,s.t)(),{userId:b,cloudId:f,featureFlags:E}=(0,i.D)();return v=b,!n&&u&&t&&v&&y?r.createElement(a.q2,{cloudId:f,userId:t,resourceClient:(0,c.F)(),position:e,trigger:p,actions:[{label:"View profile",id:"view-profile",callback:()=>(async e=>{const t=await(0,d.Rq)(e);g(t)})(t),shouldRender:e=>(e=>!!e&&e.status&&"inactive"!==e.status)(e),link:(e=>{const n=e?l.b:"";return(0,d.p)(t,"",n)})(Boolean(E["confluence.frontend.people.directory"]))}]},m):m;var v};u.displayName="ProfileCardWrapper"},580904:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(202784),a=n(830691),o=n(90477),i=n(31557),s=n(412470),l=n(110398),c=n(670390);const d=s.default.div`
  display: inline-block;
`,u=({userId:e,fullName:t,isAnonymous:n=!1,onUserLinkClick:s=(()=>{}),canViewProfile:u=!0,referralSource:m,className:p})=>{const g=(0,i.t)();return n||!e||""===e?r.createElement(a._H,{id:"profile.anonymous.name",defaultMessage:"Anonymous",description:"Text for Anonymous user profile link."}):r.createElement(l.t,{isAnonymous:n,canViewProfile:u,userId:e},g?r.createElement(o.Y,{target:"_blank",onClick:s,href:(0,c.p)(e,m),className:p},t):r.createElement(d,null,t))}},523507:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(536631),a=n(18468);const o=(0,r.default)((()=>new a.Is({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5})))},670390:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,Rq:()=>i,Cc:()=>s,ns:()=>d});var r=n(164464),a=n(494775);const o=(e,t,n="")=>e?`${n}/people/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`:"",i=async(e,t)=>{if(!e)return"";let n="";try{const{featureFlags:e}=await(0,r.g)();n=e["confluence.frontend.people.directory"]?a.b:""}catch(o){}return`${n}/people/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`},s=(e,t,n="")=>e?`${n}/people/team/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`:"",l=e=>e.getAttribute("data-account-id"),c=e=>{const t={class:"className"},n={};return(e=>Array.from(e.attributes).map((e=>e.name)))(e).forEach((r=>{n[t[r]||r]=e.getAttribute(r)})),n.dangerouslySetInnerHTML={__html:e.innerHTML},n};function d(e){return e.filter(l).map((e=>{const t=c(e);t["data-user-hover-bound"]="true",t.href=o(t["data-account-id"],null);const n=window.document.createElement("span");return e.parentNode?(e.parentNode.replaceChild(n,e),{props:t,placeholder:n}):{}}))}},784240:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(891330);const a=e=>((0,r.t)(e),null)},891330:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(202784),a=n(365917);const o=e=>{const{contentId:t,registerReloader:n}=(0,r.useContext)(a.qC);(0,r.useEffect)((()=>{n(e)}),[t,e.reload,e.name])}},738161:(e,t,n)=>{"use strict";n.d(t,{Gh:()=>s,wg:()=>l,PP:()=>c,dj:()=>d});var r=n(846575),a=n(251467),o=n(230382);const i=n.n(o)()`query ExperimentalFetchShareableTeams($queryString:String!$limit:Int!=20)@experimental{experimentalFetchShareableTeams(queryString:$queryString limit:$limit){nodes{id smallAvatarImageUrl displayName description memberCount includesYou}}}`,s=(e,t,n,r)=>{switch(n){case"page":return`ari:cloud:confluence:${t}:page/${e}`;case"blogpost":return`ari:cloud:confluence:${t}:blog/${e}`;case"space":return`ari:cloud:confluence:${t}:space/${r}`;default:return`ari:cloud:confluence:${t}:page/${e}`}},l=e=>e?e.includes("BLOG")?"blogpost":e.includes("PAGE")?"page":e.includes("SPACE")?"space":"page":"page",c=e=>((e,t)=>{const n=[e,t].map((e=>e.then((e=>({value:e,status:"fulfilled"})),(e=>({error:e,status:"rejected"})))));return Promise.all(n).then((e=>{if(e.every((e=>"rejected"===e.status)))return Promise.reject("Failed to fetch any Shareable Entities");const t=e.filter((e=>"fulfilled"===e.status)).reduce(((e,t)=>[...e,...t.value]),[]);return Promise.resolve(t)}))})((async e=>e?(0,r.WQ)().query({query:a.b,variables:{searchTerm:e.toLowerCase()}}).then((({data:e})=>{const{users:t=[],groups:n=[]}=e.userGroupSearch,r=t.map((e=>({id:e.accountId,name:e.displayName,type:e.type||"user",avatarUrl:e.profilePicture.path}))),a=n.map((e=>({id:e.id,name:e.name,type:"group"})));return r.concat(a)})):Promise.resolve([]))(e),(async e=>(0,r.WQ)().query({query:i,variables:{queryString:e,limit:20}}).then((({data:e})=>{const{nodes:t=[]}=e.experimentalFetchShareableTeams;return t.map((e=>{return{type:"team",id:(t=e.id,t.replace("ari:cloud:teams::team/","")),avatarUrl:e.smallAvatarImageUrl,name:e.displayName,description:e.description,memberCount:e.memberCount,includesYou:e.includesYou};var t}))})))(e)),d=e=>{try{return JSON.parse(e)}catch(t){}return null}},251467:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(230382);const a=n.n(r)()`query UserAndGroupSearchQuery($searchTerm:String!$maxResults:Int=50$withGroups:Boolean=true$sitePermissionTypeFilter:SitePermissionTypeFilter=NONE){userGroupSearch(query:$searchTerm maxResults:$maxResults sitePermissionTypeFilter:$sitePermissionTypeFilter){users{type displayName profilePicture{path}...on User{accountId}...on KnownUser{accountId}}groups@include(if:$withGroups){id name}}}`},539099:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",ACTION_PANEL:"page.view.selection/action-panel",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration",SYSTEM_ADMIN_SITE_ADMINISTRATION_SECURITY:"system.admin/security"}},903176:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(202784),a=n(774443);const o=({wrm:e,children:t})=>{const[n,o]=(0,r.useState)({loaded:!1,modules:[]});return(0,r.useEffect)((()=>{(0,a.N)(e,(e=>{o({loaded:!0,modules:e})}),(()=>{}))}),[e]),n.loaded&&t?t(n.modules):null}},528542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(159394),a=n(607560),o=n(202784),i=n(847134),s=n(41001),l=n(577676),c=n(865904),d=n(358056),u=n(442298),m=n(866380),p=n(454530),g=n(515592),y=n(450126),b=n(903302);const f=({avatar:e,onAvatarClick:t,testId:n,index:r})=>{const{href:i,onClick:l}=e,c=(0,p.Z)(e,["href","onClick"]),d=o.createElement(s.Z,(0,a.Z)({},c,{testId:n&&`${n}--avatar`,borderColor:"transparent",size:"small"}));return i?o.createElement(g.Z,{href:i,target:e.target,rel:"_blank"===e.target?"noopener noreferrer":void 0,iconBefore:d,testId:n},e.name):"function"==typeof t?o.createElement(y.Z,{onClick:e=>t&&t(e,void 0,r),iconBefore:d,testId:n},e.name):o.createElement(b.Z,{iconBefore:d,component:e=>{let{children:t}=e,n=(0,p.Z)(e,["children"]);return o.createElement("span",n,t)},testId:n},e.name)},E=(0,u.ww)()/2,v=({children:e,testId:t})=>(0,i.tZ)("div",{"data-testid":t,css:(0,i.iv)("display:flex;flex-wrap:wrap;justify-content:flex-start;line-height:1;margin-left:-",E,"px;margin-right:-",E,"px;> *{margin-bottom:",(0,u.ww)(),"px;padding-left:",E,"px;padding-right:",E,"px;}")},e);var h=n(175612);const A={xsmall:10,small:10,medium:11,large:12,xlarge:16,xxlarge:16},I=(0,o.forwardRef)((({appearance:e="circle",borderColor:t=(0,h.background)(),size:n="medium",count:r=0,testId:l,onClick:c,"aria-controls":d,"aria-expanded":u,"aria-haspopup":m,buttonProps:g={}},y)=>{const b=(0,o.useCallback)(((e,t)=>{g.onClick&&g.onClick(e),c(e,t)}),[g.onClick,c]);return(0,i.tZ)(s.Z,{appearance:e,size:n,borderColor:t,ref:y,onClick:b},(e=>{let{testId:t,className:o,ref:s}=e,c=(0,p.Z)(e,["testId","className","ref"]);return(0,i.tZ)(i.ms,null,(({css:e,cx:t})=>(0,i.tZ)("button",(0,a.Z)({},g,c,{ref:s,"data-testid":l,"aria-controls":d,"aria-expanded":u,"aria-haspopup":m,className:t(o,e`
                    color: ${h.N500};
                    background-color: ${h.N40};
                    font-size: ${A[n]}px;
                  `)}),"+",r>99?99:r)))}))}));I.displayName="MoreIndicator";const _=I;const x=2*n(467026).YF+(0,u.ww)()/2,T=({children:e,testId:t})=>(0,i.tZ)("div",{"data-testid":t,css:(0,i.iv)("display:flex;line-height:1;margin-right:",x,"px;> *{margin-right:-",x,"px;}")},e),C=(e,t)=>e.key?e.key:t,S={grid:11,stack:5};function N(e){return{AvatarGroupItem:(0,r.Z)({render:(e,t,n)=>(0,i.tZ)(e,(0,a.Z)({},t,{key:C(t.avatar,n)}))},e&&e.AvatarGroupItem),Avatar:(0,r.Z)({render:(e,t,n)=>(0,i.tZ)(e,(0,a.Z)({},t,{key:C(t,n)}))},e&&e.Avatar)}}const w=({appearance:e="stack",avatar:t=s.Z,borderColor:n,boundariesElement:p,data:g,isTooltipDisabled:y,maxCount:b,onAvatarClick:E,onMoreClick:h,overrides:A,showMoreButtonProps:I={},size:x="medium",testId:w})=>{const[k,P]=(0,o.useState)(!1),L=(0,o.useCallback)((()=>P(!1)),[]);const O=void 0===b||0===b?S[e]:b,Z=g.length,R=Z>O?O-1:O,$="stack"===e?T:v;return(0,i.tZ)($,{testId:w&&`${w}--avatar-group`},g.slice(0,R).map(((e,a)=>{const o=e.onClick||E,s=N(A).Avatar.render(t,(0,r.Z)((0,r.Z)({},e),{},{size:x,borderColor:n,testId:w&&`${w}--avatar-${a}`,onClick:o?(e,t)=>{o(e,t,a)}:void 0,stackIndex:O-a}),a);return y?s:(0,i.tZ)(m.Z,{key:C(e,a),content:e.name},s)})),function(e,t){if(t<=e)return null;const o=r=>(0,i.tZ)(_,(0,a.Z)({buttonProps:I,borderColor:n,count:t-e,size:x,testId:w&&`${w}--overflow-menu--trigger`},r));if("function"==typeof h)return o({onClick:h});const s="scrollParent"===p?"clippingParents":void 0,m=(()=>{if("scrollParent"!==p)return"window"===p?"document":"viewport"})();return(0,i.tZ)(d.Z,{isOpen:k,onClose:L,placement:"bottom-end",boundary:s,rootBoundary:m,shouldFlip:!0,zIndex:u.ug.modal(),content:()=>(0,i.tZ)(l.Z,{onClick:e=>e.stopPropagation(),minWidth:250,maxHeight:300},(0,i.tZ)(c.Z,null,g.slice(e).map(((t,n)=>N(A).AvatarGroupItem.render(f,{avatar:t,onAvatarClick:E,testId:w&&`${w}--avatar-group-item-${n+e}`,index:n+e},n+e))))),trigger:e=>o((0,r.Z)((0,r.Z)({},e),{},{onClick:()=>P(!k)})),testId:w&&`${w}--overflow-menu`})}(+R,Z))}},577676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(454530),a=n(607560),o=n(847134),i=n(395175);const s=e=>{let{maxWidth:t=800,minWidth:n=320}=e,s=(0,r.Z)(e,["maxWidth","minWidth"]);return(0,o.tZ)(i.Z,(0,a.Z)({maxWidth:t,minWidth:n},s))}},815478:(e,t,n)=>{e.exports=n.p+"71f4QaqJq1.svg"}}]);
//# sourceMappingURL=79682.VtYv86fMwu.js.map