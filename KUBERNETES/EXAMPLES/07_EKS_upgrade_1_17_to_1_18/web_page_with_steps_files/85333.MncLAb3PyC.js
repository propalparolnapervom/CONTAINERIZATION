(self._cf=self._cf||[]).push([[85333],{685333:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppSwitcherComponent:()=>j});var a=n(159394),r=n(202784),i=n(830691),s=n(644484),o=n(768606),c=n(210022),d=n(639409),l=n(358056),u=n(151119),p=n(912436),E=n.n(p),h=n(773762),m=n(775528),b=n(436183),R=n(3653),S=n(907033);const f=e=>{const{cloudId:t,product:n}=e;(e=>{(0,S.rn)(),e===R.xs.JIRA?(0,S.$n)():e===R.xs.CONFLUENCE?(0,S.Wj)():(0,S.fv)()})(n),(0,m.pM)(e.availableProductsDataProvider),(0,b.xZ)(e.joinableSitesDataProvider),t&&(0,h.MR)({cloudId:t})};var v=n(920120),C=n(284047),T=n(205557),I=n(491807),g=n(394236),_=n(580418);const P={leading:!0,trailing:!1},w=(0,a.Z)({componentName:C.z6},_.Z);class A extends r.Component{constructor(...e){super(...e),(0,u.Z)(this,"fireOperationalEvent",(e=>{this.props.createAnalyticsEvent&&this.props.createAnalyticsEvent((0,a.Z)({eventType:T.Ru,actionSubject:C.F1},e)).fire(C.qp)})),(0,u.Z)(this,"triggerPrefetch",E()((()=>{f(this.props),this.fireOperationalEvent({action:"triggered"})}),6e4,P)),(0,u.Z)(this,"handleMouseEnter",(()=>{this.triggerPrefetch(),this.lastEnteredAt=(0,v.Z)()})),(0,u.Z)(this,"handleMouseClick",(()=>{if(this.lastEnteredAt){const e=Math.round((0,v.Z)()-this.lastEnteredAt);this.fireOperationalEvent({action:"clicked",attributes:{hoverToClick:e}})}}))}render(){const{children:e,Container:t="div"}=this.props;return r.createElement(t,{onFocus:this.handleMouseEnter,onMouseEnter:this.handleMouseEnter,onClick:this.handleMouseClick},e)}}A.displayName="PrefetchTrigger";const O=(0,I.Z)()(A),N=e=>r.createElement(g.gA,{data:w},r.createElement(O,e));var L=n(184152),y=n(556853),D=n(596638),M=n(367450),Z=n(248839),x=n(817240);const F=(0,o.P)({__loadable_id__:"T4LgI",name:"SwitcherContent",loader:async()=>(await Promise.all([n.e(78248),n.e(60316)]).then(n.bind(n,60316))).SwitcherContent}),j=()=>{const[e,t]=(0,r.useState)(!1),{match:n}=(0,r.useContext)(d.M),{isLicensed:o,cloudId:u,featureFlagClient:p}=(0,M.D)(),E=(0,D.G)(p),{isJswXflowUserQSEnabled:h}=(0,x.G)(),m=(0,s.r)((()=>{t(!e)}),{type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"appSwitcher",attributes:{selectedItemPageContext:n?n.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:Z.Om.START_TOUCH}}}),b=()=>{t(!1)};return o?r.createElement(N,{cloudId:u,product:"confluence"},r.createElement(l.Z,{placement:"bottom-start",rootBoundary:"document",zIndex:800,content:()=>r.createElement(F,{priority:c.U.BACKGROUND,cloudId:u,onClose:b}),isOpen:e,onClose:b,trigger:t=>{const n=r.createElement(L.D,(0,a.Z)({onClick:m,tooltip:r.createElement(i._H,{id:"app-navigation.app-switcher.tooltip",defaultMessage:"Switch to...",description:"Tooltip shown when mouse pointer hovers the App Switcher button"}),isSelected:e},t));return r.createElement("span",{"data-testid":"app-navigation-app-switcher"},E||h?r.createElement(y.Z,{name:"app-switcher-spotlight"},n):n)}})):null}},596638:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var a=n(449559),r=n(876650);const i=(e,t=!1)=>((e,t=!1)=>e.getVariantValue(a.c.SILENT_BUNDLING,{default:r.HX.NOT_ENROLLED,oneOf:[r.HX.CONTROL,r.HX.EXPERIMENT,r.HX.NOT_ENROLLED],shouldTrackExposureEvent:t}))(e,t)===r.HX.EXPERIMENT},750932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getLogger:()=>a.j});var a=n(36200)},703297:(e,t,n)=>{n(202784);const a=n(389028),{defer:r}=n(778717),{getLogger:i}=n(750932),s=i("WrappedReactLoadable"),o=[],c={},d=new Set;function l(){if(0===o.length)for(const e of window.__REACT_LOADABLE__||[]){const{resolve:t,promise:n}=r(5e3);o.push(n),c[e]=t}}function u(e){const{__loadable_id__:t,loader:n}=e;if(window.__SSR_RENDERED__&&t){l();const e=()=>{t in c&&c[t]()};n().then(e,(t=>{s.error(t),e()}))}return a(e)}u.preloadReactLoadable=()=>(l(),Promise.all(o)),u.getLoadableIds=()=>Array.from(d),e.exports=u},778717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Loadable:()=>s.P,Priority:()=>a.U,TaskQueue:()=>i.w,defer:()=>u.P,getLoadableIds:()=>l.Ix,getTaskQueue:()=>r.Q,preloadLoadable:()=>l.Y2,useLoadableAncestors:()=>d});var a=n(210022),r=n(1271),i=n(688285),s=n(768606),o=n(202784);const c=(0,o.createContext)([]);c.displayName="LoadableAncestors";const d=e=>{const t=(0,o.useContext)(c),[n]=(0,o.useState)((()=>e?[e].concat(t):t));return n};var l=n(35327),u=n(283912)},724710:(e,t,n)=>{"use strict";n.d(t,{qb:()=>l,I6:()=>u,ew:()=>p,VZ:()=>E,uU:()=>h,ZP:()=>m});var a=n(159394),r=n(151119),i=n(202784),s=n(205557),o=n(284047),c=n(491807),d=n(239435);let l;!function(e){e.LOADING="loading",e.COMPLETE="complete",e.ERROR="error"}(l||(l={}));const u=e=>({status:l.COMPLETE,data:e}),p=e=>e.status===l.COMPLETE,E=e=>e.status===l.ERROR,h=e=>e.status!==l.LOADING;function m(e,t,n){class u extends i.Component{constructor(...e){super(...e),(0,r.Z)(this,"acceptResults",!0),(0,r.Z)(this,"state",(e=>{if(n){const t=n(e);if(void 0!==t)return{status:l.COMPLETE,data:t}}return{status:l.LOADING,data:null}})(this.props)),(0,r.Z)(this,"fireOperationalEvent",(e=>{this.props.createAnalyticsEvent&&this.props.createAnalyticsEvent((0,a.Z)((0,a.Z)({eventType:s.Ru,actionSubject:"atlassianSwitcherDataProvider"},e),{},{attributes:(0,a.Z)((0,a.Z)({},e.attributes),{},{outdated:!this.acceptResults})})).fire(o.qp)}))}componentWillUnmount(){this.acceptResults=!1}componentDidMount(){t(this.props).then((e=>{this.onResult(e)})).catch((e=>{this.onError(e)}))}onResult(t){this.acceptResults&&this.setState({data:t,status:l.COMPLETE}),this.fireOperationalEvent({action:"receivedResult",actionSubjectId:e,attributes:{provider:e}})}onError(t){this.acceptResults&&!p(this.state)&&this.setState({error:t,status:l.ERROR,data:null}),this.fireOperationalEvent({action:"failed",actionSubjectId:e,attributes:{provider:e,reason:(0,d.u)(t)}})}render(){return this.props.children(this.state)}}return u.displayName="DataProvider",(0,r.Z)(u,"displayName",`DataProvider(${e})`),(0,c.Z)()(u)}},12223:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var a=n(724710),r=n(17635);const i=(e,t)=>{const n=(0,r.p)((e=>t()));return{fetchMethod:n,ProviderComponent:(0,a.ZP)(e,n,n.cached)}}},346385:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var a=n(12223),r=n(621923);const i=(e="/gateway/api/available-products/api/available-products")=>(0,a.y)("availableProducts",(async()=>{try{return await(0,r.rd)(e)}catch(t){if(e.indexOf("experiment-api")>-1&&401===t.status){return Promise.resolve({sites:[]})}throw t}}))},773762:(e,t,n)=>{"use strict";n.d(t,{h4:()=>m,DB:()=>b,Bn:()=>S,eA:()=>v,hH:()=>p,T1:()=>u,MR:()=>C});var a=n(202784),r=n(621923),i=n(724710),s=n(3653),o=n(17635);const c=function(e,t){return function(n){const{cloudId:r,children:s}=n;if(r)return a.createElement(e,n,s);{const e={status:i.qb.COMPLETE,data:t};return a.createElement(a.Fragment,null,s(e))}}},d=(0,i.ZP)("recentContainers",(({cloudId:e})=>(0,r.rd)(`/gateway/api/activity/api/client/recent/containers?cloudId=${e}`))),l=(0,i.ZP)("collaborationGraphRecentContainers",(({cloudId:e})=>(0,r.uz)("gateway/api/v1/collaborationgraph/user/container",{containerTypes:["confluenceSpace","jiraProject"],context:{contextType:"atlassianSwitcher",principalId:"context",siteId:e},expanded:!0,maxNumberOfResults:6,userId:"context"}))),u={status:i.qb.COMPLETE,data:{data:[]}},p={status:i.qb.COMPLETE,data:{collaborationGraphEntities:[]}},E={status:i.qb.COMPLETE,data:{data:null}},h={status:i.qb.COMPLETE,data:{collaborationGraphEntities:null}},m=c((({cloudId:e,disableRecentContainers:t,enableCollaborationGraphRecentContainers:n,children:r})=>t?a.createElement(a.Fragment,null,r(p)):n?a.createElement(l,{cloudId:e},r):a.createElement(a.Fragment,null,r(h))),p.data),b=c((({cloudId:e,disableRecentContainers:t,enableCollaborationGraphRecentContainers:n,children:r})=>t?a.createElement(a.Fragment,null,r(u)):n?a.createElement(a.Fragment,null,r(E)):a.createElement(d,{cloudId:e},r)),u.data),R=(0,o.p)((({cloudId:e,permissionId:t})=>(0,r.uz)("/gateway/api/permissions/permitted",{permissionId:t,resourceId:`ari:cloud:platform::site/${e}`}).then((e=>e.permitted)))),S=c((0,i.ZP)("permission",R,R.cached),!1),f=(0,o.p)((({cloudId:e})=>(0,r.rd)(`/gateway/api/site/${e}/setting/xflow`).then((e=>void 0===e["product-suggestions-enabled"]||e["product-suggestions-enabled"])))),v=c((0,i.ZP)("xflowSettings",f,f.cached),!0),C=({cloudId:e})=>{f({cloudId:e}),R({cloudId:e,permissionId:s.Pl.ADD_PRODUCTS}),R({cloudId:e,permissionId:s.Pl.MANAGE})}},775528:(e,t,n)=>{"use strict";n.d(t,{NY:()=>o,pM:()=>c});var a=n(202784),r=n(346385);const{fetchMethod:i,ProviderComponent:s}=(0,r.B)(),o=({children:e,availableProductsDataProvider:t})=>{const n=t&&t.ProviderComponent||s;return a.createElement(n,null,e)},c=e=>{e?e.fetchMethod({}):i({})}},284047:(e,t,n)=>{"use strict";n.d(t,{qp:()=>d,bJ:()=>l,ew:()=>u,Jb:()=>p,_i:()=>E,AF:()=>h,Ay:()=>m,z6:()=>b,F1:()=>R,hA:()=>S,KA:()=>f,y:()=>v,TB:()=>C,Vd:()=>T,KS:()=>I,gd:()=>g,I0:()=>_,U6:()=>P,YK:()=>A,Cl:()=>O,_e:()=>N,FK:()=>L,el:()=>y,_G:()=>D});var a=n(159394),r=n(202784),i=n(394236),s=n(99429),o=n(491807),c=n(205557);const d="navigation",l="atlassianSwitcher",u="atlassianSwitcherItem",p="atlassianSwitcherChildItem",E="atlassianSwitcherItemExpand",h="atlassianSwitcher",m="atlassianSwitcher",b="atlassianSwitcherPrefetch",R="atlassianSwitcherPrefetch",S="atlassianSwitcherTrelloSignUpToJoin",f="atlassianSwitcherTrelloHasNewFriends",v="atlassianSwitcherTrelloHasNewFriendsDismiss",C=(0,s.Z)(d),T=e=>({attributes:e}),I=function(e){return function(t){return n=>r.createElement(i.gA,{data:e(n)},r.createElement(t,n))}},g=(0,o.Z)({onRender:(e,t)=>e({eventType:c.Ru,action:"rendered",actionSubject:t.subject,attributes:t.data}).fire(d)})(class extends r.Component{componentDidMount(){this.props.onRender()}render(){return null}}),_=(0,o.Z)({onRender:(e,t)=>e({eventType:c.Ru,action:"not_rendered",actionSubject:t.subject,attributes:t.data}).fire(d)})(class extends r.Component{componentDidMount(){this.props.onRender()}render(){return null}}),P=(0,o.Z)({onRender:(e,t)=>e({eventType:c._d,action:"viewed",actionSubject:t.subject,attributes:t.data}).fire(d)})(class extends r.Component{componentDidMount(){this.props.onRender()}render(){return null}}),w=({subject:e,providerFailed:t,emptyRenderExpected:n,linksRendered:i,data:s})=>t||0===i.length&&!n?r.createElement(_,{subject:e,data:(0,a.Z)((0,a.Z)({},s),{},{providerFailed:t})}):r.createElement(g,{subject:e,data:(0,a.Z)((0,a.Z)({},s),{},{emptyRender:n})}),A=(e,t,n)=>{const a=Boolean(e.data&&0===e.data.sites.length);return w({subject:"atlassianSwitcherJoinableSites",providerFailed:null===e.data,emptyRenderExpected:a,linksRendered:t,data:n})},O=(e,t,n,a)=>{const r=null===e.data||null===t.data,i=0===n.length;return w({subject:"atlassianSwitcherRecommendedProducts",providerFailed:r,emptyRenderExpected:i,linksRendered:n,data:a})},N=(e,t,n,r,i)=>{const s=null===t.data||null===n.data,o=t.data||n.data||e;return w({subject:"atlassianSwitcherDiscoverMore",providerFailed:s,emptyRenderExpected:!o,linksRendered:r,data:(0,a.Z)((0,a.Z)({},i),{},{linkItems:r.map((e=>e.key))})})},L=(e,t,n,a,r,i)=>{const s=(e?null===n.data:null===t.data)||null===a.data,o=Boolean(e?n.data&&n.data.collaborationGraphEntities&&0===n.data.collaborationGraphEntities.length:t.data&&t.data.data&&0===t.data.data.length);return w({subject:"atlassianSwitcherRecentContainers",providerFailed:s,emptyRenderExpected:o,linksRendered:r,data:i})},y=(e,t,n,a)=>{if(!e)return;const r=null===e.data||null===t.data,i=0===n.length;return w({subject:"atlassianSwitcherCustomLinks",providerFailed:r,emptyRenderExpected:i,linksRendered:n,data:a})},D=(e,t,n,r,i)=>(0,a.Z)({},T((0,a.Z)({groupIndex:e,itemId:t,itemType:n,productType:r},i)))},239435:(e,t,n)=>{"use strict";function a(e){const{name:t="Unknown",status:n}=e||{};return{name:t,status:n}}n.d(t,{u:()=>a})},621923:(e,t,n)=>{"use strict";n.d(t,{rx:()=>r,rd:()=>i,uz:()=>s});var a=n(159394);const r="FetchError";const i=(e,t)=>fetch(e,(0,a.Z)({credentials:"include"},t)).then((t=>{if(t.ok)return t.json();throw n=new Error(`Unable to fetch ${e} ${t.status} ${t.statusText}`),a=t.status,{name:r,message:n.message,stack:n.stack,status:a};var n,a})),s=(e,t)=>i(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},580418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const a=JSON.parse('{"u2":"@atlaskit/atlassian-switcher","i8":"8.11.1"}'),r={packageName:a.u2,packageVersion:a.i8}},920120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a="undefined"!=typeof window&&window.performance&&window.performance.now.bind(performance)||Date.now},17635:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});const a=e=>{const t=new Map,n=new Map;function a(...e){return JSON.stringify(e)}return Object.assign(((...r)=>{const i=a(...r),s=n.get(i);if(void 0!==s)return s;const o=e(...r);var c;return n.set(i,o),"function"==typeof(c=o).then&&"function"==typeof c.catch&&o.then((e=>{t.set(i,e),setTimeout((()=>n.delete(i)),5e3)})).catch((()=>{n.delete(i)})),o}),e,{cached:(...e)=>{const n=a(...e);return t.get(n)},reset:()=>{t.clear(),n.clear()}})}},706810:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>i});var a=n(12223);const r=()=>Promise.resolve({sites:[]}),i=(e=r)=>{const t=s(e,r);return(0,a.y)("joinableSites",t)},s=(e,t)=>()=>{try{return e()}catch(n){return t()}}},436183:(e,t,n)=>{"use strict";n.d(t,{qL:()=>o,xZ:()=>c});var a=n(202784),r=n(706810);const{fetchMethod:i,ProviderComponent:s}=(0,r.Yg)(),o=({children:e,joinableSitesDataProvider:t})=>{const n=t&&t.ProviderComponent||s;return a.createElement(n,null,e)},c=e=>{e?e.fetchMethod({}):i({})}},3653:(e,t,n)=>{"use strict";let a,r,i,s,o,c,d,l;n.d(t,{dh:()=>a,mQ:()=>r,Pl:()=>i,xs:()=>s,L0:()=>o,U$:()=>c,Md:()=>d,_g:()=>l}),function(e){e.JIRA_PROJECT="jira-project",e.CONFLUENCE_SPACE="confluence-space"}(a||(a={})),function(e){e.JIRA_PROJECT="jiraProject",e.CONFLUENCE_SPACE="confluenceSpace"}(r||(r={})),function(e){e.MANAGE="manage",e.CAN_INVITE_USERS="invite-users",e.ADD_PRODUCTS="add-products"}(i||(i={})),function(e){e.BITBUCKET="bitbucket",e.CONFLUENCE="confluence",e.HOME="home",e.JIRA="jira",e.SITE_ADMIN="site-admin",e.TRUSTED_ADMIN="trusted-admin",e.TRELLO="trello",e.START="start"}(s||(s={})),function(e){e.disableCustomLinks="disableCustomLinks",e.disableRecentContainers="disableRecentContainers",e.disableSwitchToHeading="disableSwitchToHeading",e.xflow="xflow",e.isDiscoverMoreForEveryoneEnabled="isDiscoverMoreForEveryoneEnabled",e.isEmceeLinkEnabled="isEmceeLinkEnabled",e.isDiscoverSectionEnabled="isDiscoverSectionEnabled",e.isDefaultEditionFreeExperimentEnabled="isDefaultEditionFreeExperimentEnabled",e.isCollaborationGraphRecentContainersEnabled="isCollaborationGraphRecentContainersEnabled",e.isProductStoreInTrelloJSWFirstEnabled="isProductStoreInTrelloJSWFirstEnabled",e.isProductStoreInTrelloConfluenceFirstEnabled="isProductStoreInTrelloConfluenceFirstEnabled",e.isSlackDiscoveryEnabled="isSlackDiscoveryEnabled"}(o||(o={})),function(e){e.JIRA_BUSINESS="JIRA_BUSINESS",e.JIRA_SERVICE_DESK="JIRA_SERVICE_DESK",e.JIRA_SOFTWARE="JIRA_SOFTWARE",e.CONFLUENCE="CONFLUENCE",e.OPSGENIE="OPSGENIE",e.BITBUCKET="BITBUCKET",e.STATUSPAGE="STATUSPAGE",e.TRELLO="TRELLO",e.DRAGONFRUIT="DRAGONFRUIT",e.TEAM_CENTRAL="TEAM_CENTRAL"}(c||(c={})),function(e){e.CONFLUENCE="confluence.ondemand",e.JIRA_CORE="jira-core.ondemand",e.JIRA_SOFTWARE="jira-software.ondemand",e.JIRA_SERVICE_DESK="jira-servicedesk.ondemand",e.BITBUCKET="bitbucket",e.OPSGENIE="opsgenie",e.STATUSPAGE="statuspage",e.TRELLO="trello",e.DRAGONFRUIT="dragonfruit",e.TEAM_CENTRAL="townsquare"}(d||(d={})),function(e){e.DISCOVER_MORE="discover-more",e.GIT_TOOLS="appswitcher.git.tools",e.SLACK_INTEGRATION="slack-integration"}(l||(l={}))},907033:(e,t,n)=>{"use strict";n.d(t,{rn:()=>i,$n:()=>s,Wj:()=>o,fv:()=>c,E6:()=>d,W0:()=>l,gN:()=>u,OH:()=>p,ND:()=>E});var a=n(703297),r=n.n(a);const i=()=>Promise.all([n.e(64557),n.e(325)]).then(n.bind(n,711149)),s=()=>Promise.all([n.e(78248),n.e(11216),n.e(64557),n.e(41504),n.e(38151)]).then(n.bind(n,832610)),o=()=>Promise.all([n.e(78248),n.e(11216),n.e(64557),n.e(41504),n.e(20328)]).then(n.bind(n,958417)),c=()=>Promise.all([n.e(78248),n.e(11216),n.e(64557),n.e(41504),n.e(22999)]).then(n.bind(n,475587)),d=r()({__loadable_id__:"3EyUf",loader:i,loading:()=>null}),l=r()({__loadable_id__:"Ab4Ep",loader:s,loading:()=>null}),u=r()({__loadable_id__:"dtfMI",loader:o,loading:()=>null}),p=r()({__loadable_id__:"Uc4HD",loader:c,loading:()=>null}),E=r()({__loadable_id__:"FmK8r",loader:()=>Promise.all([n.e(78248),n.e(11216),n.e(64557),n.e(41504),n.e(55095)]).then(n.bind(n,905089)),loading:()=>null})}}]);
//# sourceMappingURL=85333.MncLAb3PyC.js.map