(self._cf=self._cf||[]).push([[89884],{789884:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Breadcrumbs:()=>B,CONTENT_STATUS_ARCHIVED:()=>P});var a=n(547313),r=n(213980),s=n.n(r),i=n(202784),c=n(384684),o=n(830691),l=n(908317),m=n(180213),u=n(591789),d=n(639409),p=n(234130),E=n(315783),g=n(239861),v=n(767874),f=n(82567),h=n(239723),T=n(159394),y=n(817620),C=n.n(y),b=n(644484),I=n(167979);const _=(0,i.memo)((e=>{const{href:t,onClick:n}=e,a=(0,b.r)((()=>{}),{type:"sendUIEvent",data:{action:"clicked",actionSubject:"breadcrumb",source:"containerNavigation",attributes:{navVersion:3}}}),r=C()(e,["onClick","createAnalyticsEvent"]);return i.createElement(I.Z,(0,T.Z)((0,T.Z)({},r),{},{onClick:e=>{a(),n&&(e=>!e.metaKey&&!e.ctrlKey&&0===e.button)(e)&&(e.preventDefault(),n(t))}}))}));function S({ancestors:e,contentTitle:t,onClick:n,spaceName:a,spaceOverviewPath:r}){return i.createElement(h.Z,{maxItems:3},i.createElement(_,{text:a,href:r,onClick:n}),e.map((({href:e,id:t,title:a})=>i.createElement(_,{key:t,text:a,href:e,onClick:n}))),t?i.createElement(_,{text:t,href:""}):null)}S.displayName="BreadcrumbsComponent";var A=n(230382);const k=n.n(A)()`query BreadcrumbsQuery($spaceKey:String!$contentId:ID$skipContent:Boolean!){spaces(spaceKey:$spaceKey first:10){nodes{id name homepage{id}}}content(id:$contentId)@skip(if:$skipContent){nodes{id type status ancestors{id type title status}}}}`,P="archived",x=(0,o.vU)({archivedPagesBreadcrumbsTitle:{id:"breadcrumbs.archived-pages-list-link",defaultMessage:"Archived pages",description:"The text for the link to the list of archived pages, appearing in the breadcrumbs trail on an archived page"}}),R=(0,a.Z)("div",{target:"e1xi8jfi0"})({name:"15ro776",styles:"margin-right:4px;"});const B=(0,o.XN)((function({contentId:e,contentTitle:t,spaceKey:n,intl:a}){const{match:r,push:s,toUrl:o}=(0,i.useContext)(d.M),h=(0,i.useCallback)((({contentId:e,contentSlug:t,contentType:a,query:r})=>{let s;switch(a){case"overview":s=u.SPACE_OVERVIEW.name;break;case"blogpost":s=u.VIEW_BLOG.name;break;case"page":s=u.VIEW_PAGE.name;break;default:throw new Error(`Expected content type 'blogpost', 'page' or 'overview' , but received '${a}'`)}return o(s,{contentId:e,contentSlug:t,query:r,spaceKey:n})}),[n,o]),T=(0,E.TW)(u.SPACE_OVERVIEW.HOMEPAGE_ID_QUERY_FF);if(!n)return null;const y=Boolean(r&&r.name===u.SPACE_ARCHIVED_PAGES.name),C=Boolean(r&&r.name===u.SPACE_PAGES.name),b=y||C;return e||b?i.createElement(l.S,{attribution:m.x.CONTENT_EXPERIENCE},i.createElement(g.i,{metricName:v.u2.BREADCRUMBS,usePageLoadStartTime:!0}),i.createElement(c.AE,{query:k,context:{single:!0},variables:{spaceKey:n,contentId:e,skipContent:b}},(({data:e,error:r})=>{var c,o,l;if(!e||r)return null;const m=null!=(l=e)&&null!=(l=l.spaces)&&null!=(l=l.nodes)?l[0]:l,d=null!=(o=e)&&null!=(o=o.content)&&null!=(o=o.nodes)?o[0]:o;if(!m||!d&&!b)return null;const E=null!=(c=m)&&null!=(c=c.homepage)?c.id:c,g=h({contentType:"overview",query:E&&T?{[u.SPACE_OVERVIEW.HOMEPAGE_ID_QUERY_KEY]:E}:void 0}),C=d?function({ancestors:e,status:t},n){return e?(e=t===P?e.filter((e=>e&&e.status===P)):e.filter((e=>e))).length?e[0].id!==n&&e[e.length-1].id===n?e.reverse().slice(1):e[0].id===n?e.slice(1):e:e:[]}(d,E).map((({id:e,title:t,type:n})=>({href:h({contentId:e,contentSlug:(0,p.GD)(t||void 0),contentType:n}),id:e||"",title:t||""}))):[];if(y||d&&d.status===P){const e={href:u.SPACE_ARCHIVED_PAGES.toUrl({spaceKey:n}),title:a.formatMessage(x.archivedPagesBreadcrumbsTitle),id:"archived_pages_list"};C.unshift(e)}return i.createElement(R,null,i.createElement(S,{ancestors:C,contentTitle:t,onClick:s,spaceName:m.name||n,spaceOverviewPath:g}),i.createElement(f.P,{metricName:v.u2.BREADCRUMBS}))}))):null}));B.propTypes={contentId:s().string,contentTitle:s().string,spaceKey:s().string.isRequired}},82567:(e,t,n)=>{"use strict";n.d(t,{P:()=>m});var a=n(202784),r=n(315783),s=n(391528),i=n(526973),c=n(717821),o=n(558849),l=n(135401);const m=(0,a.memo)((({customData:e={},metricName:t,onComplete:n=(()=>{}),stopTime:m,timing:u})=>{const d=(0,c.w)(t),p=(0,r.TW)(o.x),E=(0,a.useCallback)((()=>{!p&&d&&(e.startTime=e.startTime?e.startTime-i.x.pageLoadStartTimestamp:i.x.startTimes[t],e.endTime=m||performance.now()-i.x.pageLoadStartTimestamp,e.pageLoadInfo=(0,s.aX)(),d.stop({customData:e,stopTime:m}),delete i.x.startTimes[t],n())}),[p,d,n]);return a.createElement(l.e,{action:E,timing:u})}))}}]);
//# sourceMappingURL=89884.TsAtbG8fGs.js.map