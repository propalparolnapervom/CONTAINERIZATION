(self._cf=self._cf||[]).push([[17284],{82567:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var l=n(202784),i=n(315783),o=n(391528),r=n(526973),a=n(717821),d=n(558849),s=n(135401);const u=(0,l.memo)((({customData:e={},metricName:t,onComplete:n=(()=>{}),stopTime:u,timing:c})=>{const m=(0,a.w)(t),v=(0,i.TW)(d.x),p=(0,l.useCallback)((()=>{!v&&m&&(e.startTime=e.startTime?e.startTime-r.x.pageLoadStartTimestamp:r.x.startTimes[t],e.endTime=u||performance.now()-r.x.pageLoadStartTimestamp,e.pageLoadInfo=(0,o.aX)(),m.stop({customData:e,stopTime:u}),delete r.x.startTimes[t],n())}),[v,m,n]);return l.createElement(s.e,{action:p,timing:c})}))},117284:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentTitle:()=>O});var l=n(151119),i=n(159394),o=n(202784),r=(n(213980),n(384684)),a=n(239381),d=n(557098),s=n(908317),u=n(180213),c=n(784240),m=n(365917),v=n(936912),p=n(35658),g=n(683591),h=n(239861),b=n(767874),T=n(230382),E=n.n(T),y=n(604919);const k=E()`query ContentTitleQuery($contentId:ID$spaceKey:String!){content(id:$contentId){nodes{id title ...contentAppearancePublishedFragment emojiTitlePublished:properties(key:"emoji-title-published"){nodes{id key value version{number}}}properties(key:"editor"){nodes{id key value}}}}space(key:$spaceKey){id lookAndFeel{headings{key value}content{header{background backgroundAttachment backgroundBlendMode backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPosition backgroundRepeat backgroundSize borderRadius padding}}}}}${y.O}`,x=E()`query ContentTitleExternalQuery($contentId:ID!$externalToken:String!){sharedContent(contentId:$contentId shareToken:$externalToken){content{id title ...contentAppearancePublishedFragment properties(key:"editor"){nodes{id key value}}}}}${y.O}`;var C=n(547313),P=n(29398),f=n(367450),_=n(82567),w=n(235748),I=n(639409),j=n(571033),$=n(347623),S=n(187809),F=n(382270);const N=(0,C.Z)("div",{target:"eyd3kbs0"})("width:",(e=>e.isViewAllInlineCommentsVisible?`calc(100% - ${F.rt}px)`:"100%"),";"),A=(0,C.Z)("div",{target:"eyd3kbs1"})("display:inline-block;box-sizing:border-box;min-height:120px;width:100%;max-width:100%;",(({centerTitle:e})=>e&&"\n    display: block;\n    margin: 0 auto;\n    word-break: break-word;\n    word-wrap: break-word;\n    max-width: 760px;\n    "),";");A.displayName="StyledContentTitle";const Z=(0,C.Z)("h1",{target:"eyd3kbs2"})("&#title-text{",(e=>e.mixin),";font-weight:normal;margin-top:0;}margin:0;color:#333;word-break:break-word;word-wrap:break-word;min-height:35px;padding-top:5px;cursor:pointer;display:flex;"),L=(0,C.Z)("div",{target:"eyd3kbs3"})({name:"1bt4gnt",styles:"padding-right:10px;display:flex;justify-content:center;overflow:hidden;max-width:26px;align-items:center;justify-content:center;"});Z.displayName="StyledH1";const V=({lookAndFeel:e,banner:t,title:n,children:l,centerTitle:r,prefix:a,hasEmoji:s,emojiId:u})=>{var c,m;const{featureFlagClient:v}=(0,f.D)(),[p,g]=(0,o.useState)(u),h=(0,$.g6)(v);(0,o.useEffect)((()=>{g(s?u:null)}),[h,s,u]);const{getQueryParams:T,setQueryParams:E}=(0,o.useContext)(I.M),{isViewAllInlineCommentsVisible:y}=(0,o.useContext)(S.V);return o.createElement(N,{isViewAllInlineCommentsVisible:y,"data-testid":"title-wrapper"},o.createElement(A,{centerTitle:r,style:(0,i.Z)({},null!=(m=e)&&null!=(m=m.content)?m.header:m),"data-test-id":"page-content-header","data-testid":"page-content-header"},t||null,o.createElement(Z,{mixin:(0,P.Dq)(),id:"title-text","data-test-id":"title-text",style:null!=(c=e)?c.headings:c,onClick:()=>(()=>{const e=T();e&&(Object.keys(e).forEach((t=>e[t]=null)),E(e))})()},p&&h?o.createElement(L,null,o.createElement("span",{"data-testid":"emoji-title"},o.createElement(j.gN,{emoji:p,height:26,context:"viewPage",parentComponent:"ContentTitleComponent"}))):null,a?`${a} - ${n}`:n),l,o.createElement(_.P,{metricName:b.u2.CONTENT_TITLE}),o.createElement(w.F,{name:d.q.VIEW_PAGE_TITLE})))};V.displayName="ContentTitleComponent";var D=n(99529);class O extends o.Component{constructor(...e){super(...e),(0,l.Z)(this,"_isFabricPage",(e=>{var t;return'"v2"'===(null!=(t=e)&&null!=(t=t.properties)&&null!=(t=t.nodes)&&null!=(t=t[0])?t.value:t)})),(0,l.Z)(this,"_shouldCenterFabricPage",(e=>(0,p.uS)(e).appearance===g.X.DEFAULT)),(0,l.Z)(this,"_isCenteredTitle",(e=>!!this._isFabricPage(e)&&this._shouldCenterFabricPage(e)))}render(){const{spaceKey:e,banner:t,contentId:n,externalToken:l,children:p,prefix:g}=this.props;return o.createElement(o.Fragment,null,o.createElement(a.U,{id:n,name:d.q.VIEW_PAGE_TITLE}),o.createElement(s.S,{attribution:u.x.CONTENT_EXPERIENCE},o.createElement(h.i,{metricName:b.u2.CONTENT_TITLE,usePageLoadStartTime:!0}),o.createElement(r.AE,{query:l?x:k,variables:{contentId:n,spaceKey:e,externalToken:l,isThemed:!0},context:{single:!0,allowOnExternalPage:!0},fetchPolicy:"network-only"},(({error:e,data:n,refetch:r})=>{var a,d;const s=l?null!=(d=n)&&null!=(d=d.sharedContent)?d.content:d:null!=(a=n)&&null!=(a=a.content)&&null!=(a=a.nodes)?a[0]:a;if(!s)return o.createElement(D.S,null);if(e)throw e;const u=(({space:e})=>{if(!e)return null;const{lookAndFeel:t}=e;return(0,i.Z)((0,i.Z)({},t),{},{headings:t.headings.reduce(((e,t)=>(e[t.key]=t.value,e)),{})})})(s),h=s.title||"",b=this._isCenteredTitle(s),T=(0,v.u$)(n),E=(0,v.Pi)(n);return o.createElement(o.Fragment,null,o.createElement(V,{title:h,lookAndFeel:u,banner:t,centerTitle:b,prefix:g,emojiId:T,hasEmoji:E},p),o.createElement(c.h,{name:"title",types:[m.ai.content],reload:r}))}))))}}O.displayName="ContentTitle",(0,l.Z)(O,"defaultProps",{children:null,prefix:null})},347623:(e,t,n)=>{"use strict";n.d(t,{g6:()=>i,_C:()=>o});var l=n(936912);const i=e=>e.getBooleanValue("confluence.frontend.emoji.in.editor.title",{default:!1,shouldTrackExposureEvent:!0}),o=async({userId:e,cloudId:t,emojiId:n})=>(0,l.T5)(t,e).then((e=>Promise.resolve(null==e?void 0:e.findById(n)).then((t=>t&&Promise.resolve(e.loadMediaEmoji(t))))))},571033:(e,t,n)=>{"use strict";n.d(t,{gN:()=>i,GN:()=>o});var l=n(768606);const i=(0,l.P)({__loadable_id__:"IuQCc",name:"EmojiComponentLoader",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(10839)]).then(n.bind(n,310839))).EmojiComponent}),o=((0,l.P)({__loadable_id__:"6hFsR",name:"EmojiTitlePopover",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(59432)]).then(n.bind(n,459432))).EmojiTitlePopover}),(0,l.P)({__loadable_id__:"qJ3jB",name:"EmojiPicker",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(36653),n.e(94735)]).then(n.bind(n,494735))).EmojiPicker}),(0,l.P)({__loadable_id__:"Nkgf5",name:"EmojiTitleSection",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(36653),n.e(62919)]).then(n.bind(n,262919))).EmojiTitleSection}))},936912:(e,t,n)=>{"use strict";n.d(t,{L1:()=>o,SA:()=>r,pp:()=>a,Kn:()=>d,u$:()=>s,L7:()=>u,ZC:()=>c,Pi:()=>m,T5:()=>v});var l=n(714922),i=n(578996);const o=e=>{var t,n,l,i,o,r,a;return(null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitleDraft)||void 0===i||null===(o=i.nodes)||void 0===o||null===(r=o[0])||void 0===r||null===(a=r.version)||void 0===a?void 0:a.number)||0},r=e=>{var t,n,l,i,o,r,a;return(null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitlePublished)||void 0===i||null===(o=i.nodes)||void 0===o||null===(r=o[0])||void 0===r||null===(a=r.version)||void 0===a?void 0:a.number)||0},a=e=>{var t,n,l,i,o,r;return((null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitleDraft)||void 0===i||null===(o=i.nodes)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.value)||"").replace(/['"]+/g,"")},d=e=>e.replace(/['"]+/g,""),s=e=>{var t,n,l,i,o,r;return((null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitlePublished)||void 0===i||null===(o=i.nodes)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.value)||"").replace(/['"]+/g,"")},u=e=>{var t,n,l;return((null==e||null===(t=e.emoji)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l?void 0:l.value)||"").replace(/['"]+/g,"").replace(/null/,"")},c=e=>{const t=(e=>{var t,n,l,i,o;return null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitleDraft)||void 0===i||null===(o=i.nodes)||void 0===o?void 0:o[0]})(e);return!(null==t||!t.value)&&'""'!==(null==t?void 0:t.value)&&'"null"'!==(null==t?void 0:t.value)},m=e=>{const t=(e=>{var t,n,l,i,o;return null==e||null===(t=e.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(l=n[0])||void 0===l||null===(i=l.emojiTitlePublished)||void 0===i||null===(o=i.nodes)||void 0===o?void 0:o[0]})(e);return!(null==t||!t.value)&&'""'!==(null==t?void 0:t.value)&&'"null"'!==(null==t?void 0:t.value)},v=async(e,t)=>await(0,l.T5)(i.ZP,{cloudId:e,userId:t,source:"edit"})},239381:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var l=n(202784),i=n(772005);class o extends l.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:n,attributes:l,collect:o,onSuccess:r}=this.props;(0,i.OV)().start({attributes:l,name:t,timeout:n,id:e,collect:o,onSuccess:r})}render(){return null}}o.displayName="ExperienceStart"},235748:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var l=n(202784),i=n(885255);function o({name:e,attributes:t}){const n=(0,l.useContext)(i.F);return(0,l.useEffect)((()=>n.succeed({name:e,attributes:t})),[e,t,n]),null}},714922:(e,t,n)=>{"use strict";n.d(t,{bJ:()=>r,T5:()=>a});var l=n(830733),i=n.n(l);(0,n(36200).j)("emoji-provider");const o="/gateway/api/emoji",r=(e,t)=>{const n={providers:[{url:`${o}/standard`},{url:`${o}/atlassian`}],allowUpload:!0,currentUser:t?{id:t}:void 0};return e&&n.providers.push({url:`${o}/${e}/site`}),n},a=i()(((e,t)=>{var n,l;const i=null!==(n=null==t?void 0:t.cloudId)&&void 0!==n?n:"",o=null!==(l=null==t?void 0:t.userId)&&void 0!==l?l:void 0,a=r(i,o);let d;try{d=new e(a)}catch(s){0}return Promise.resolve(d)}),((e,t)=>{var n,l;return`${null!==(n=null==t?void 0:t.cloudId)&&void 0!==n?n:""}_${null!==(l=null==t?void 0:t.source)&&void 0!==l?l:""}`}))},784240:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var l=n(891330);const i=e=>((0,l.t)(e),null)},891330:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var l=n(202784),i=n(365917);const o=e=>{const{contentId:t,registerReloader:n}=(0,l.useContext)(i.qC);(0,l.useEffect)((()=>{n(e)}),[t,e.reload,e.name])}},382270:(e,t,n)=>{"use strict";n.d(t,{rt:()=>l,ZF:()=>i,kM:()=>o});const l=350,i=8,o=128}}]);
//# sourceMappingURL=17284.XSzmWmuTN2.js.map