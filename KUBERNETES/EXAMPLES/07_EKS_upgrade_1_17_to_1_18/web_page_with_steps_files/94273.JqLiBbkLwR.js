(self._cf=self._cf||[]).push([[94273],{313124:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var a=n(159394),s=(n(213980),n(202784));const i={display:"block",position:"absolute",width:"100%",top:0,left:0,height:250};class o extends s.Component{render(){var e;const{lookAndFeel:t}=this.props;if(!t||!t.content)return null;const n=(null!=(e=t)&&null!=(e=e.content)&&null!=(e=e.screen)?e.layer:e)||{};return s.createElement("div",{style:(0,a.Z)((0,a.Z)({},i),n)})}}o.displayName="ContentScreenBackgroundLayer"},827333:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>s,Ex:()=>i,Qo:()=>o});var a=n(768606);const s=(0,a.P)({__loadable_id__:"ClZmW",name:"RestrictedPage",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(37382),n.e(33731),n.e(7807),n.e(75415),n.e(19377)]).then(n.bind(n,419377))).RestrictedPage}),i=(0,a.P)({__loadable_id__:"EhdjM",name:"RestrictedSpace",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(37382),n.e(33731),n.e(7807),n.e(75415),n.e(16590)]).then(n.bind(n,216590))).RestrictedSpace}),o=(0,a.P)({__loadable_id__:"/SH9f",name:"RestrictedPageConfirmation",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(80875)]).then(n.bind(n,835689))).RestrictedPageConfirmation})},681178:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});const a=(0,n(768606).P)({__loadable_id__:"mbjrR",name:"NotFound",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(75392),n.e(41347),n.e(72005),n.e(37382),n.e(33731),n.e(7807),n.e(18970)]).then(n.bind(n,818970))).NotFound})},240572:(e,t,n)=>{"use strict";n.d(t,{zv:()=>h,VK:()=>_,rw:()=>v});var a=n(202784),s=n(384684),i=n(655050),o=n(841347),r=n(164464),c=n(410593),d=n(230382),p=n.n(d);const l=m("query SpaceRestrictionCheckQuery"),u=m("query SpaceRestrictionCheckWithoutAdminKeyQuery");function m(e){return p()`${e}($spaceKey:String!){space(key:$spaceKey){id}}`}const y=p()`query SpaceRestrictionCheckQueryExperimental($spaceKey:String!)@experimental{experimentalSpace(spaceKey:$spaceKey){statusCode}}`;function h({asSuperAdmin:e,children:t,spaceKey:n}){const i=(0,c.TT)();return a.createElement(r.e,null,(({featureFlags:r})=>a.createElement(s.AE,{query:r["confluence.frontend.spacerestrictionscheck.adminkey.graphql"]&&i?!1===e?u:l:y,context:void 0===e?void 0:{asSuperAdmin:e},fetchPolicy:i?"no-cache":void 0,variables:{spaceKey:n}},(({data:e,error:n,loading:a})=>{let s,i;if(n)s=_(n),i=v(n),(s||i)&&((0,o.Xb)(n),n=void 0);else if(e){var r;const t=null!=(r=e)&&null!=(r=r.experimentalSpace)?r.statusCode:r;s=404===t,i=403===t}return t({error:n,isSpaceNotFound:s,isSpaceRestricted:i,loading:a})}))))}function _(e){return S(e,(({statusCode:e})=>404===e))}function v(e){return S(e,(()=>(0,i.T)(e)))}function S({graphQLErrors:e},t){if(e&&e.length>0)for(const{extensions:n,path:a}of e)if(Array.isArray(a)&&-1!==a.indexOf("space")&&n&&t(n))return!0;return!1}h.displayName="SpaceRestrictionCheck"},147445:(e,t,n)=>{"use strict";n.d(t,{MU:()=>d,ot:()=>m,aW:()=>c,e4:()=>y,is:()=>h,V9:()=>u,iK:()=>l,u3:()=>p});var a=n(798623),s=n(920823),i=n(324985),o=n(811366);new o.fK.Array({user:i.EA,recentUpdates:new o.fK.Array(i.kQ)});const r={results:new o.fK.Array(i.kQ)},c=(new o.fK.Array(i.kQ),(0,s.QB)("SPACE_INFO",a.Z.spaces.space,{schema:i.RZ})),d=(0,s.QB)("SPACE_FAVOURITE",a.Z.spaces.favourite),p=(0,s.QB)("SPACE_UNFAVOURITE",a.Z.spaces.unfavourite),l=(0,s.QB)("SPACE_HOME_CONTENT",a.Z.spaces.spaceHomeContent,{schema:i.kQ}),u=((0,s.QB)("LABELS",a.Z.spaces.labels),(0,s.QB)("DRAFTS_CONTENT",a.Z.content.drafts,{schema:r}),(0,s.QB)("RECENT_WORK_CONTENT",a.Z.content.recentlyUpdatedByCurrentUserWithDrafts,{schema:r}),(0,s.QB)("RECENTLY_VISITED_CONTENT",a.Z.content.recentlyVisitedByCurrentUser,{schema:r}),(0,s.QB)("FAVOURITED_CONTENT",a.Z.content.favouritedByCurrentUser,{schema:r}),(0,s.QB)("UNFAVOURITE_CONTENT",a.Z.content.unfavourite),(0,s.QB)("FEATURE_DISCOVERED_MARK",a.Z.featureDiscovery.markDiscovered)),m=((0,s.QB)("FOLLOW_USER",a.Z.users.follow,{schema:i.EA}),(0,s.QB)("EDITOR_CONTENT_METADATA",a.Z.content.editPageMetadata,{schema:i.kQ})),y=(0,s.QB)("SPACE_CALENDAR",a.Z.views.spaceCalendar),h=((0,s.QB)("UPDATE_SPACE_LOGO",a.Z.spaces.logo,{schema:i.Dh}),(0,s.QB)("SPACE_HOME_OVERRIDE_CONTENT",a.Z.atlassianConnect.getConnectModuleDescriptor,{schema:i.k4}));a.Z.content.recentlyVisitedByCurrentUser,a.Z.content.recentlyUpdatedByCurrentUserWithDrafts,a.Z.content.favouritedByCurrentUser,a.Z.content.drafts;(0,s.QB)("SEND_ANALYTICS",a.Z.settings.sendAnalytics)},403943:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var a=n(216435),s=n(346670),i=n(335453),o=n(153746),r=n(166294),c=n(613318),d=n(377826),p=n(494984),l=n(147445),u=n(83941),m=n(24949);class y{constructor(e){this.map=new WeakMap,this.func=e}memoize(...e){return this._memoizeImpl(this.map,e,0)}_memoizeImpl(e,t,n){let a=e.get(t[n]);return n===t.length-1?(a||(a=this.func(...t),e.set(t[n],a)),a):(a||(a=new WeakMap,e.set(t[n],a)),this._memoizeImpl(a,t,n+1))}}const h=(0,m.wN)((e=>{const t=new y(e);return t.memoize.bind(t)}))((e=>e),(e=>e.toJS()));var _=n(159394),v=n(151119),S=(n(213980),n(202784)),g=n(72779),E=n.n(g),f=n(183883),C=n.n(f),A=n(361291),F=n(438641);const R=(0,n(768606).P)({__loadable_id__:"K/Ap8",name:"ConnectAddon",loader:()=>Promise.all([n.e(78248),n.e(54445),n.e(92124)]).then(n.bind(n,292124))});var O=n(313124),B=n(887728),K=n(827333),P=n(240572),k=n(830691),T=n(681178);const N=e=>{const{isFirstRoute:t,goBackPreviousPage:n}=e;return S.createElement(T.T,{secondaryButton:t?null:S.createElement(k._H,{id:"space-404.text.go.back.previous.page",defaultMessage:"Go to previous page",description:"link text to go the page user just came from"}),secondaryButtonFnct:e=>{e.preventDefault(),n()}})};N.displayName="Space404",N.displayName="Space404";var Z,w=n(414398),I=n(25074),b=n(162558),D=n.n(b);let U=(0,A.D)(D())(Z=(0,I.Z)((e=>e.space&&e.space.name))(Z=class extends S.Component{constructor(...e){super(...e),(0,v.Z)(this,"state",{mayRedirect:!1}),(0,v.Z)(this,"_setMayRedirect",(e=>{this.state.mayRedirect!==e&&this.setState({mayRedirect:e})}))}componentDidMount(){const{spaceKey:e,location:t,routeParams:n}=this.props;this._fixSpaceEncodingInSpaceKey(t,n),this._fetchSpaceData(e)}UNSAFE_componentWillReceiveProps(e){const{getSpaceHomeOverrideDescriptor:t,replace:n}=this.props,{spaceKey:a,isRequesting:s,space:i,hasSpaceHomeOverride:o,isSpaceHomeOverrideDescriptorRequesting:r,spaceHomeOverrideDescriptor:c,themeModuleKey:d,themeAddonKey:p,spaceHomePageId:l}=e;if(i&&i.key&&i.key!==a&&i.key.toLowerCase()===a.toLowerCase())return void n((0,_.Z)((0,_.Z)({},C().location),{},{pathname:C().location.pathname.replace(`/${F.Ae}/${a}`,`/${F.Ae}/${i.key}`)}));!(i&&i.spaceKey&&i.currentUserPermissions||this.props.spaceKey===a||s)&&this._fetchSpaceData(a),o&&!1===r&&void 0===c&&l&&t(p,d,a,l)}componentDidUpdate(e){const{routeParams:t}=this.props;e.spaceKey!==this.props.spaceKey&&this._fixSpaceEncodingInSpaceKey(C().location,t)}_fixSpaceEncodingInSpaceKey(e,{spaceKey:t=""}){const n=e.pathname||"",a=decodeURIComponent(n);-1!==n.indexOf("+")&&-1!==t.indexOf("+")&&-1!==a.indexOf(`spaces/${t}`)&&this.props.replace((0,_.Z)((0,_.Z)({},e),{},{pathname:a.replace(`spaces/${t}`,`spaces/${t}`.replace(/\+/g," "))}))}_fetchSpaceData(e){const{getSpaceByKey:t}=this.props;t({spaceKey:e})}render(){const{isSpaceOverview:e,spaceHomeOverrideDescriptor:t,hasSpaceHomeOverride:n,connectVersion:a,isSpaceHomeOverrideEnabled:s,lookAndFeel:i,isViewPage:o,isAnonymous:r,spaceKey:c,goBackPreviousPage:d,isFirstRoute:p,contentId:l}=this.props,u={contentStyle:{width:"100%",textAlign:"center",display:"inline-block"},width:"100%",height:"514px"};return n&&s&&e?t?S.createElement(S.Fragment,null,S.createElement(O.W,{lookAndFeel:i}),S.createElement(R,(0,_.Z)({containerStyle:{position:"relative"},version:a,id:t.ns,name:t.moduleKey,descriptor:t},u))):null:S.createElement(w.Z.Provider,{value:this._setMayRedirect},S.createElement(P.zv,{spaceKey:c},(({isSpaceRestricted:e,isSpaceNotFound:t})=>e?S.createElement(K.Ex,{goToPreviousPage:d,isFirstRoute:p,contentId:l}):!t||r||this.state.mayRedirect?S.createElement("div",{className:E()({"wrapper-space-view-page":o,"wrapper-space-home-page":!o})},this.props.children):S.createElement(S.Fragment,null,S.createElement(N,{goBackPreviousPage:d,isFirstRoute:p}),S.createElement(B.B,{screenEvent:{name:"spaceNotFoundScreen"},id:c})))))}})||Z)||Z;const x=(0,o.X1)();const Q=(0,a.connect)((e=>{const t=(0,c.Rs)(e),{contentId:n,contentSlug:a,spaceKey:i}=t,p=e.views.spaceHome.currentSpace,l=(0,c.k$)(e),m=l.pathname,y=x((0,s.fromJS)([i]),e).first(),_=e.session.history&&1===e.session.history.size,v=!p.get("spaceKey")||p.get("spaceKey")===i,S=!!(v&&p.get("isFound")?p.get("isFound"):e.views.spaceHome.homePage.get("isSpaceFound")),g=v&&p.get("isRequesting")&&p.get("spaceKey")===i,E=v&&p.get("hasFetched"),f=!!n||!!a;let C={moduleKey:null,addonKey:null};y&&(C=h(y.get("theme")));const A=null!==C.moduleKey&&null!==C.addonKey,F=C.moduleKey,R=C.addonKey,O=e.views.spaceHome.theme.getIn(["spaceHomeOverrideDescriptor","isRequesting"]);let B=e.entities.getIn(["connectModules",`${R}__${F}__${i}`]);B&&(B=B.toJS());let K=!1;y&&(K=y.getIn(["settings","routeOverrideEnabled"]));const P=(0,o.Az)(i,e),k=(0,c.Hu)(e)&&(0,d.R0)(l);return{spaceKey:i,space:y,contentId:n,contentSlug:a,pathname:m,isRequesting:g,hasFetched:E,isFirstRoute:_,isAnonymous:(0,r.n7)(e),isViewPage:f,isSpaceOverview:k,hasSpaceHomeOverride:A,themeModuleKey:F,themeAddonKey:R,location:l,routeParams:t,isSpaceHomeOverrideDescriptorRequesting:O,spaceHomeOverrideDescriptor:B,isSpaceFound:S,lookAndFeel:(0,u.T)(e),isSpaceHomeOverrideEnabled:K,spaceHomePageId:P}}),(function(e){return{getSpaceByKey:t=>e((0,p.aW)(t)),goBackPreviousPage:()=>e((0,i.Hm)()),getSpaceHomeOverrideDescriptor:(t,n,a,s,i)=>{const o={"space.key":a,"content.id":s,"content.type":"page","user.id":i};return e((0,l.is)({addonKey:t,moduleKey:n,extraQueryParameters:o}))},replace:t=>e((0,i.gx)(t))}}))(U)},414398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(202784),s=n(213980),i=n.n(s);const o=a.createContext();o.displayName="MayRedirect",o.Provider.propTypes={value:i().func};const r=o},25074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(159394),s=n(202784),i=n(938545),o=n.n(i),r=n(641615);function c(e,t){return void 0===t&&(t={}),n=>i=>{const c=e(i),d=r.Z.get("site-title")||"";let p="";return p=c&&d?`${c} - ${d}`:c||d,s.createElement("div",{style:t},s.createElement(o(),{title:p}),s.createElement(n,(0,a.Z)({},i)))}}},507372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={isDashboard:e=>"/spa.action"===e,getSpaceKey:e=>{if("string"!=typeof e)return null;const t=e.match(/\/*spaces\/(.*?)\/overview/);return t?decodeURIComponent(t[1]):null},SITE_HOME_QUERY_KEY:"mode",SITE_HOME_QUERY_VALUE:"global"}},83941:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var a=n(24949),s=n(613318),i=n(507372);const o=(0,a.P1)([e=>e&&(0,s.Hu)(e)&&(0,s.Rs)(e)&&(0,s.Rs)(e).spaceKey||e.meta&&e.meta.get("space-key"),e=>(0,s.Hu)(e)&&(0,s.k$)(e).query[i.Z.SITE_HOME_QUERY_KEY]===i.Z.SITE_HOME_QUERY_VALUE,e=>e.views.app.lookAndFeelId,e=>e.entities.get("lookAndFeelSettings"),e=>e.entities.get("spaces")],((e,t,n,a,s)=>t||!e?((e,t)=>{if(!t)return{};const n=t.get(e);return n?n.toJS():{}})(n,a):((e,t)=>{const n=t.get(e);return n&&n.get("lookAndFeel")?n.get("lookAndFeel").toJS():{}})(e,s)))},361291:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,C:()=>c});var a=n(159394),s=n(213980),i=n.n(s),o=n(202784);const r=function(...e){return t=>{class n extends o.Component{UNSAFE_componentWillMount(){this.removeCss=this.context.insertCss.apply(void 0,e)}componentWillUnmount(){this.removeCss()}render(){return o.createElement(t,(0,a.Z)({},this.props))}}return n.displayName="StyledComponent",n.displayName=`WithStyles(${t.displayName||t.name||""})`,n.contextTypes={insertCss:i().func.isRequired},n}};const c=function(e){return t=>{class n extends o.Component{constructor(){super(),this.state={hasFetched:!1}}componentDidMount(){e().then((e=>{this.setState({hasFetched:!0}),this.removeCss=this.context.insertCss.apply(void 0,[e])}))}componentWillUnmount(){this.removeCss&&this.removeCss()}render(){return this.state.hasFetched?o.createElement(t,(0,a.Z)({},this.props)):null}}return n.displayName="StyledAsyncComponent",n.displayName=`WithStylesAsync(${t.displayName||t.name||""})`,n.contextTypes={insertCss:i().func.isRequired},n}}},524346:(e,t,n)=>{(t=e.exports=n(482609)(!1)).push([e.id,".SpaceBaseComponent_leaveFadeOut_qGz{opacity:1}.SpaceBaseComponent_leaveActiveFadeOut_38E{opacity:.01;transition:opacity .2s ease}.SpaceBaseComponent_leaveActiveFadeOutAndSlideUp_-F8{opacity:.01;transform:translateY(-50%);transition:opacity .2s ease,transform .2s ease}.SpaceBaseComponent_enterFadeIn_3jn{opacity:.01}.SpaceBaseComponent_enterActiveFadeIn_EUX{opacity:.99999;transition:opacity .2s ease}.SpaceBaseComponent_enterActiveFadeInWithDelay_2v6{-webkit-animation-name:SpaceBaseComponent_hidden-first-and-fade-in_3da;animation-name:SpaceBaseComponent_hidden-first-and-fade-in_3da;-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-timing-function:ease;animation-timing-function:ease}@-webkit-keyframes SpaceBaseComponent_hidden-first-and-fade-in_3da{0%,50%{opacity:.01;visibility:hidden;width:0;height:0}51%{opacity:.01;visibility:visible;width:auto;height:auto}to{opacity:1;visibility:visible;width:auto;height:auto}}@keyframes SpaceBaseComponent_hidden-first-and-fade-in_3da{0%,50%{opacity:.01;visibility:hidden;width:0;height:0}51%{opacity:.01;visibility:visible;width:auto;height:auto}to{opacity:1;visibility:visible;width:auto;height:auto}}.SpaceBaseComponent_hidden_1eB{visibility:hidden;width:0;height:0}",""]),t.locals={leaveFadeOut:"SpaceBaseComponent_leaveFadeOut_qGz",leaveActiveFadeOut:"SpaceBaseComponent_leaveActiveFadeOut_38E",leaveActiveFadeOutAndSlideUp:"SpaceBaseComponent_leaveActiveFadeOutAndSlideUp_-F8",enterFadeIn:"SpaceBaseComponent_enterFadeIn_3jn",enterActiveFadeIn:"SpaceBaseComponent_enterActiveFadeIn_EUX",enterActiveFadeInWithDelay:"SpaceBaseComponent_enterActiveFadeInWithDelay_2v6","hidden-first-and-fade-in":"SpaceBaseComponent_hidden-first-and-fade-in_3da",hidden:"SpaceBaseComponent_hidden_1eB"}},162558:(e,t,n)=>{var a=n(524346),s=n(417774);"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}}}]);
//# sourceMappingURL=94273.JqLiBbkLwR.js.map